(self.webpackChunkassignment1=self.webpackChunkassignment1||[]).push([[179],{8255:function(t){function e(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=function(){return[]},e.resolve=e,e.id=8255,t.exports=e},682:function(t,e,n){"use strict";function r(t){return"function"==typeof t}let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function s(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete(){}},u=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function c(t){return null!==t&&"object"==typeof t}const l=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let h=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:i,_unsubscribe:o,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(r(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(WT){e=WT instanceof l?f(WT.errors):[WT]}}if(u(s)){let t=-1,n=s.length;for(;++t<n;){const n=s[t];if(c(n))try{n.unsubscribe()}catch(WT){e=e||[],WT instanceof l?e=e.concat(f(WT.errors)):e.push(WT)}}}if(e)throw new l(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function f(t){return t.reduce((t,e)=>t.concat(e instanceof l?e.errors:e),[])}const d=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class p extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof p?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,t,e,n)}}[d](){return this}static create(t,e,n){const r=new p(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class g extends p{constructor(t,e,n,i){let o;super(),this._parentSubscriber=t;let s=this;r(e)?o=e:e&&(o=e.next,n=e.error,i=e.complete,e!==a&&(s=Object.create(e),r(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(s(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const m=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function v(t){return t}let y=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof p)return t;if(t[d])return t[d]()}return t||e||n?new p(t,e,n):new p(a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof p?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=b(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[m](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?v:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=b(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function b(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const w=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class _ extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class I extends p{constructor(t){super(t),this.destination=t}}let S=(()=>{class t extends y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[d](){return new I(this)}lift(t){const e=new E(this,this);return e.operator=t,e}next(t){if(this.closed)throw new w;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new w;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new w;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new w;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new w;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new _(this,t))}asObservable(){const t=new y;return t.source=this,t}}return t.create=(t,e)=>new E(t,e),t})();class E extends S{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function C(t){return t&&"function"==typeof t.schedule}function T(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new A(t,e))}}class A{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new x(t,this.project,this.thisArg))}}class x extends p{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const k=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()};function O(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const N=O(),D=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function P(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const R=t=>{if(t&&"function"==typeof t[m])return n=t,t=>{const e=n[m]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(D(t))return k(t);if(P(t))return(t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,s),e))(t);if(t&&"function"==typeof t[N])return e=t,t=>{const n=e[N]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=c(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n};function M(t,e){return new y(n=>{const r=new h;let i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function L(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[m]}(t))return function(t,e){return new y(n=>{const r=new h;return r.add(e.schedule(()=>{const i=t[m]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(P(t))return function(t,e){return new y(n=>{const r=new h;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(D(t))return M(t,e);if(function(t){return t&&"function"==typeof t[N]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new y(n=>{const r=new h;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[N](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof y?t:new y(R(t))}class F extends p{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class V extends p{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function U(t,e){if(e.closed)return;if(t instanceof y)return t.subscribe(e);let n;try{n=R(t)(e)}catch(r){e.error(r)}return n}function j(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(j((n,r)=>L(t(n,r)).pipe(T((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new q(t,n)))}class q{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new B(t,this.project,this.concurrent))}}class B extends V{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new F(this),n=this.destination;n.add(e);const r=U(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function H(t=Number.POSITIVE_INFINITY){return j(v,t)}function z(t,e){return e?M(t,e):new y(k(t))}function G(){return function(t){return t.lift(new K(t))}}class K{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new W(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class W extends p{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class $ extends y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new Y(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return G()(this)}}const Q=(()=>{const t=$.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class Y extends I{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function X(){return new S}function Z(t){for(let e in t)if(t[e]===Z)return e;throw Error("Could not find renamed property on target object.")}function J(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function tt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(tt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function et(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const nt=Z({__forward_ref__:Z});function rt(t){return t.__forward_ref__=rt,t.toString=function(){return tt(this())},t}function it(t){return ot(t)?t():t}function ot(t){return"function"==typeof t&&t.hasOwnProperty(nt)&&t.__forward_ref__===rt}class st extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function at(t){return"string"==typeof t?t:null==t?"":String(t)}function ut(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():at(t)}function ct(t,e){const n=e?` in ${e}`:"";throw new st("201",`No provider for ${ut(t)} found${n}`)}function lt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ht(t){return{providers:t.providers||[],imports:t.imports||[]}}function ft(t){return dt(t,gt)||dt(t,vt)}function dt(t,e){return t.hasOwnProperty(e)?t[e]:null}function pt(t){return t&&(t.hasOwnProperty(mt)||t.hasOwnProperty(yt))?t[mt]:null}const gt=Z({"\u0275prov":Z}),mt=Z({"\u0275inj":Z}),vt=Z({ngInjectableDef:Z}),yt=Z({ngInjectorDef:Z});var bt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let wt;function _t(t){const e=wt;return wt=t,e}function It(t,e,n){const r=ft(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&bt.Optional?null:void 0!==e?e:void ct(tt(t),"Injector")}function St(t){return{toString:t}.toString()}var Et=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),Ct=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const Tt="undefined"!=typeof globalThis&&globalThis,At="undefined"!=typeof window&&window,xt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,kt="undefined"!=typeof global&&global,Ot=Tt||kt||At||xt,Nt={},Dt=[],Pt=Z({"\u0275cmp":Z}),Rt=Z({"\u0275dir":Z}),Mt=Z({"\u0275pipe":Z}),Lt=Z({"\u0275mod":Z}),Ft=Z({"\u0275loc":Z}),Vt=Z({"\u0275fac":Z}),Ut=Z({__NG_ELEMENT_ID__:Z});let jt=0;function qt(t){return St(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Et.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Dt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Ct.Emulated,id:"c",styles:t.styles||Dt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=jt++,n.inputs=Kt(t.inputs,e),n.outputs=Kt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Bt):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(Ht):null,n})}function Bt(t){return Qt(t)||function(t){return t[Rt]||null}(t)}function Ht(t){return function(t){return t[Mt]||null}(t)}const zt={};function Gt(t){const e={type:t.type,bootstrap:t.bootstrap||Dt,declarations:t.declarations||Dt,imports:t.imports||Dt,exports:t.exports||Dt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&St(()=>{zt[t.id]=t.type}),e}function Kt(t,e){if(null==t)return Nt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const Wt=qt;function $t(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Qt(t){return t[Pt]||null}function Yt(t,e){const n=t[Lt]||null;if(!n&&!0===e)throw new Error(`Type ${tt(t)} does not have '\u0275mod' property.`);return n}function Xt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Zt(t){return Array.isArray(t)&&!0===t[1]}function Jt(t){return 0!=(8&t.flags)}function te(t){return 2==(2&t.flags)}function ee(t){return 1==(1&t.flags)}function ne(t){return null!==t.template}function re(t,e){return t.hasOwnProperty(Vt)?t[Vt]:null}class ie{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function oe(){return se}function se(t){return t.type.prototype.ngOnChanges&&(t.setInput=ue),ae}function ae(){const t=ce(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Nt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function ue(t,e,n,r){const i=ce(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Nt,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new ie(u&&u.currentValue,e,s===Nt),t[r]=e}function ce(t){return t.__ngSimpleChanges__||null}let le;function he(t){return!!t.listen}oe.ngInherit=!0;const fe={createRenderer:(t,e)=>void 0!==le?le:"undefined"!=typeof document?document:void 0};function de(t){for(;Array.isArray(t);)t=t[0];return t}function pe(t,e){return de(e[t])}function ge(t,e){return de(e[t.index])}function me(t,e){return t.data[e]}function ve(t,e){const n=e[t];return Xt(n)?n:n[0]}function ye(t){return 4==(4&t[2])}function be(t){return 128==(128&t[2])}function we(t,e){return null==e?null:t[e]}function _e(t){t[18]=0}function Ie(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Se={lFrame:Ge(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ee(){return Se.bindingsEnabled}function Ce(){return Se.lFrame.lView}function Te(){return Se.lFrame.tView}function Ae(t){return Se.lFrame.contextLView=t,t[8]}function xe(){let t=ke();for(;null!==t&&64===t.type;)t=t.parent;return t}function ke(){return Se.lFrame.currentTNode}function Oe(t,e){const n=Se.lFrame;n.currentTNode=t,n.isParent=e}function Ne(){return Se.lFrame.isParent}function De(){return Se.isInCheckNoChangesMode}function Pe(t){Se.isInCheckNoChangesMode=t}function Re(){return Se.lFrame.bindingIndex}function Me(){return Se.lFrame.bindingIndex++}function Le(t){const e=Se.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Fe(t,e){const n=Se.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ve(e)}function Ve(t){Se.lFrame.currentDirectiveIndex=t}function Ue(){return Se.lFrame.currentQueryIndex}function je(t){Se.lFrame.currentQueryIndex=t}function qe(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Be(t,e,n){if(n&bt.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&bt.Host||(r=qe(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Se.lFrame=ze();return r.currentTNode=e,r.lView=t,!0}function He(t){const e=ze(),n=t[1];Se.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ze(){const t=Se.lFrame,e=null===t?null:t.child;return null===e?Ge(t):e}function Ge(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Ke(){const t=Se.lFrame;return Se.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const We=Ke;function $e(){const t=Ke();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Qe(){return Se.lFrame.selectedIndex}function Ye(t){Se.lFrame.selectedIndex=t}function Xe(){const t=Se.lFrame;return me(t.tView,t.selectedIndex)}function Ze(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Je(t,e,n){nn(t,e,3,n)}function tn(t,e,n,r){(3&t[2])===n&&nn(t,e,n,r)}function en(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function nn(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(rn(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function rn(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}class on{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function sn(t,e,n){const r=he(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];un(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function an(t){return 3===t||4===t||6===t}function un(t){return 64===t.charCodeAt(0)}function cn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||ln(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function ln(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function hn(t){return-1!==t}function fn(t){return 32767&t}function dn(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let pn=!0;function gn(t){const e=pn;return pn=t,e}let mn=0;function vn(t,e){const n=bn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,yn(r.data,t),yn(e,null),yn(r.blueprint,null));const i=wn(t,e),o=t.injectorIndex;if(hn(i)){const t=fn(i),n=dn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function yn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function bn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function wn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function _n(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ut)&&(r=n[Ut]),null==r&&(r=n[Ut]=mn++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function In(t,e,n){if(n&bt.Optional)return t;ct(e,"NodeInjector")}function Sn(t,e,n,r){if(n&bt.Optional&&void 0===r&&(r=null),0==(n&(bt.Self|bt.Host))){const i=t[9],o=_t(void 0);try{return i?i.get(e,r,n&bt.Optional):It(e,r,n&bt.Optional)}finally{_t(o)}}return In(r,e,n)}function En(t,e,n,r=bt.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Ut)?t[Ut]:void 0;return"number"==typeof e?e>=0?255&e:Tn:e}(n);if("function"==typeof o){if(!Be(e,t,r))return r&bt.Host?In(i,n,r):Sn(e,n,r,i);try{const t=o(r);if(null!=t||r&bt.Optional)return t;ct(n)}finally{We()}}else if("number"==typeof o){let i=null,s=bn(t,e),a=-1,u=r&bt.Host?e[16][6]:null;for((-1===s||r&bt.SkipSelf)&&(a=-1===s?wn(t,e):e[s+8],-1!==a&&Nn(r,!1)?(i=e[1],s=fn(a),e=dn(a,e)):s=-1);-1!==s;){const t=e[1];if(On(o,s,t.data)){const t=An(s,e,n,i,r,u);if(t!==Cn)return t}a=e[s+8],-1!==a&&Nn(r,e[1].data[s+8]===u)&&On(o,s,e)?(i=t,s=fn(a),e=dn(a,e)):s=-1}}}return Sn(e,n,r,i)}const Cn={};function Tn(){return new Dn(xe(),Ce())}function An(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=xn(a,s,n,null==r?te(a)&&pn:r!=s&&0!=(3&a.type),i&bt.Host&&o===a);return null!==u?kn(e,s,u,a):Cn}function xn(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&ne(t)&&t.type===n)return u}return null}function kn(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof on){const s=i;s.resolving&&function(t,e){throw new st("200",`Circular dependency in DI detected for ${t}`)}(ut(o[n]));const a=gn(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?_t(s.injectImpl):null;Be(t,r,bt.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=se(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&_t(u),gn(a),s.resolving=!1,We()}}return i}function On(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Nn(t,e){return!(t&bt.Self||t&bt.Host&&e)}class Dn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return En(this._tNode,this._lView,t,void 0,e)}}function Pn(t){return St(()=>{const e=t.prototype.constructor,n=e[Vt]||Rn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Vt]||Rn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Rn(t){return ot(t)?()=>{const e=Rn(it(t));return e&&e()}:re(t)}function Mn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(an(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(xe(),t)}function Ln(t,e,n){return St(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class Fn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=lt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Vn=new Fn("AnalyzeForEntryComponents"),Un=Function;function jn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),jn(r,e)):e!==t&&e.push(r)}return e}function qn(t,e){t.forEach(t=>Array.isArray(t)?qn(t,e):e(t))}function Bn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Hn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function zn(t,e,n){let r=Kn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Gn(t,e){const n=Kn(t,e);if(n>=0)return t[1|n]}function Kn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const Wn={},$n=/\n/gm,Qn=Z({provide:String,useValue:Z});let Yn;function Xn(t){const e=Yn;return Yn=t,e}function Zn(t,e=bt.Default){if(void 0===Yn)throw new Error("inject() must be called from an injection context");return null===Yn?It(t,void 0,e):Yn.get(t,e&bt.Optional?null:void 0,e)}function Jn(t,e=bt.Default){return(wt||Zn)(it(t),e)}function tr(t){const e=[];for(let n=0;n<t.length;n++){const r=it(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=bt.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(Jn(t,n))}else e.push(Jn(r))}return e}function er(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const nr=er(Ln("Inject",t=>({token:t})),-1),rr=er(Ln("Optional"),8),ir=er(Ln("SkipSelf"),4);class or{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function sr(t){return t instanceof or?t.changingThisBreaksApplicationSecurity:t}const ar=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ur=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var cr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function lr(t){const e=function(){const t=Ce();return t&&t[12]}();return e?e.sanitize(cr.URL,t)||"":function(t,e){const n=function(t){return t instanceof or&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}(t,"URL")?sr(t):(n=at(t),(n=String(n)).match(ar)||n.match(ur)?n:"unsafe:"+n);var n}function hr(t,e){t.__ngContext__=e}function fr(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function dr(t){return t.ngDebugContext}function pr(t){return t.ngOriginalError}function gr(t,...e){t.error(...e)}class mr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||gr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?dr(t)?dr(t):this._findContext(pr(t)):null}_findOriginalError(t){let e=pr(t);for(;e&&pr(e);)e=pr(e);return e}}const vr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ot))();function yr(t){return t instanceof Function?t():t}var br=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function wr(t,e){return(void 0)(t,e)}function _r(t){const e=t[3];return Zt(e)?e[3]:e}function Ir(t){return Er(t[13])}function Sr(t){return Er(t[4])}function Er(t){for(;null!==t&&!Zt(t);)t=t[4];return t}function Cr(t,e,n,r,i){if(null!=r){let o,s=!1;Zt(r)?o=r:Xt(r)&&(s=!0,r=r[0]);const a=de(r);0===t&&null!==n?null==i?Dr(e,n,a):Nr(e,n,a,i||null,!0):1===t&&null!==n?Nr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Rr(t,e);r&&function(t,e,n,r){he(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==de(n)&&Cr(e,t,r,o,i);for(let s=10;s<n.length;s++){const i=n[s];jr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Tr(t,e,n){return he(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Ar(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ie(i,-1)),n.splice(r,1)}function xr(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Ar(o,r),e>0&&(t[n-1][4]=r[4]);const s=Hn(t,10+e);jr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function kr(t,e){if(!(256&e[2])){const n=e[11];he(n)&&n.destroyNode&&jr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Or(t[1],t);for(;e;){let n=null;if(Xt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Xt(e)&&Or(e[1],e),e=e[3];null===e&&(e=t),Xt(e)&&Or(e[1],e),n=e&&e[4]}e=n}}(e)}}function Or(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof on)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):de(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&he(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Zt(e[3])){n!==e[3]&&Ar(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Nr(t,e,n,r,i){he(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Dr(t,e,n){he(t)?t.appendChild(e,n):e.appendChild(n)}function Pr(t,e,n,r,i){null!==r?Nr(t,e,n,r,i):Dr(t,e,n)}function Rr(t,e){return he(t)?t.parentNode(e):e.parentNode}function Mr(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===Ct.None||e===Ct.Emulated)return null}return ge(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],s=function(t,e,n){return function(t,e,n){return 40&t.type?ge(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Pr(o,i,n[a],s,!1);else Pr(o,i,n,s,!1)}function Lr(t,e){if(null!==e){const n=e.type;if(3&n)return ge(e,t);if(4&n)return Vr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Lr(t,n);{const n=t[e.index];return Zt(n)?Vr(-1,n):de(n)}}if(32&n)return wr(e,t)()||de(t[e.index]);{const n=Fr(t,e);return null!==n?Array.isArray(n)?n[0]:Lr(_r(t[16]),n):Lr(t,e.next)}}return null}function Fr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Vr(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Lr(t,r)}return e[7]}function Ur(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&hr(de(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Ur(t,e,n.child,r,i,o,!1),Cr(e,t,i,a,o);else if(32&u){const s=wr(n,r);let u;for(;u=s();)Cr(e,t,i,u,o);Cr(e,t,i,a,o)}else 16&u?qr(t,e,r,n,i,o):Cr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function jr(t,e,n,r,i,o){Ur(n,r,t.firstChild,e,i,o,!1)}function qr(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Cr(e,t,i,a[u],o);else Ur(t,e,a,s[3],i,o,!0)}function Br(t,e,n){he(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Hr(t,e,n){he(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function zr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function Gr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==zr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Kr(t){return 4===t.type&&"ng-template"!==t.value}function Wr(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function $r(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(an(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Wr(t,u,n)||""===u&&1===e.length){if(Qr(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Gr(t.attrs,c,n)){if(Qr(r))return!1;s=!0}continue}const l=Yr(8&r?"class":u,i,Kr(t),n);if(-1===l){if(Qr(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==zr(e,c,0)||2&r&&c!==t){if(Qr(r))return!1;s=!0}}}}else{if(!s&&!Qr(r)&&!Qr(u))return!1;if(s&&Qr(u))continue;s=!1,r=u|1&r}}return Qr(r)||s}function Qr(t){return 0==(1&t)}function Yr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Xr(t,e,n=!1){for(let r=0;r<e.length;r++)if($r(t,e[r],n))return!0;return!1}function Zr(t,e){return t?":not("+e.trim()+")":e}function Jr(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Qr(s)||(e+=Zr(o,i),i=""),r=s,o=o||!Qr(r);n++}return""!==i&&(e+=Zr(o,i)),e}const ti={};function ei(t){ni(Te(),Ce(),Qe()+t,De())}function ni(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Je(e,r,n)}else{const r=t.preOrderHooks;null!==r&&tn(e,r,0,n)}Ye(n)}function ri(t,e){return t<<17|e<<2}function ii(t){return t>>17&32767}function oi(t){return 2|t}function si(t){return(131068&t)>>2}function ai(t,e){return-131069&t|e<<2}function ui(t){return 1|t}function ci(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];je(i),n.contentQueries(2,e[o],o)}}}function li(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,_e(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function hi(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=ke(),s=Ne(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),Se.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Se.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Oe(o,!0),o}function fi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function di(t,e,n){He(e);try{const r=t.viewQuery;null!==r&&Bi(1,r,n);const i=t.template;null!==i&&mi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ci(t,e),t.staticViewQueries&&Bi(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Fi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,$e()}}function pi(t,e,n,r){const i=e[2];if(256==(256&i))return;He(e);const o=De();try{_e(e),Se.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&mi(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&Je(e,n,null)}else{const n=t.preOrderHooks;null!==n&&tn(e,n,0,null),en(e,0)}if(function(t){for(let e=Ir(t);null!==e;e=Sr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Ie(r,1),n[2]|=1024}}}(e),function(t){for(let e=Ir(t);null!==e;e=Sr(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];be(n)&&pi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&ci(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&Je(e,n)}else{const n=t.contentHooks;null!==n&&tn(e,n,1),en(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)Ye(~r);else{const i=r,o=n[++t],s=n[++t];Fe(o,i),s(2,e[i])}}}finally{Ye(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Mi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Bi(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&Je(e,n)}else{const n=t.viewHooks;null!==n&&tn(e,n,2),en(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ie(e[3],-1))}finally{$e()}}function gi(t,e,n,r){const i=e[10],o=!De(),s=ye(e);try{o&&!s&&i.begin&&i.begin(),s&&di(t,e,r),pi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function mi(t,e,n,r,i){const o=Qe(),s=2&r;try{Ye(-1),s&&e.length>20&&ni(t,e,20,De()),n(r,i)}finally{Ye(o)}}function vi(t,e,n){Ee()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||vn(n,e),hr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=ne(r);o&&Ni(e,n,r);const u=kn(e,t,a,n);hr(u,e),null!==s&&Di(0,a-i,u,r,0,s),o&&(ve(n.index,e)[8]=u)}}(t,e,n,ge(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Se.lFrame.currentDirectiveIndex;try{Ye(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Ve(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Ti(r,i)}}finally{Ye(-1),Ve(s)}}(t,e,n))}function yi(t,e,n=ge){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function bi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=wi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function wi(t,e,n,r,i,o,s,a,u,c){const l=20+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ti);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function _i(t,e,n,r){const i=zi(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Gi(t).push(r,i.length-1))}function Ii(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Si(t,e,n,r,i,o,s,a){const u=ge(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(Wi(t,n,c,r,i),te(e)&&function(t,e){const n=ve(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,he(o)?o.setProperty(u,r,i):un(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Ei(t,e,n,r){let i=!1;if(Ee()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Xr(n,s.selectors,!1)&&(i||(i=[]),_n(vn(n,e),t,s.type),ne(s)?(Ai(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,ki(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=fi(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=cn(n.mergedAttrs,c.hostAttrs),Oi(t,n,e,u,c),xi(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Kr(e)?null:Pi(n,i);o.push(c),s=Ii(n,u,s),a=Ii(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new st("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=cn(n.mergedAttrs,n.attrs),i}function Ci(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function Ti(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ai(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function xi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ne(e)&&(n[""]=t)}}function ki(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Oi(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=re(i.type)),s=new on(o,ne(i),null);t.blueprint[r]=s,n[r]=s,Ci(t,e,0,r,fi(t,n,i.hostVars,ti),i)}function Ni(t,e,n){const r=ge(e,t),i=bi(n),o=t[10],s=Vi(t,li(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Di(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Pi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ri(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Mi(t,e){const n=ve(e,t);if(be(n)){const t=n[1];80&n[2]?pi(t,n,t.template,n[8]):n[5]>0&&Li(n)}}function Li(t){for(let n=Ir(t);null!==n;n=Sr(n))for(let t=10;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];pi(t,e,t.template,e[8])}else e[5]>0&&Li(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=ve(e[n],t);be(r)&&r[5]>0&&Li(r)}}function Fi(t,e){const n=ve(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),di(r,n,n[8])}function Vi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Ui(t){for(;t;){t[2]|=64;const e=_r(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function ji(t,e,n){const r=e[10];r.begin&&r.begin();try{pi(t,e,t.template,n)}catch(i){throw Ki(e,i),i}finally{r.end&&r.end()}}function qi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=fr(n),i=r[1];gi(i,r,i.template,n)}}(t[8])}function Bi(t,e,n){je(0),e(t,n)}const Hi=(()=>Promise.resolve(null))();function zi(t){return t[7]||(t[7]=[])}function Gi(t){return t.cleanup||(t.cleanup=[])}function Ki(t,e){const n=t[9],r=n?n.get(mr,null):null;r&&r.handleError(e)}function Wi(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function $i(t,e,n){const r=pe(e,t);!function(t,e,n){he(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function Qi(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=et(i,t):2==o&&(r=et(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Yi=new Fn("INJECTOR",-1);class Xi{get(t,e=Wn){if(e===Wn){const e=new Error(`NullInjectorError: No provider for ${tt(t)}!`);throw e.name="NullInjectorError",e}return e}}const Zi=new Fn("Set Injector scope."),Ji={},to={};let eo;function no(){return void 0===eo&&(eo=new Xi),eo}function ro(t,e=null,n=null,r){return new io(t,n,e||no(),r)}class io{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&qn(e,n=>this.processProvider(n,t,e)),qn([t],t=>this.processInjectorType(t,[],i)),this.records.set(Yi,ao(void 0,this));const o=this.records.get(Zi);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:tt(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Wn,n=bt.Default){this.assertNotDestroyed();const r=Xn(this);try{if(!(n&bt.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Fn)&&ft(t);e=n&&this.injectableDefInScope(n)?ao(oo(t),Ji):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&bt.Self?no():this.parent).get(t,e=n&bt.Optional&&e===Wn?null:e)}catch(WT){if("NullInjectorError"===WT.name){if((WT.ngTempTokenPath=WT.ngTempTokenPath||[]).unshift(tt(t)),r)throw WT;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=tt(e);if(Array.isArray(e))i=e.map(tt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):tt(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace($n,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(WT,t,"R3InjectorError",this.source)}throw WT}finally{Xn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(tt(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=it(t)))return!1;let r=pt(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=pt(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{qn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];qn(r,t=>this.processProvider(t,n,r||Dt))}}this.injectorDefTypes.add(o);const a=re(o)||(()=>new o);this.records.set(o,ao(a,Ji));const u=r.providers;if(null!=u&&!s){const e=t;qn(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=co(t=it(t))?t:it(t&&t.provide);const i=function(t,e,n){return uo(t)?ao(void 0,t.useValue):ao(so(t),Ji)}(t);if(co(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=ao(void 0,Ji,!0),e.factory=()=>tr(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Ji&&(e.value=to,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=it(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function oo(t){const e=ft(t),n=null!==e?e.factory:re(t);if(null!==n)return n;if(t instanceof Fn)throw new Error(`Token ${tt(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${tt(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[gt]||t[vt]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function so(t,e,n){let r;if(co(t)){const e=it(t);return re(e)||oo(e)}if(uo(t))r=()=>it(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...tr(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Jn(it(t.useExisting));else{const e=it(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return re(e)||oo(e);r=()=>new e(...tr(t.deps))}var i;return r}function ao(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function uo(t){return null!==t&&"object"==typeof t&&Qn in t}function co(t){return"function"==typeof t}const lo=function(t,e,n){return function(t,e=null,n=null,r){const i=ro(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let ho=(()=>{class t{static create(t,e){return Array.isArray(t)?lo(t,e,""):lo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Wn,t.NULL=new Xi,t.\u0275prov=lt({token:t,providedIn:"any",factory:()=>Jn(Yi)}),t.__NG_ELEMENT_ID__=-1,t})();function fo(t,e){Ze(fr(t)[1],xe())}function po(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(ne(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=go(t.inputs),e.declaredInputs=go(t.declaredInputs),e.outputs=go(t.outputs);const n=i.hostBindings;n&&yo(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&mo(t,o),s&&vo(t,s),J(t.inputs,i.inputs),J(t.declaredInputs,i.declaredInputs),J(t.outputs,i.outputs),ne(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===po&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=cn(i.hostAttrs,n=cn(n,i.hostAttrs))}}(r)}function go(t){return t===Nt?{}:t===Dt?[]:t}function mo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function vo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function yo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let bo=null;function wo(){if(!bo){const t=Ot.Symbol;if(t&&t.iterator)bo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(bo=n)}}}return bo}class _o{constructor(t){this.wrapped=t}static wrap(t){return new _o(t)}static unwrap(t){return _o.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof _o}}function Io(t){return!!So(t)&&(Array.isArray(t)||!(t instanceof Map)&&wo()in t)}function So(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Eo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Co(t,e,n,r){const i=Eo(t,e,n);return Eo(t,e+1,r)||i}function To(t,e,n,r){const i=Ce();return Eo(i,Me(),e)&&(Te(),function(t,e,n,r,i,o){const s=ge(t,e);!function(t,e,n,r,i,o,s){if(null==o)he(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?at(o):s(o,r||"",i);he(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(Xe(),i,t,e,n,r)),To}function Ao(t,e,n,r){return Eo(t,Me(),n)?e+at(n)+r:ti}function xo(t,e,n,r,i,o,s,a){const u=Ce(),c=Te(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=hi(e,t,4,s||null,we(c,a));Ei(e,n,l,we(c,u)),Ze(e,l);const h=l.tViews=wi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Oe(h,!1);const f=u[11].createComment("");Mr(c,u,f,h),hr(f,u),Vi(u,u[l]=Ri(f,u,f,h)),ee(h)&&vi(c,u,h),null!=s&&yi(u,h,a)}function ko(t,e=bt.Default){const n=Ce();return null===n?Jn(t,e):En(xe(),n,it(t),e)}function Oo(t,e,n){const r=Ce();return Eo(r,Me(),e)&&Si(Te(),Xe(),r,t,e,r[11],n,!1),Oo}function No(t,e,n,r,i){const o=i?"class":"style";Wi(t,n,e.inputs[o],o,r)}function Do(t,e,n,r){const i=Ce(),o=Te(),s=20+t,a=i[11],u=i[s]=Tr(a,e,Se.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=hi(e,t,2,i,we(a,o));return Ei(e,n,u,we(a,s)),null!==u.attrs&&Qi(u,u.attrs,!1),null!==u.mergedAttrs&&Qi(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Oe(c,!0);const l=c.mergedAttrs;null!==l&&sn(a,u,l);const h=c.classes;null!==h&&Hr(a,u,h);const f=c.styles;null!==f&&Br(a,u,f),64!=(64&c.flags)&&Mr(o,i,u,c),0===Se.lFrame.elementDepthCount&&hr(u,i),Se.lFrame.elementDepthCount++,ee(c)&&(vi(o,i,c),function(t,e,n){if(Jt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&yi(i,c)}function Po(){let t=xe();Ne()?Se.lFrame.isParent=!1:(t=t.parent,Oe(t,!1));const e=t;Se.lFrame.elementDepthCount--;const n=Te();n.firstCreatePass&&(Ze(n,t),Jt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&No(n,e,Ce(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&No(n,e,Ce(),e.stylesWithoutHost,!1)}function Ro(t,e,n,r){Do(t,e,n,r),Po()}function Mo(){return Ce()}function Lo(t){return!!t&&"function"==typeof t.then}const Fo=function(t){return!!t&&"function"==typeof t.subscribe};function Vo(t,e,n,r){const i=Ce(),o=Te(),s=xe();return function(t,e,n,r,i,o,s,a){const u=ee(r),c=t.firstCreatePass&&Gi(t),l=zi(e);let h=!0;if(3&r.type||a){const f=ge(r,e),d=a?a(f):f,p=l.length,g=a?t=>a(de(t[r.index])):r.index;if(he(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=jo(r,e,0,o,!1);const t=n.listen(d,i,o);l.push(o,t),c&&c.push(i,g,p,p+1)}}else o=jo(r,e,0,o,!0),d.addEventListener(i,o,s),l.push(o),c&&c.push(i,g,p,s)}else o=jo(r,e,0,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,!!n,r),Vo}function Uo(t,e,n,r){try{return!1!==n(r)}catch(i){return Ki(t,i),!1}}function jo(t,e,n,r,i){return function n(o){if(o===Function)return r;const s=2&t.flags?ve(t.index,e):e;0==(32&e[2])&&Ui(s);let a=Uo(e,0,r,o),u=n.__ngNextListenerFn__;for(;u;)a=Uo(e,0,u,o)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function qo(t=1){return function(t){return(Se.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Se.lFrame.contextLView))[8]}(t)}function Bo(t,e,n){return Ho(t,"",e,"",n),Bo}function Ho(t,e,n,r,i){const o=Ce(),s=Ao(o,e,n,r);return s!==ti&&Si(Te(),Xe(),o,t,s,o[11],i,!1),Ho}function zo(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?ii(o):si(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];Go(t[a],e)&&(u=!0,t[a+1]=r?ui(n):oi(n)),a=r?ii(n):si(n)}u&&(t[n+1]=r?oi(o):ui(o))}function Go(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Kn(t,e)>=0}const Ko={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Wo(t){return t.substring(Ko.key,Ko.keyEnd)}function $o(t,e){const n=Ko.textEnd;return n===e?-1:(e=Ko.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Ko.key=e,n),Qo(t,e,n))}function Qo(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Yo(t,e){return function(t,e,n,r){const i=Ce(),o=Te(),s=Le(2);o.firstUpdatePass&&ts(o,t,s,true),e!==ti&&Eo(i,s,e)&&rs(o,o.data[Qe()],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=tt(sr(t))),t}(e),true,s)}(t,e),Yo}function Xo(t){!function(t,e,n,r){const i=Te(),o=Le(2);i.firstUpdatePass&&ts(i,null,o,true);const s=Ce();if(n!==ti&&Eo(s,o,n)){const r=i.data[Qe()];if(ss(r,true)&&!Jo(i,o)){let t=r.classesWithoutHost;null!==t&&(n=et(t,n||"")),No(i,r,s,n,true)}else!function(t,e,n,r,i,o,s,a){i===ti&&(i=Dt);let u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const s=u<i.length?i[u+1]:void 0,f=c<o.length?o[c+1]:void 0;let d,p=null;l===h?(u+=2,c+=2,s!==f&&(p=h,d=f)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,d=f),null!==p&&rs(t,e,n,r,p,d,true,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,r,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return Dt;const r=[],i=sr(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,o)}}(zn,Zo,t)}function Zo(t,e){for(let n=function(t){return function(t){Ko.key=0,Ko.keyEnd=0,Ko.value=0,Ko.valueEnd=0,Ko.textEnd=t.length}(t),$o(t,Qo(t,0,Ko.textEnd))}(e);n>=0;n=$o(e,n))zn(t,Wo(e),!0)}function Jo(t,e){return e>=t.expandoStartIndex}function ts(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Qe()],s=Jo(t,n);ss(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Se.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=ns(n=es(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=es(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==si(r))return t[ii(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=es(null,t,e,n[1],r),n=ns(n,e.attrs,r),function(t,e,n,r){t[ii(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=ns(r,t[o].hostAttrs,n);return ns(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ii(s),u=si(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||Kn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=ii(t[a+1]);t[r+1]=ri(e,a),0!==e&&(t[e+1]=ai(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=ri(a,0),0!==a&&(t[a+1]=ai(t[a+1],r)),a=r;else t[r+1]=ri(u,0),0===a?a=r:t[u+1]=ai(t[u+1],r),u=r;l&&(t[r+1]=oi(t[r+1])),zo(t,c,r,!0),zo(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Kn(o,e)>=0&&(n[r+1]=ui(n[r+1]))}(e,c,t,r,o),s=ri(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function es(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=ns(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function ns(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),zn(t,s,!!n||e[++o]))}return void 0===t?null:t}function rs(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];os(1==(1&c)?is(u,e,n,i,si(c),s):void 0)||(os(o)||2==(2&c)&&(o=is(u,null,n,i,a,s)),function(t,e,n,r,i){const o=he(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:br.DashCase;if(null==i)o?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),e|=br.Important),o?t.setStyle(n,r,i,e):n.style.setProperty(r,i,s?"important":"")}}}(r,s,pe(Qe(),n),i,o))}function is(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===ti&&(l=c?Dt:void 0);let h=c?Gn(l,r):u===r?l:void 0;if(o&&!os(h)&&(h=Gn(e,r)),os(h)&&(a=h,s))return a;const f=t[i+1];i=s?ii(f):si(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=Gn(t,r))}return a}function os(t){return void 0!==t}function ss(t,e){return 0!=(t.flags&(e?16:32))}function as(t,e=""){const n=Ce(),r=Te(),i=t+20,o=r.firstCreatePass?hi(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return he(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Mr(r,n,s,o),Oe(o,!1)}function us(t){return cs("",t,""),us}function cs(t,e,n){const r=Ce(),i=Ao(r,t,e,n);return i!==ti&&$i(r,Qe(),i),cs}function ls(t,e,n,r,i){const o=Ce(),s=function(t,e,n,r,i,o){const s=Co(t,Re(),n,i);return Le(2),s?e+at(n)+r+at(i)+o:ti}(o,t,e,n,r,i);return s!==ti&&$i(o,Qe(),s),ls}function hs(t,e,n){const r=Ce();return Eo(r,Me(),e)&&Si(Te(),Xe(),r,t,e,r[11],n,!0),hs}const fs=void 0;var ds=["en",[["a","p"],["AM","PM"],fs],[["AM","PM"],fs,fs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fs,"{1} 'at' {0}",fs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ps={};function gs(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ms(e);if(n)return n;const r=e.split("-")[0];if(n=ms(r),n)return n;if("en"===r)return ds;throw new Error(`Missing locale data for the locale "${t}".`)}function ms(t){return t in ps||(ps[t]=Ot.ng&&Ot.ng.common&&Ot.ng.common.locales&&Ot.ng.common.locales[t]),ps[t]}var vs=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});let ys="en-US";function bs(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(ys=t.toLowerCase().replace(/_/g,"-"))}function ws(t,e,n,r,i){if(t=it(t),Array.isArray(t))for(let o=0;o<t.length;o++)ws(t[o],e,n,r,i);else{const o=Te(),s=Ce();let a=co(t)?t:it(t.provide),u=so(t);const c=xe(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(co(t)||!t.multi){const r=new on(u,i,ko),d=Ss(a,e,i?l:l+f,h);-1===d?(_n(vn(c,s),o,a),_s(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=Ss(a,e,l+f,h),p=Ss(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){_n(vn(c,s),o,a);const l=function(t,e,n,r,i){const o=new on(t,n,ko);return o.multi=[],o.index=e,o.componentProviders=0,Is(o,i,r&&!n),o}(i?Cs:Es,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),_s(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else _s(o,t,d>-1?d:p,Is(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function _s(t,e,n,r){const i=co(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function Is(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ss(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Es(t,e,n,r){return Ts(this.multi,[])}function Cs(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=kn(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),Ts(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],Ts(i,o);return o}function Ts(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function As(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Te();if(r.firstCreatePass){const i=ne(t);ws(n,r.data,r.blueprint,i,!0),ws(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class xs{}class ks{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${tt(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Os=(()=>{class t{}return t.NULL=new ks,t})();function Ns(...t){}function Ds(t,e){return new Rs(ge(t,e))}const Ps=function(){return Ds(xe(),Ce())};let Rs=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Ps,t})();function Ms(t){return t instanceof Rs?t.nativeElement:t}class Ls{}let Fs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Vs(),t})();const Vs=function(){const t=Ce(),e=ve(xe().index,t);return function(t){return t[11]}(Xt(e)?e:t)};let Us=(()=>{class t{}return t.\u0275prov=lt({token:t,providedIn:"root",factory:()=>null}),t})();class js{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const qs=new js("12.0.1");class Bs{constructor(){}supports(t){return Io(t)}create(t){return new zs(t)}}const Hs=(t,e)=>e;class zs{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Hs}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<$s(n,r,i)?e:n,s=$s(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Io(t))throw new Error(`Error trying to diff '${tt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[wo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Gs(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ws),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ws),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Gs{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ks{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Ws{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Ks,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $s(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Qs{constructor(){}supports(t){return t instanceof Map||So(t)}create(){return new Ys}}class Ys{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||So(t)))throw new Error(`Error trying to diff '${tt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Xs(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Xs{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Zs(){return new Js([new Bs])}let Js=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Zs()),deps:[[t,new ir,new rr]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=lt({token:t,providedIn:"root",factory:Zs}),t})();function ta(){return new ea([new Qs])}let ea=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||ta()),deps:[[t,new ir,new rr]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=lt({token:t,providedIn:"root",factory:ta}),t})();function na(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(de(o)),Zt(o))for(let t=10;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&na(e[1],e,n,r)}const s=n.type;if(8&s)na(t,e,n.child,r);else if(32&s){const t=wr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=Fr(e,n);if(Array.isArray(t))r.push(...t);else{const n=_r(e[16]);na(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class ra{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return na(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Zt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(xr(t,n),Hn(e,n))}this._attachedToViewContainer=!1}kr(this._lView[1],this._lView)}onDestroy(t){_i(this._lView[1],this._lView,null,t)}markForCheck(){Ui(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ji(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Pe(!0);try{ji(t,e,n)}finally{Pe(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,jr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ia extends ra{constructor(t){super(t),this._view=t}detectChanges(){qi(this._view)}checkNoChanges(){!function(t){Pe(!0);try{qi(t)}finally{Pe(!1)}}(this._view)}get context(){return null}}const oa=function(t){return function(t,e,n){if(te(t)&&!n){const n=ve(t.index,e);return new ra(n,n)}return 47&t.type?new ra(e[16],e):null}(xe(),Ce(),16==(16&t))};let sa=(()=>{class t{}return t.__NG_ELEMENT_ID__=oa,t})();const aa=[new Qs],ua=new Js([new Bs]),ca=new ea(aa),la=function(){return pa(xe(),Ce())};let ha=(()=>{class t{}return t.__NG_ELEMENT_ID__=la,t})();const fa=ha,da=class extends fa{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=li(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),di(e,n,t),new ra(n)}};function pa(t,e){return 4&t.type?new da(e,t,Ds(t,e)):null}class ga{}class ma{}const va=function(){return Sa(xe(),Ce())};let ya=(()=>{class t{}return t.__NG_ELEMENT_ID__=va,t})();const ba=ya,wa=class extends ba{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Ds(this._hostTNode,this._hostLView)}get injector(){return new Dn(this._hostTNode,this._hostLView)}get parentInjector(){const t=wn(this._hostTNode,this._hostLView);if(hn(t)){const e=dn(t,this._hostLView),n=fn(t);return new Dn(e[1].data[n+8],e)}return new Dn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=_a(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(ga,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(Zt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new wa(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],Bn(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=Vr(i,o),a=n[11],u=Rr(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,jr(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),Bn(Ia(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=_a(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=xr(this._lContainer,e);n&&(Hn(Ia(this._lContainer),e),kr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=xr(this._lContainer,e);return n&&null!=Hn(Ia(this._lContainer),e)?new ra(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function _a(t){return t[8]}function Ia(t){return t[8]||(t[8]=[])}function Sa(t,e){let n;const r=e[t.index];if(Zt(r))n=r;else{let i;if(8&t.type)i=de(r);else{const n=e[11];i=n.createComment("");const r=ge(t,e);Nr(n,Rr(n,r),i,function(t,e){return he(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Ri(r,e,i,t),Vi(e,n)}return new wa(n,t,e)}const Ea={};class Ca extends Os{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Qt(t);return new xa(e,this.ngModule)}}function Ta(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Aa=new Fn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>vr});class xa extends xs{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Jr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ta(this.componentDef.inputs)}get outputs(){return Ta(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Ea,i);return o!==Ea||r===Ea?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Ls,fe),s=i.get(Us,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(he(t))return t.selectRootElement(e,n===Ct.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Tr(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:vr,clean:Hi,playerHandler:null,flags:0},f=wi(0,null,null,1,0,null,null,null,null,null),d=li(null,f,h,l,null,null,o,a,s,i);let p,g;He(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=hi(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Qi(a,u,!0),null!==t&&(sn(i,t,u),null!==a.classes&&Hr(i,t,a.classes),null!==a.styles&&Br(i,t,a.styles)));const c=r.createRenderer(t,e),l=li(n,bi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(_n(vn(a,n),s,e.type),Ai(s,a),ki(a,n.length,1)),Vi(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)sn(a,c,["ng-version",qs.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Qr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&sn(a,c,t),e&&e.length>0&&Hr(a,c,e.join(" "))}if(g=me(f,20),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=xe();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Oi(t,r,e,fi(t,e,1,null),n));const i=kn(e,t,r.directiveStart,r);hr(i,e);const o=ge(r,e);return o&&hr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=xe();e.contentQueries(1,s,t.directiveStart)}const a=xe();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Ye(a.index),Ci(n[1],a,0,a.directiveStart,a.directiveEnd,e),Ti(e,s)),s}(t,this.componentDef,d,h,[fo]),di(f,d,null)}finally{$e()}return new ka(this.componentType,p,Ds(g,d),d,g)}}class ka extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new ia(r),this.componentType=t}get injector(){return new Dn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Oa=new Map;class Na extends ga{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ca(this);const n=Yt(t),r=t[Ft]||null;r&&bs(r),this._bootstrapComponents=yr(n.bootstrap),this._r3Injector=ro(t,e,[{provide:ga,useValue:this},{provide:Os,useValue:this.componentFactoryResolver}],tt(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=ho.THROW_IF_NOT_FOUND,n=bt.Default){return t===ho||t===ga||t===Yi?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Da extends ma{constructor(t){super(),this.moduleType=t,null!==Yt(t)&&function(t){const e=new Set;!function t(n){const r=Yt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${tt(e)} vs ${tt(e.name)}`)}(i,Oa.get(i),n),Oa.set(i,n));const o=yr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Na(this.moduleType,t)}}function Pa(t,e){const n=Te();let r;const i=t+20;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new st("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=re(r.type)),s=_t(ko);try{const t=gn(!1),e=o();return gn(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Ce(),i,e),e}finally{_t(s)}}function Ra(t,e,n,r){const i=t+20,o=Ce(),s=function(t,e){return t[e]}(o,i);return function(t,e){return _o.isWrapped(e)&&(e=_o.unwrap(e),t[Re()]=ti),e}(o,function(t,e){return t[1].data[e].pure}(o,i)?function(t,e,n,r,i,o,s){const a=e+n;return Co(t,a,i,o)?function(t,e,n){return t[e]=n}(t,a+2,s?r.call(s,i,o):r(i,o)):function(t,e){const n=t[e];return n===ti?void 0:n}(t,a+2)}(o,function(){const t=Se.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),e,s.transform,n,r,s):s.transform(n,r))}function Ma(t){return e=>{setTimeout(t,void 0,e)}}const La=class extends S{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,i,o;let s=t,a=e||(()=>null),u=n;if(t&&"object"==typeof t){const e=t;s=null===(r=e.next)||void 0===r?void 0:r.bind(e),a=null===(i=e.error)||void 0===i?void 0:i.bind(e),u=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}this.__isAsync&&(a=Ma(a),s&&(s=Ma(s)),u&&(u=Ma(u)));const c=super.subscribe({next:s,error:a,complete:u});return t instanceof h&&t.add(c),c}};function Fa(){return this._results[wo()]()}class Va{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=wo(),n=Va.prototype;n[e]||(n[e]=Fa)}get changes(){return this._changes||(this._changes=new La)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;const n=jn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ua{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ua(this.queryList)}setDirty(){this.queryList.setDirty()}}class ja{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new ja(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Xa(t,e).matches&&this.queries[e].setDirty()}}class qa{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Ba{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Ba(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ha{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ha(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,za(e,i)),this.matchTNodeWithReadOption(t,e,xn(e,t,i,!1,!1))}else n===ha?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,xn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Rs||r===ya||r===ha&&4&e.type)this.addMatch(e.index,-2);else{const n=xn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function za(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Ga(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Ds(t,e):4&t.type?pa(t,e):null}(e,t):-2===n?function(t,e,n){return n===Rs?Ds(e,t):n===ha?pa(e,t):n===ya?Sa(e,t):void 0}(t,e,r):kn(t,t[1],n,e)}function Ka(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Ga(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Wa(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Ka(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=10;t<s.length;t++){const e=s[t];e[17]===e[3]&&Wa(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Wa(n[1],n,i,r)}}}}}return r}function $a(t){const e=Ce(),n=Te(),r=Ue();je(r+1);const i=Xa(n,r);if(t.dirty&&ye(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Wa(n,e,r,[]):Ka(n,e,i,r);t.reset(o,Ms),t.notifyOnChanges()}return!0}return!1}function Qa(t,e,n,r){const i=Te();if(i.firstCreatePass){const o=xe();(function(t,e,n){null===t.queries&&(t.queries=new Ba),t.queries.track(new Ha(e,n))})(i,new qa(e,n,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function(t,e,n){const r=new Va(4==(4&n));_i(t,e,r,r.destroy),null===e[19]&&(e[19]=new ja),e[19].queries.push(new Ua(r))}(i,Ce(),n)}function Ya(){return t=Ce(),e=Ue(),t[19].queries[e].queryList;var t,e}function Xa(t,e){return t.queries.getByIndex(e)}const Za=new Fn("Application Initializer");let Ja=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Ns,this.reject=Ns,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();if(Lo(e))t.push(e);else if(Fo(e)){const n=new Promise((t,n)=>{e.subscribe({complete:t,error:n})});t.push(n)}}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Jn(Za,8))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();const tu=new Fn("AppId"),eu={provide:tu,useFactory:function(){return`${nu()}${nu()}${nu()}`},deps:[]};function nu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ru=new Fn("Platform Initializer"),iu=new Fn("Platform ID"),ou=new Fn("appBootstrapListener");let su=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();const au=new Fn("LocaleId"),uu=new Fn("DefaultCurrencyCode");class cu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const lu=function(t){return new Da(t)},hu=lu,fu=function(t){return Promise.resolve(lu(t))},du=function(t){const e=lu(t),n=yr(Yt(t).declarations).reduce((t,e)=>{const n=Qt(e);return n&&t.push(new xa(n)),t},[]);return new cu(e,n)},pu=du,gu=function(t){return Promise.resolve(du(t))};let mu=(()=>{class t{constructor(){this.compileModuleSync=hu,this.compileModuleAsync=fu,this.compileModuleAndAllComponentsSync=pu,this.compileModuleAndAllComponentsAsync=gu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();const vu=(()=>Promise.resolve(0))();function yu(t){"undefined"==typeof Zone?vu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class bu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new La(!1),this.onMicrotaskEmpty=new La(!1),this.onStable=new La(!1),this.onError=new La(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!n&&e,this.shouldCoalesceRunChangeDetection=n,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=Ot.requestAnimationFrame,e=Ot.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ot,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Iu(t),t.isCheckStableRunning=!0,_u(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Iu(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return Su(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),Eu(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return Su(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Eu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Iu(t),_u(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!bu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(bu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,wu,Ns,Ns);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const wu={};function _u(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Iu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Su(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Eu(t){t._nesting--,_u(t)}class Cu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new La,this.onMicrotaskEmpty=new La,this.onStable=new La,this.onError=new La}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Tu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{bu.assertNotInAngularZone(),yu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())yu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Jn(bu))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),Au=(()=>{class t{constructor(){this._applications=new Map,Ou.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Ou.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();class xu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let ku,Ou=new xu,Nu=!0,Du=!1;const Pu=new Fn("AllowMultipleToken");class Ru{constructor(t,e){this.name=t,this.token=e}}function Mu(t,e,n=[]){const r=`Platform: ${e}`,i=new Fn(r);return(e=[])=>{let o=Lu();if(!o||o.injector.get(Pu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Zi,useValue:"platform"});!function(t){if(ku&&!ku.destroyed&&!ku.injector.get(Pu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ku=t.get(Fu);const e=t.get(ru,null);e&&e.forEach(t=>t())}(ho.create({providers:t,name:r}))}return function(t){const e=Lu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Lu(){return ku&&!ku.destroyed?ku:null}let Fu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Cu:("zone.js"===t?void 0:t)||new bu({enableLongStackTrace:(Du=!0,Nu),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:bu,useValue:n}];return n.run(()=>{const e=ho.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(mr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{ju(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Lo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(WT){throw e.runOutsideAngular(()=>t.handleError(WT)),WT}}(o,n,()=>{const t=i.injector.get(Ja);return t.runInitializers(),t.donePromise.then(()=>(bs(i.injector.get(au,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Vu({},e);return function(t,e,n){const r=new Da(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Uu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${tt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Jn(ho))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();function Vu(t,e){return Array.isArray(e)?e.reduce(Vu,t):Object.assign(Object.assign({},t),e)}let Uu=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new y(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),s=new y(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{bu.assertNotInAngularZone(),yu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{bu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return C(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof y?t[0]:H(e)(z(t,n))}(o,s.pipe(t=>{return G()((e=X,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,Q);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof xs?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(ga),i=n.create(ho.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(Tu,null),a=s&&i.injector.get(Au);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),ju(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(WT){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(WT))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;ju(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ou,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Jn(bu),Jn(ho),Jn(mr),Jn(Os),Jn(Ja))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();function ju(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class qu{}class Bu{}const Hu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let zu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Hu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n(8255)(e).then(t=>t[r]).then(t=>Gu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Gu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Jn(mu),Jn(Bu,8))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();function Gu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Ku=Mu(null,"core",[{provide:iu,useValue:"unknown"},{provide:Fu,deps:[ho]},{provide:Au,deps:[]},{provide:su,deps:[]}]),Wu=[{provide:Uu,useClass:Uu,deps:[bu,ho,mr,Os,Ja]},{provide:Aa,deps:[bu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Ja,useClass:Ja,deps:[[new rr,Za]]},{provide:mu,useClass:mu,deps:[]},eu,{provide:Js,useFactory:function(){return ua},deps:[]},{provide:ea,useFactory:function(){return ca},deps:[]},{provide:au,useFactory:function(t){return bs(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new nr(au),new rr,new ir]]},{provide:uu,useValue:"USD"}];let $u=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(Jn(Uu))},t.\u0275mod=Gt({type:t}),t.\u0275inj=ht({providers:Wu}),t})(),Qu=null;function Yu(){return Qu}const Xu=new Fn("DocumentToken");let Zu=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({factory:Ju,token:t,providedIn:"platform"}),t})();function Ju(){return Jn(ec)}const tc=new Fn("Location Initialized");let ec=(()=>{class t extends Zu{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Yu().getBaseHref(this._doc)}onPopState(t){const e=Yu().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),()=>e.removeEventListener("popstate",t)}onHashChange(t){const e=Yu().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),()=>e.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){nc()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){nc()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(Jn(Xu))},t.\u0275prov=lt({factory:rc,token:t,providedIn:"platform"}),t})();function nc(){return!!window.history.pushState}function rc(){return new ec(Jn(Xu))}function ic(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function oc(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function sc(t){return t&&"?"!==t[0]?"?"+t:t}let ac=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({factory:uc,token:t,providedIn:"root"}),t})();function uc(t){const e=Jn(Xu).location;return new lc(Jn(Zu),e&&e.origin||"")}const cc=new Fn("appBaseHref");let lc=(()=>{class t extends ac{constructor(t,e){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ic(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+sc(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+sc(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+sc(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(Jn(Zu),Jn(cc,8))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),hc=(()=>{class t extends ac{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=e&&(this._baseHref=e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=ic(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+sc(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+sc(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(Jn(Zu),Jn(cc,8))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),fc=(()=>{class t{constructor(t,e){this._subject=new La,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=oc(pc(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+sc(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,pc(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+sc(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+sc(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformStrategy).historyGo)||void 0===n||n.call(e,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(Jn(ac),Jn(Zu))},t.normalizeQueryParams=sc,t.joinWithSlash=ic,t.stripTrailingSlash=oc,t.\u0275prov=lt({factory:dc,token:t,providedIn:"root"}),t})();function dc(){return new fc(Jn(ac),Jn(Zu))}function pc(t){return t.replace(/\/index.html$/,"")}var gc=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),mc=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),vc=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),yc=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),bc=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function wc(t,e){return Cc(gs(t)[vs.DateFormat],e)}function _c(t,e){return Cc(gs(t)[vs.TimeFormat],e)}function Ic(t,e){return Cc(gs(t)[vs.DateTimeFormat],e)}function Sc(t,e){const n=gs(t),r=n[vs.NumberSymbols][e];if(void 0===r){if(e===bc.CurrencyDecimal)return n[vs.NumberSymbols][bc.Decimal];if(e===bc.CurrencyGroup)return n[vs.NumberSymbols][bc.Group]}return r}function Ec(t){if(!t[vs.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[vs.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Cc(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function Tc(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const Ac=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,xc={},kc=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Oc=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),Nc=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),Dc=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function Pc(t,e,n,r){let i=function(t){if(Kc(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[e,n=1,r=1]=t.split("-").map(t=>+t);return Rc(e,n-1,r)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let n;if(n=t.match(Ac))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,u,c),e}(n)}const e=new Date(t);if(!Kc(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=Mc(n,e)||e;let o,s=[];for(;e;){if(o=kc.exec(e),!o){s.push(e);break}{s=s.concat(o.slice(1));const t=s.pop();if(!t)break;e=t}}let a=i.getTimezoneOffset();r&&(a=Gc(r,a),i=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(Gc(e,r)-r))}(i,r));let u="";return s.forEach(t=>{const e=function(t){if(zc[t])return zc[t];let e;switch(t){case"G":case"GG":case"GGG":e=Uc(Dc.Eras,vc.Abbreviated);break;case"GGGG":e=Uc(Dc.Eras,vc.Wide);break;case"GGGGG":e=Uc(Dc.Eras,vc.Narrow);break;case"y":e=Vc(Nc.FullYear,1,0,!1,!0);break;case"yy":e=Vc(Nc.FullYear,2,0,!0,!0);break;case"yyy":e=Vc(Nc.FullYear,3,0,!1,!0);break;case"yyyy":e=Vc(Nc.FullYear,4,0,!1,!0);break;case"Y":e=Hc(1);break;case"YY":e=Hc(2,!0);break;case"YYY":e=Hc(3);break;case"YYYY":e=Hc(4);break;case"M":case"L":e=Vc(Nc.Month,1,1);break;case"MM":case"LL":e=Vc(Nc.Month,2,1);break;case"MMM":e=Uc(Dc.Months,vc.Abbreviated);break;case"MMMM":e=Uc(Dc.Months,vc.Wide);break;case"MMMMM":e=Uc(Dc.Months,vc.Narrow);break;case"LLL":e=Uc(Dc.Months,vc.Abbreviated,mc.Standalone);break;case"LLLL":e=Uc(Dc.Months,vc.Wide,mc.Standalone);break;case"LLLLL":e=Uc(Dc.Months,vc.Narrow,mc.Standalone);break;case"w":e=Bc(1);break;case"ww":e=Bc(2);break;case"W":e=Bc(1,!0);break;case"d":e=Vc(Nc.Date,1);break;case"dd":e=Vc(Nc.Date,2);break;case"c":case"cc":e=Vc(Nc.Day,1);break;case"ccc":e=Uc(Dc.Days,vc.Abbreviated,mc.Standalone);break;case"cccc":e=Uc(Dc.Days,vc.Wide,mc.Standalone);break;case"ccccc":e=Uc(Dc.Days,vc.Narrow,mc.Standalone);break;case"cccccc":e=Uc(Dc.Days,vc.Short,mc.Standalone);break;case"E":case"EE":case"EEE":e=Uc(Dc.Days,vc.Abbreviated);break;case"EEEE":e=Uc(Dc.Days,vc.Wide);break;case"EEEEE":e=Uc(Dc.Days,vc.Narrow);break;case"EEEEEE":e=Uc(Dc.Days,vc.Short);break;case"a":case"aa":case"aaa":e=Uc(Dc.DayPeriods,vc.Abbreviated);break;case"aaaa":e=Uc(Dc.DayPeriods,vc.Wide);break;case"aaaaa":e=Uc(Dc.DayPeriods,vc.Narrow);break;case"b":case"bb":case"bbb":e=Uc(Dc.DayPeriods,vc.Abbreviated,mc.Standalone,!0);break;case"bbbb":e=Uc(Dc.DayPeriods,vc.Wide,mc.Standalone,!0);break;case"bbbbb":e=Uc(Dc.DayPeriods,vc.Narrow,mc.Standalone,!0);break;case"B":case"BB":case"BBB":e=Uc(Dc.DayPeriods,vc.Abbreviated,mc.Format,!0);break;case"BBBB":e=Uc(Dc.DayPeriods,vc.Wide,mc.Format,!0);break;case"BBBBB":e=Uc(Dc.DayPeriods,vc.Narrow,mc.Format,!0);break;case"h":e=Vc(Nc.Hours,1,-12);break;case"hh":e=Vc(Nc.Hours,2,-12);break;case"H":e=Vc(Nc.Hours,1);break;case"HH":e=Vc(Nc.Hours,2);break;case"m":e=Vc(Nc.Minutes,1);break;case"mm":e=Vc(Nc.Minutes,2);break;case"s":e=Vc(Nc.Seconds,1);break;case"ss":e=Vc(Nc.Seconds,2);break;case"S":e=Vc(Nc.FractionalSeconds,1);break;case"SS":e=Vc(Nc.FractionalSeconds,2);break;case"SSS":e=Vc(Nc.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=jc(Oc.Short);break;case"ZZZZZ":e=jc(Oc.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=jc(Oc.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=jc(Oc.Long);break;default:return null}return zc[t]=e,e}(t);u+=e?e(i,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Rc(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Mc(t,e){const n=function(t){return gs(t)[vs.LocaleId]}(t);if(xc[n]=xc[n]||{},xc[n][e])return xc[n][e];let r="";switch(e){case"shortDate":r=wc(t,yc.Short);break;case"mediumDate":r=wc(t,yc.Medium);break;case"longDate":r=wc(t,yc.Long);break;case"fullDate":r=wc(t,yc.Full);break;case"shortTime":r=_c(t,yc.Short);break;case"mediumTime":r=_c(t,yc.Medium);break;case"longTime":r=_c(t,yc.Long);break;case"fullTime":r=_c(t,yc.Full);break;case"short":const e=Mc(t,"shortTime"),n=Mc(t,"shortDate");r=Lc(Ic(t,yc.Short),[e,n]);break;case"medium":const i=Mc(t,"mediumTime"),o=Mc(t,"mediumDate");r=Lc(Ic(t,yc.Medium),[i,o]);break;case"long":const s=Mc(t,"longTime"),a=Mc(t,"longDate");r=Lc(Ic(t,yc.Long),[s,a]);break;case"full":const u=Mc(t,"fullTime"),c=Mc(t,"fullDate");r=Lc(Ic(t,yc.Full),[u,c])}return r&&(xc[n][e]=r),r}function Lc(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function Fc(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.substr(s.length-e)),o+s}function Vc(t,e,n=0,r=!1,i=!1){return function(o,s){let a=function(t,e){switch(t){case Nc.FullYear:return e.getFullYear();case Nc.Month:return e.getMonth();case Nc.Date:return e.getDate();case Nc.Hours:return e.getHours();case Nc.Minutes:return e.getMinutes();case Nc.Seconds:return e.getSeconds();case Nc.FractionalSeconds:return e.getMilliseconds();case Nc.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===Nc.Hours)0===a&&-12===n&&(a=12);else if(t===Nc.FractionalSeconds)return u=e,Fc(a,3).substr(0,u);var u;const c=Sc(s,bc.MinusSign);return Fc(a,e,c,r,i)}}function Uc(t,e,n=mc.Format,r=!1){return function(i,o){return function(t,e,n,r,i,o){switch(n){case Dc.Months:return function(t,e,n){const r=gs(t),i=Cc([r[vs.MonthsFormat],r[vs.MonthsStandalone]],e);return Cc(i,n)}(e,i,r)[t.getMonth()];case Dc.Days:return function(t,e,n){const r=gs(t),i=Cc([r[vs.DaysFormat],r[vs.DaysStandalone]],e);return Cc(i,n)}(e,i,r)[t.getDay()];case Dc.DayPeriods:const s=t.getHours(),a=t.getMinutes();if(o){const t=function(t){const e=gs(t);return Ec(e),(e[vs.ExtraData][2]||[]).map(t=>"string"==typeof t?Tc(t):[Tc(t[0]),Tc(t[1])])}(e),n=function(t,e,n){const r=gs(t);Ec(r);const i=Cc([r[vs.ExtraData][0],r[vs.ExtraData][1]],e)||[];return Cc(i,n)||[]}(e,i,r),o=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,r=s>=e.hours&&a>=e.minutes,i=s<n.hours||s===n.hours&&a<n.minutes;if(e.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(t.hours===s&&t.minutes===a)return!0;return!1});if(-1!==o)return n[o]}return function(t,e,n){const r=gs(t),i=Cc([r[vs.DayPeriodsFormat],r[vs.DayPeriodsStandalone]],e);return Cc(i,n)}(e,i,r)[s<12?0:1];case Dc.Eras:return function(t,e){return Cc(gs(t)[vs.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,o,t,e,n,r)}}function jc(t){return function(e,n,r){const i=-1*r,o=Sc(n,bc.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Oc.Short:return(i>=0?"+":"")+Fc(s,2,o)+Fc(Math.abs(i%60),2,o);case Oc.ShortGMT:return"GMT"+(i>=0?"+":"")+Fc(s,1,o);case Oc.Long:return"GMT"+(i>=0?"+":"")+Fc(s,2,o)+":"+Fc(Math.abs(i%60),2,o);case Oc.Extended:return 0===r?"Z":(i>=0?"+":"")+Fc(s,2,o)+":"+Fc(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}function qc(t){return Rc(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function Bc(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=qc(n),e=function(t){const e=Rc(t,0,1).getDay();return Rc(t,0,1+(e<=4?4:11)-e)}(t.getFullYear()),r=t.getTime()-e.getTime();i=1+Math.round(r/6048e5)}return Fc(i,t,Sc(r,bc.MinusSign))}}function Hc(t,e=!1){return function(n,r){return Fc(qc(n).getFullYear(),t,Sc(r,bc.MinusSign),e)}}const zc={};function Gc(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Kc(t){return t instanceof Date&&!isNaN(t.valueOf())}class Wc{}let $c=(()=>{class t extends Wc{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return gs(t)[vs.PluralCase]}(e||this.locale)(t)){case gc.Zero:return"zero";case gc.One:return"one";case gc.Two:return"two";case gc.Few:return"few";case gc.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(Jn(au))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();class Qc{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Yc=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(gf){throw new Error(`Cannot find a differ supporting object '${e}' of type '${t=e,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Qc(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new Xc(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new Xc(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(ko(ya),ko(ha),ko(Js))},t.\u0275dir=Wt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class Xc{constructor(t,e){this.record=t,this.view=e}}let Zc=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new Jc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){tl("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){tl("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(ko(ya),ko(ha))},t.\u0275dir=Wt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class Jc{constructor(){this.$implicit=null,this.ngIf=null}}function tl(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${tt(e)}'.`)}let el=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",r,i){if(null==e||""===e||e!=e)return null;try{return Pc(e,n,i||this.locale,r)}catch(o){throw function(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${tt(t)}'`)}(t,o.message)}}}return t.\u0275fac=function(e){return new(e||t)(ko(au,16))},t.\u0275pipe=$t({name:"date",type:t,pure:!0}),t})(),nl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Gt({type:t}),t.\u0275inj=ht({providers:[{provide:Wc,useClass:$c}]}),t})(),rl=(()=>{class t{}return t.\u0275prov=lt({token:t,providedIn:"root",factory:()=>new il(Jn(Xu),window)}),t})();class il{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=ol(this.window.history)||ol(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(gf){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(gf){return!1}}}function ol(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class sl extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new sl,Qu||(Qu=t)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(ul=ul||document.querySelector("base"),ul?ul.getAttribute("href"):null);return null==e?null:function(t){al=al||document.createElement("a"),al.setAttribute("href",t);const e=al.pathname;return"/"===e.charAt(0)?e:`/${e}`}(e)}resetBaseElement(){ul=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let al,ul=null;const cl=new Fn("TRANSITION_ID"),ll=[{provide:Za,useFactory:function(t,e,n){return()=>{n.get(Ja).donePromise.then(()=>{const n=Yu();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[cl,Xu,ho],multi:!0}];class hl{static init(){var t;t=new hl,Ou=t}addToWindow(t){Ot.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},Ot.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ot.getAllAngularRootElements=()=>t.getAllRootElements(),Ot.frameworkStabilizers||(Ot.frameworkStabilizers=[]),Ot.frameworkStabilizers.push(t=>{const e=Ot.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?Yu().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let fl=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();const dl=new Fn("EventManagerPlugins");let pl=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(Jn(dl),Jn(bu))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();class gl{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=Yu().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let ml=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),vl=(()=>{class t extends ml{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(yl),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(yl))}}return t.\u0275fac=function(e){return new(e||t)(Jn(Xu))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();function yl(t){Yu().remove(t)}const bl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},wl=/%COMP%/g;function _l(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?_l(t,i,n):(i=i.replace(wl,t),n.push(i))}return n}function Il(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Sl=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new El(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Ct.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Cl(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case Ct.ShadowDom:return new Tl(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=_l(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(Jn(pl),Jn(vl),Jn(tu))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();class El{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(bl[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=bl[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=bl[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(br.DashCase|br.Important)?t.style.setProperty(e,n,r&br.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&br.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Il(n)):this.eventManager.addEventListener(t,e,Il(n))}}class Cl extends El{constructor(t,e,n,r){super(t),this.component=n;const i=_l(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(wl,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(wl,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Tl extends El{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=_l(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Al=(()=>{class t extends gl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(Jn(Xu))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();const xl=["alt","control","meta","shift"],kl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ol={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Nl={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Dl=(()=>{class t extends gl{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Yu().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(xl.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Ol.hasOwnProperty(e)&&(e=Ol[e]))}return kl[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),xl.forEach(r=>{r!=n&&(0,Nl[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(Jn(Xu))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();const Pl=Mu(Ku,"browser",[{provide:iu,useValue:"browser"},{provide:ru,useValue:function(){sl.makeCurrent(),hl.init()},multi:!0},{provide:Xu,useFactory:function(){return function(t){le=t}(document),document},deps:[]}]),Rl=[[],{provide:Zi,useValue:"root"},{provide:mr,useFactory:function(){return new mr},deps:[]},{provide:dl,useClass:Al,multi:!0,deps:[Xu,bu,iu]},{provide:dl,useClass:Dl,multi:!0,deps:[Xu]},[],{provide:Sl,useClass:Sl,deps:[pl,vl,tu]},{provide:Ls,useExisting:Sl},{provide:ml,useExisting:vl},{provide:vl,useClass:vl,deps:[Xu]},{provide:Tu,useClass:Tu,deps:[bu]},{provide:pl,useClass:pl,deps:[dl,bu]},{provide:class{},useClass:fl,deps:[]},[]];let Ml=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:tu,useValue:e.appId},{provide:cl,useExisting:tu},ll]}}}return t.\u0275fac=function(e){return new(e||t)(Jn(t,12))},t.\u0275mod=Gt({type:t}),t.\u0275inj=ht({providers:Rl,imports:[nl,$u]}),t})();function Ll(t,e){return new y(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=L(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}"undefined"!=typeof window&&window;let Fl=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}setProperty(t,e){this._renderer.setProperty(this._elementRef.nativeElement,t,e)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(ko(Fs),ko(Rs))},t.\u0275dir=Wt({type:t}),t})(),Vl=(()=>{class t extends Fl{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Pn(t)))(n||t)}}(),t.\u0275dir=Wt({type:t,features:[po]}),t})();const Ul=new Fn("NgValueAccessor"),jl={provide:Ul,useExisting:rt(()=>Bl),multi:!0},ql=new Fn("CompositionEventMode");let Bl=(()=>{class t extends Fl{constructor(t,e,n){super(t,e),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Yu()?Yu().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(ko(Fs),ko(Rs),ko(ql,8))},t.\u0275dir=Wt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&Vo("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[As([jl]),po]}),t})();function Hl(t){return null==t||0===t.length}function zl(t){return null!=t&&"number"==typeof t.length}const Gl=new Fn("NgValidators"),Kl=new Fn("NgAsyncValidators"),Wl=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class $l{static min(t){return function(t){return e=>{if(Hl(e.value)||Hl(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(t)}static max(t){return function(t){return e=>{if(Hl(e.value)||Hl(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(t)}static required(t){return function(t){return Hl(t.value)?{required:!0}:null}(t)}static requiredTrue(t){return function(t){return!0===t.value?null:{required:!0}}(t)}static email(t){return function(t){return Hl(t.value)||Wl.test(t.value)?null:{email:!0}}(t)}static minLength(t){return function(t){return e=>Hl(e.value)||!zl(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static maxLength(t){return function(t){return e=>zl(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static pattern(t){return function(t){if(!t)return Ql;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Hl(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return eh(t)}static composeAsync(t){return rh(t)}}function Ql(t){return null}function Yl(t){return null!=t}function Xl(t){const e=Lo(t)?L(t):t;return Fo(e),e}function Zl(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Jl(t,e){return e.map(e=>e(t))}function th(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function eh(t){if(!t)return null;const e=t.filter(Yl);return 0==e.length?null:function(t){return Zl(Jl(t,e))}}function nh(t){return null!=t?eh(th(t)):null}function rh(t){if(!t)return null;const e=t.filter(Yl);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(u(e))return Ll(e,null);if(c(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Ll(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Ll(t=1===t.length&&u(t[0])?t[0]:t,null).pipe(T(t=>e(...t)))}return Ll(t,null)}(Jl(t,e).map(Xl)).pipe(T(Zl))}}function ih(t){return null!=t?rh(th(t)):null}function oh(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function sh(t){return t._rawValidators}function ah(t){return t._rawAsyncValidators}let uh=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=nh(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ih(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Wt({type:t}),t})(),ch=(()=>{class t extends uh{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Pn(t)))(n||t)}}(),t.\u0275dir=Wt({type:t,features:[po]}),t})();class lh extends uh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class hh{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let fh=(()=>{class t extends hh{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(ko(lh,2))},t.\u0275dir=Wt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&Yo("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[po]}),t})(),dh=(()=>{class t extends hh{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(ko(ch,10))},t.\u0275dir=Wt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&Yo("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[po]}),t})();function ph(t,e){vh(t,e),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&bh(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&bh(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function gh(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),yh(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function mh(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function vh(t,e){const n=sh(t);null!==e.validator?t.setValidators(oh(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=ah(t);null!==e.asyncValidator?t.setAsyncValidators(oh(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();mh(e._rawValidators,i),mh(e._rawAsyncValidators,i)}function yh(t,e){let n=!1;if(null!==t){if(null!==e.validator){const r=sh(t);if(Array.isArray(r)&&r.length>0){const i=r.filter(t=>t!==e.validator);i.length!==r.length&&(n=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const r=ah(t);if(Array.isArray(r)&&r.length>0){const i=r.filter(t=>t!==e.asyncValidator);i.length!==r.length&&(n=!0,t.setAsyncValidators(i))}}}const r=()=>{};return mh(e._rawValidators,r),mh(e._rawAsyncValidators,r),n}function bh(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function wh(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function _h(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===Bl?n=t:Object.getPrototypeOf(t.constructor)===Vl?r=t:i=t}),i||r||n||null}function Ih(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function Sh(t){return(Ah(t)?t.validators:t)||null}function Eh(t){return Array.isArray(t)?nh(t):t||null}function Ch(t,e){return(Ah(e)?e.asyncValidators:t)||null}function Th(t){return Array.isArray(t)?ih(t):t||null}function Ah(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class xh{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Eh(this._rawValidators),this._composedAsyncValidatorFn=Th(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Eh(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Th(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;const e=Xl(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Oh?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Nh&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new La,this.statusChanges=new La}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ah(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class kh extends xh{constructor(t=null,e,n){super(Sh(e),Ch(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Ih(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Ih(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Oh extends xh{constructor(t,e,n){super(Sh(e),Ch(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof kh?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Nh extends xh{constructor(t,e,n){super(Sh(e),Ch(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof kh?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Dh={provide:lh,useExisting:rt(()=>Rh)},Ph=(()=>Promise.resolve(null))();let Rh=(()=>{class t extends lh{constructor(t,e,n,r){super(),this.control=new kh,this._registered=!1,this.update=new La,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=_h(0,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),wh(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ph(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Ph.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Ph.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(ko(ch,9),ko(Gl,10),ko(Kl,10),ko(Ul,10))},t.\u0275dir=Wt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[As([Dh]),po,oe]}),t})(),Mh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Wt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),Lh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Gt({type:t}),t.\u0275inj=ht({}),t})();const Fh=new Fn("NgModelWithFormControlWarning"),Vh={provide:lh,useExisting:rt(()=>Uh)};let Uh=(()=>{class t extends lh{constructor(t,e,n,r){super(),this._ngModelWarningConfig=r,this.update=new La,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(e),this.valueAccessor=_h(0,n)}set isDisabled(t){}ngOnChanges(t){if(this._isControlChanged(t)){const e=t.form.previousValue;e&&gh(e,this,!1),ph(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}wh(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&gh(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return t.\u0275fac=function(e){return new(e||t)(ko(Gl,10),ko(Kl,10),ko(Ul,10),ko(Fh,8))},t.\u0275dir=Wt({type:t,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[As([Vh]),po,oe]}),t._ngModelWarningSentOnce=!1,t})();const jh={provide:ch,useExisting:rt(()=>qh)};let qh=(()=>{class t extends ch{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new La,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(yh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return ph(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){gh(t.control||null,t,!1),Ih(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(gh(e||null,t),n instanceof kh&&(ph(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);(function(t,e){vh(t,e)})(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return yh(t,e)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){vh(this.form,this),this._oldForm&&yh(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(ko(Gl,10),ko(Kl,10))},t.\u0275dir=Wt({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&Vo("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[As([jh]),po,oe]}),t})(),Bh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Gt({type:t}),t.\u0275inj=ht({imports:[[Lh]]}),t})(),Hh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Gt({type:t}),t.\u0275inj=ht({imports:[Bh]}),t})(),zh=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Fh,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Gt({type:t}),t.\u0275inj=ht({imports:[Bh]}),t})(),Gh=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r,i=null,o=null;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,o=null!=e.asyncValidators?e.asyncValidators:null,r=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,o=null!=e.asyncValidator?e.asyncValidator:null)),new Oh(n,{asyncValidators:o,updateOn:r,validators:i})}control(t,e,n){return new kh(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new Nh(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof kh||t instanceof Oh||t instanceof Nh?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({factory:function(){return new t},token:t,providedIn:zh}),t})();var Kh=function(t,e){return(Kh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Wh(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Kh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var $h=function(){return($h=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Qh(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(WT){o(WT)}}function a(t){try{u(r.throw(t))}catch(WT){o(WT)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function Yh(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(WT){o=[6,WT],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function Xh(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zh(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function Jh(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}var tf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function ef(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=ef(t[n],e[n]));return t}var nf=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function rf(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function of(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(WT){return!1}}var sf=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,af.prototype.create),o}return Wh(e,t),e}(Error),af=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?uf(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new sf(i,a,r);return u},t}();function uf(t,e){return t.replace(cf,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var cf=/\{\$([^}]+)}/g;function lf(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function hf(t,e){var n=new ff(t,e);return n.subscribe.bind(n)}var ff=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=df),void 0===r.error&&(r.error=df),void 0===r.complete&&(r.complete=df);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(WT){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(WT){"undefined"!=typeof console&&console.error&&console.error(WT)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function df(){}function pf(t){return t&&t._delegate?t._delegate:t}var gf,mf=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),vf=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new nf;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(WT){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=$h({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,r=this.normalizeInstanceIdentifier(e.identifier);if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(WT){if(n)return null;throw WT}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(WT){}try{for(var r=Xh(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=Zh(i.value,2),s=o[1],a=this.normalizeInstanceIdentifier(o[0]);try{var u=this.getOrInitializeService({instanceIdentifier:a});s.resolve(u)}catch(WT){}}}catch(c){e={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Qh(this,void 0,void 0,function(){var t;return Yh(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Jh(Jh([],Zh(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Zh(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.instanceIdentifier,i=t.options,o=void 0===i?{}:i,s=this.normalizeInstanceIdentifier(void 0===r?"[DEFAULT]":r);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var u=Xh(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=Zh(c.value,2),h=l[1];s===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(f){e={error:f}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(a,s),a},t.prototype.onInit=function(t){var e=this;return this.onInitCallbacks.add(t),function(){e.onInitCallbacks.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,r;try{for(var i=Xh(this.onInitCallbacks),o=i.next();!o.done;o=i.next()){var s=o.value;try{s(t,e)}catch(a){}}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(PT){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),yf=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new vf(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();function bf(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var wf,_f=[],If=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),Sf={debug:If.DEBUG,verbose:If.VERBOSE,info:If.INFO,warn:If.WARN,error:If.ERROR,silent:If.SILENT},Ef=If.INFO,Cf=((gf={})[If.DEBUG]="log",gf[If.VERBOSE]="log",gf[If.INFO]="info",gf[If.WARN]="warn",gf[If.ERROR]="error",gf),Tf=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=Cf[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,bf(["["+i+"]  "+t.name+":"],n))}},Af=function(){function t(t){this.name=t,this._logLevel=Ef,this._logHandler=Tf,this._userLogHandler=null,_f.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in If))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?Sf[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,bf([this,If.DEBUG],t)),this._logHandler.apply(this,bf([this,If.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,bf([this,If.VERBOSE],t)),this._logHandler.apply(this,bf([this,If.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,bf([this,If.INFO],t)),this._logHandler.apply(this,bf([this,If.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,bf([this,If.WARN],t)),this._logHandler.apply(this,bf([this,If.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,bf([this,If.ERROR],t)),this._logHandler.apply(this,bf([this,If.ERROR],t))},t}();function xf(t){_f.forEach(function(e){e.setLogLevel(t)})}var kf,Of=((wf={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",wf["bad-app-name"]="Illegal App name: '{$appName}",wf["duplicate-app"]="Firebase App named '{$appName}' already exists",wf["app-deleted"]="Firebase App named '{$appName}' already deleted",wf["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",wf["invalid-log-argument"]="First argument to `onLog` must be null or a function.",wf),Nf=new af("app","Firebase",Of),Df=((kf={})["@firebase/app"]="fire-core",kf["@firebase/analytics"]="fire-analytics",kf["@firebase/app-check"]="fire-app-check",kf["@firebase/auth"]="fire-auth",kf["@firebase/database"]="fire-rtdb",kf["@firebase/functions"]="fire-fn",kf["@firebase/installations"]="fire-iid",kf["@firebase/messaging"]="fire-fcm",kf["@firebase/performance"]="fire-perf",kf["@firebase/remote-config"]="fire-rc",kf["@firebase/storage"]="fire-gcs",kf["@firebase/firestore"]="fire-fst",kf["fire-js"]="fire-js",kf["firebase-wrapper"]="fire-js-all",kf),Pf=new Af("@firebase/app"),Rf=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=ef(void 0,t),this.container=new yf(e.name),this._addComponent(new mf("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(WT){Pf.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,WT)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Nf.create("app-deleted",{appName:this.name_})},t}();Rf.prototype.name&&Rf.prototype.options||Rf.prototype.delete||console.log("dc");var Mf=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw Nf.create("bad-app-name",{appName:String(s)});if(lf(e,s))throw Nf.create("duplicate-app",{appName:s});var a=new t(n,o,r);return e[s]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=Df[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void Pf.warn(u.join(" "))}o(new mf(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:xf,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw Nf.create("invalid-log-argument");!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=Sf[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:If[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=_f;r<i.length;r++)n(i[r])}(t,e)},apps:null,SDK_VERSION:"8.6.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!lf(e,t=t||"[DEFAULT]"))throw Nf.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return Pf.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var a=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw Nf.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&ef(a,o.serviceProps),r[s]=a,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,s).apply(this,o.multipleInstances?t:[])}}for(var u=0,c=Object.keys(e);u<c.length;u++)e[c[u]]._addComponent(o);return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(Rf);return e.INTERNAL=$h($h({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){ef(e,t)},createSubscribe:hf,ErrorFactory:af,deepExtend:ef}),e}(),Lf=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if("object"==typeof self&&self.self===self&&void 0!==self.firebase){Pf.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Ff=self.firebase.SDK_VERSION;Ff&&Ff.indexOf("LITE")>=0&&Pf.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Vf=Mf.initializeApp;Mf.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return of()&&Pf.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Vf.apply(void 0,t)};var Uf=Mf;!function(t,e){t.INTERNAL.registerComponent(new mf("platform-logger",function(t){return new Lf(t)},"PRIVATE")),t.registerVersion("@firebase/app","0.6.22",void 0),t.registerVersion("fire-js","")}(Uf);var jf=Uf;jf.registerVersion("firebase","8.6.2","app");var qf=function(t,e){return(qf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Bf(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Hf,zf="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Gf=Gf||{},Kf=zf||self;function Wf(){}function $f(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Qf(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Yf="closure_uid_"+(1e9*Math.random()>>>0),Xf=0;function Zf(t,e,n){return t.call.apply(t.bind,arguments)}function Jf(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function td(t,e,n){return(td=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Zf:Jf).apply(null,arguments)}function ed(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function nd(){return Date.now()}function rd(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function id(){this.j=this.j,this.i=this.i}id.prototype.j=!1,id.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Yf)&&t[Yf]||(t[Yf]=++Xf)}(this)},id.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var od=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},sd=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function ad(t){return Array.prototype.concat.apply([],arguments)}function ud(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function cd(t){return/^[\s\xa0]*$/.test(t)}var ld,hd=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function fd(t,e){return-1!=t.indexOf(e)}function dd(t,e){return t<e?-1:t>e?1:0}t:{var pd=Kf.navigator;if(pd){var gd=pd.userAgent;if(gd){ld=gd;break t}}ld=""}function md(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function vd(t){var e={};for(var n in t)e[n]=t[n];return e}var yd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bd(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<yd.length;o++)n=yd[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function wd(t){return wd[" "](t),t}wd[" "]=Wf;var _d,Id,Sd=fd(ld,"Opera"),Ed=fd(ld,"Trident")||fd(ld,"MSIE"),Cd=fd(ld,"Edge"),Td=Cd||Ed,Ad=fd(ld,"Gecko")&&!(fd(ld.toLowerCase(),"webkit")&&!fd(ld,"Edge"))&&!(fd(ld,"Trident")||fd(ld,"MSIE"))&&!fd(ld,"Edge"),xd=fd(ld.toLowerCase(),"webkit")&&!fd(ld,"Edge");function kd(){var t=Kf.document;return t?t.documentMode:void 0}t:{var Od="",Nd=(Id=ld,Ad?/rv:([^\);]+)(\)|;)/.exec(Id):Cd?/Edge\/([\d\.]+)/.exec(Id):Ed?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Id):xd?/WebKit\/(\S+)/.exec(Id):Sd?/(?:Version)[ \/]?(\S+)/.exec(Id):void 0);if(Nd&&(Od=Nd?Nd[1]:""),Ed){var Dd=kd();if(null!=Dd&&Dd>parseFloat(Od)){_d=String(Dd);break t}}_d=Od}var Pd={};function Rd(t){return function(t,e){var n=Pd;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=hd(String(_d)).split("."),r=hd(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=dd(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||dd(0==s[2].length,0==a[2].length)||dd(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var Md=Kf.document&&Ed&&(kd()||parseInt(_d,10))||void 0,Ld=!Ed||9<=Number(Md),Fd=Ed&&!Rd("9"),Vd=function(){if(!Kf.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Kf.addEventListener("test",Wf,e),Kf.removeEventListener("test",Wf,e)}catch(n){}return t}();function Ud(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function jd(t,e){if(Ud.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Ad){t:{try{wd(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:qd[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Ud.prototype.b=function(){this.defaultPrevented=!0},rd(jd,Ud);var qd={2:"touch",3:"pen",4:"mouse"};jd.prototype.b=function(){jd.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Fd)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Bd="closure_listenable_"+(1e6*Math.random()|0),Hd=0;function zd(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Hd,this.Y=this.Z=!1}function Gd(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Kd(t){this.src=t,this.a={},this.b=0}function Wd(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=od(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Gd(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function $d(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Kd.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=$d(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new zd(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Qd="closure_lm_"+(1e6*Math.random()|0),Yd={};function Xd(t,e,n,r,i){if(r&&r.once)return Jd(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Xd(t,e[o],n,r,i);return null}return n=ap(n),t&&t[Bd]?t.va(e,n,Qf(r)?!!r.capture:!!r,i):Zd(t,e,n,!1,r,i)}function Zd(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Qf(i)?!!i.capture:!!i;if(s&&!Ld)return null;var a=op(t);if(a||(t[Qd]=a=new Kd(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=ip,e=Ld?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Vd||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(np(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Jd(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Jd(t,e[o],n,r,i);return null}return n=ap(n),t&&t[Bd]?t.wa(e,n,Qf(r)?!!r.capture:!!r,i):Zd(t,e,n,!0,r,i)}function tp(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)tp(t,e[o],n,r,i);else r=Qf(r)?!!r.capture:!!r,n=ap(n),t&&t[Bd]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=$d(o=t.a[e],n,r,i))&&(Gd(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=op(t))&&(e=t.a[e.toString()],t=-1,e&&(t=$d(e,n,r,i)),(n=-1<t?e[t]:null)&&ep(n))}function ep(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Bd])Wd(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(np(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=op(e))?(Wd(n,t),0==n.b&&(n.src=null,e[Qd]=null)):Gd(t)}}}function np(t){return t in Yd?Yd[t]:Yd[t]="on"+t}function rp(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&ep(t),n.call(r,e)}function ip(t,e){if(t.Y)return!0;if(!Ld){if(!e)t:{e=["window","event"];for(var n=Kf,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return rp(t,e=new jd(e,this))}return rp(t,new jd(e,this))}function op(t){return(t=t[Qd])instanceof Kd?t:null}var sp="__closure_events_fn_"+(1e9*Math.random()>>>0);function ap(t){return"function"==typeof t?t:(t[sp]||(t[sp]=function(e){return t.handleEvent(e)}),t[sp])}function up(){id.call(this),this.c=new Kd(this),this.J=this,this.C=null}function cp(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Ud(e,t);else if(e instanceof Ud)e.target=e.target||t;else{var i=e;bd(e=new Ud(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=lp(s,r,!0,e)&&i}if(i=lp(s=e.a=t,r,!0,e)&&i,i=lp(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=lp(s=e.a=n[o],r,!1,e)&&i}function lp(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&Wd(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}rd(up,id),up.prototype[Bd]=!0,(Hf=up.prototype).addEventListener=function(t,e,n,r){Xd(this,t,e,n,r)},Hf.removeEventListener=function(t,e,n,r){tp(this,t,e,n,r)},Hf.G=function(){if(up.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Gd(n[r]);delete e.a[t],e.b--}}this.C=null},Hf.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Hf.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var hp=Kf.JSON.stringify;function fp(){this.b=this.a=null}var dp,pp=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new mp},function(t){t.reset()});function gp(){var t=wp,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function mp(){this.next=this.b=this.a=null}function vp(t){Kf.setTimeout(function(){throw t},0)}function yp(t,e){dp||function(){var t=Kf.Promise.resolve(void 0);dp=function(){t.then(_p)}}(),bp||(dp(),bp=!0),wp.add(t,e)}fp.prototype.add=function(t,e){var n=pp.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},mp.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},mp.prototype.reset=function(){this.next=this.b=this.a=null};var bp=!1,wp=new fp;function _p(){for(var t;t=gp();){try{t.a.call(t.b)}catch(n){vp(n)}var e=pp;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}bp=!1}function Ip(t,e){up.call(this),this.b=t||1,this.a=e||Kf,this.f=td(this.Za,this),this.g=nd()}function Sp(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Ep(t,e,n){if("function"==typeof t)n&&(t=td(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=td(t.handleEvent,t)}return 2147483647<Number(e)?-1:Kf.setTimeout(t,e||0)}function Cp(t){t.a=Ep(function(){t.a=null,t.c&&(t.c=!1,Cp(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}rd(Ip,up),(Hf=Ip.prototype).aa=!1,Hf.M=null,Hf.Za=function(){if(this.aa){var t=nd()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),cp(this,"tick"),this.aa&&(Sp(this),this.start()))}},Hf.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=nd())},Hf.G=function(){Ip.X.G.call(this),Sp(this),delete this.a};var Tp=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}qf(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Cp(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Kf.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(id);function Ap(t){id.call(this),this.b=t,this.a={}}rd(Ap,id);var xp=[];function kp(t,e,n,r){Array.isArray(n)||(n&&(xp[0]=n.toString()),n=xp);for(var i=0;i<n.length;i++){var o=Xd(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Op(t){md(t.a,function(t,e){this.a.hasOwnProperty(e)&&ep(t)},t),t.a={}}function Np(){this.a=!0}function Dp(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return hp(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Ap.prototype.G=function(){Ap.X.G.call(this),Op(this)},Ap.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Np.prototype.info=function(){};var Pp={},Rp=null;function Mp(){return Rp=Rp||new up}function Lp(t){Ud.call(this,Pp.Fa,t)}function Fp(t){var e=Mp();cp(e,new Lp(e,t))}function Vp(t,e){Ud.call(this,Pp.STAT_EVENT,t),this.stat=e}function Up(t){var e=Mp();cp(e,new Vp(e,t))}function jp(t){Ud.call(this,Pp.Ga,t)}function qp(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Kf.setTimeout(function(){t()},e)}Pp.Fa="serverreachability",rd(Lp,Ud),Pp.STAT_EVENT="statevent",rd(Vp,Ud),Pp.Ga="timingevent",rd(jp,Ud);var Bp={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Hp={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function zp(){}function Gp(){}zp.prototype.a=null;var Kp,Wp={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function $p(){Ud.call(this,"d")}function Qp(){Ud.call(this,"c")}function Yp(){}function Xp(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Ap(this),this.P=Zp,this.R=new Ip(t=Td?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}rd($p,Ud),rd(Qp,Ud),rd(Yp,zp),Kp=new Yp;var Zp=45e3,Jp={},tg={};function eg(t,e,n){t.H=1,t.i=Sg(vg(e)),t.j=n,t.I=!0,ng(t,null)}function ng(t,e){t.u=nd(),og(t),t.l=vg(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Lg(n.b,"t",r),t.D=0,t.a=Om(t.g,t.g.C?e:null),0<t.O&&(t.F=new Tp(td(t.Ca,t,t.a),t.O)),kp(t.J,t.a,"readystatechange",t.Xa),e=t.B?vd(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Fp(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function rg(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=ig(t,n);if(i==tg){4==e&&(t.h=4,Up(14),r=!1),Dp(t.c,t.f,null,"[Incomplete Response]");break}if(i==Jp){t.h=4,Up(15),Dp(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Dp(t.c,t.f,i,null),lg(t,i)}4==e&&0==n.length&&(t.h=1,Up(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Im(e),e.F=!0,Up(11))):(Dp(t.c,t.f,n,"[Invalid Chunked Response]"),cg(t),ug(t))}function ig(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?tg:(n=Number(e.substring(n,r)),isNaN(n)?Jp:(r+=1)+n>e.length?tg:(e=e.substr(r,n),t.D=r+n,e))}function og(t){t.T=nd()+t.P,sg(t,t.P)}function sg(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=qp(td(t.Va,t),e)}function ag(t){t.o&&(Kf.clearTimeout(t.o),t.o=null)}function ug(t){0==t.g.v||t.A||Cm(t.g,t)}function cg(t){ag(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Sp(t.R),Op(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function lg(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Hg(n.b,t)))if(n.I=t.N,!t.C&&Hg(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(lT){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Em(n),dm(n)}_m(n),Up(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=qp(td(n.Sa,n),6e3));if(1>=Bg(n.b)&&n.ea){try{n.ea()}catch(lT){}n.ea=void 0}}else Am(n,11)}else if((t.C||n.a==t)&&Em(n),!cd(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(fd(l,"spdy")||fd(l,"quic")||fd(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(zg(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Ig(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=nd()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=km(u,u.C?u.ga:null,u.fa),d.C){Gg(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(ag(p),og(p)),u.a=d}else wm(u);0<n.g.length&&mm(n)}else"stop"!=i[0]&&"close"!=i[0]||Am(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Am(n,7):fm(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Fp(4)}catch(lT){}}function hg(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if($f(t)||"string"==typeof t)sd(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if($f(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if($f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function fg(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof fg)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function dg(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];pg(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)pg(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function pg(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Hf=Xp.prototype).setTimeout=function(t){this.P=t},Hf.Xa=function(t){t=t.target;var e=this.F;e&&3==um(t)?e.f():this.Ca(t)},Hf.Ca=function(t){try{if(t==this.a)t:{var e=um(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Td&&!this.a.$())){this.A||4!=e||7==n||Fp(8==n||0>=r?3:2),ag(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!cd(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,Up(12),cg(this),ug(this);break t}Dp(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,lg(this,u)}this.I?(rg(this,e,o),Td&&this.b&&3==e&&(kp(this.J,this.R,"tick",this.Wa),this.R.start())):(Dp(this.c,this.f,o,null),lg(this,o)),4==e&&cg(this),this.b&&!this.A&&(4==e?Cm(this.g,this):(this.b=!1,og(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Up(12)):(this.h=0,Up(13)),cg(this),ug(this)}}}catch(fs){}},Hf.Wa=function(){if(this.a){var t=um(this.a),e=this.a.$();this.D<e.length&&(ag(this),rg(this,t,e),this.b&&4!=t&&og(this))}},Hf.cancel=function(){this.A=!0,cg(this)},Hf.Va=function(){this.o=null;var t=nd();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Fp(3),Up(17)),cg(this),this.h=2,ug(this)):sg(this,this.T-t)},(Hf=fg.prototype).K=function(){dg(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Hf.L=function(){return dg(this),this.a.concat()},Hf.get=function(t,e){return pg(this.b,t)?this.b[t]:e},Hf.set=function(t,e){pg(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Hf.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var gg=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function mg(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof mg){this.a=void 0!==e?e:t.a,yg(this,t.f),this.j=t.j,bg(this,t.c),wg(this,t.h),this.g=t.g,e=t.b;var n=new Dg;n.c=e.c,e.a&&(n.a=new fg(e.a),n.b=e.b),_g(this,n),this.i=t.i}else t&&(n=String(t).match(gg))?(this.a=!!e,yg(this,n[1]||"",!0),this.j=Eg(n[2]||""),bg(this,n[3]||"",!0),wg(this,n[4]),this.g=Eg(n[5]||"",!0),_g(this,n[6]||"",!0),this.i=Eg(n[7]||"")):(this.a=!!e,this.b=new Dg(null,this.a))}function vg(t){return new mg(t)}function yg(t,e,n){t.f=n?Eg(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function bg(t,e,n){t.c=n?Eg(e,!0):e}function wg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function _g(t,e,n){e instanceof Dg?(t.b=e,function(t,e){e&&!t.f&&(Pg(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Rg(this,e),Lg(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Cg(e,Og)),t.b=new Dg(e,t.a))}function Ig(t,e,n){t.b.set(e,n)}function Sg(t){return Ig(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^nd()).toString(36)),t}function Eg(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Cg(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Tg),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Tg(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}mg.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Cg(e,Ag,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Cg(e,Ag,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Cg(n,"/"==n.charAt(0)?kg:xg,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Cg(n,Ng)),t.join("")};var Ag=/[#\/\?@]/g,xg=/[#\?:]/g,kg=/[#\?]/g,Og=/[#\?@]/g,Ng=/#/g;function Dg(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Pg(t){t.a||(t.a=new fg,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Rg(t,e){Pg(t),e=Fg(t,e),pg(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,pg((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&dg(t)))}function Mg(t,e){return Pg(t),e=Fg(t,e),pg(t.a.b,e)}function Lg(t,e,n){Rg(t,e),0<n.length&&(t.c=null,t.a.set(Fg(t,e),ud(n)),t.b+=n.length)}function Fg(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Hf=Dg.prototype).add=function(t,e){Pg(this),this.c=null,t=Fg(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Hf.forEach=function(t,e){Pg(this),this.a.forEach(function(n,r){sd(n,function(n){t.call(e,n,r,this)},this)},this)},Hf.L=function(){Pg(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Hf.K=function(t){Pg(this);var e=[];if("string"==typeof t)Mg(this,t)&&(e=ad(e,this.a.get(Fg(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=ad(e,t[n])}return e},Hf.set=function(t,e){return Pg(this),this.c=null,Mg(this,t=Fg(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Hf.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Hf.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Vg=function(){return function(t,e){this.b=t,this.a=e}}();function Ug(t){this.g=t||jg,t=Kf.PerformanceNavigationTiming?0<(t=Kf.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Kf.ia&&Kf.ia.ya&&Kf.ia.ya()&&Kf.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var jg=10;function qg(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Bg(t){return t.b?1:t.a?t.a.size:0}function Hg(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function zg(t,e){t.a?t.a.add(e):t.b=e}function Gg(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Kg(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Bf(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return ud(t.c)}function Wg(){}function $g(){this.a=new Wg}function Qg(t,e,n){var r=n||"";try{hg(t,function(t,n){var i=t;Qf(t)&&(i=hp(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(WT){throw e.push(r+"type="+encodeURIComponent("_badmap")),WT}}function Yg(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Ug.prototype.cancel=function(){var t,e;if(this.c=Kg(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Bf(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Wg.prototype.stringify=function(t){return Kf.JSON.stringify(t,void 0)},Wg.prototype.parse=function(t){return Kf.JSON.parse(t,void 0)};var Xg=Kf.JSON.parse;function Zg(t){up.call(this),this.headers=new fg,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Jg,this.D=this.F=!1}rd(Zg,up);var Jg="",tm=/^https?$/i,em=["POST","PUT"];function nm(t){return"content-type"==t.toLowerCase()}function rm(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,im(t),sm(t)}function im(t){t.u||(t.u=!0,cp(t,"complete"),cp(t,"error"))}function om(t){if(t.b&&void 0!==Gf&&(!t.s[1]||4!=um(t)||2!=t.W()))if(t.l&&4==um(t))Ep(t.za,0,t);else if(cp(t,"readystatechange"),4==um(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(gg)[1]||null;if(!o&&Kf.self&&Kf.self.location){var s=Kf.self.location.protocol;o=s.substr(0,s.length-1)}i=!tm.test(o?o.toLowerCase():"")}e=i}if(e)cp(t,"complete"),cp(t,"success");else{t.h=6;try{var a=2<um(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",im(t)}}finally{sm(t)}}}function sm(t,e){if(t.a){am(t);var n=t.a,r=t.s[0]?Wf:null;t.a=null,t.s=null,e||cp(t,"ready");try{n.onreadystatechange=r}catch(WT){}}}function am(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Kf.clearTimeout(t.m),t.m=null)}function um(t){return t.a?t.a.readyState:0}function cm(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return md(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ig(t,e,n))}function lm(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function hm(t){this.pa=0,this.g=[],this.c=new Np,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=lm("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=lm("baseRetryDelayMs",5e3,t),this.Ra=lm("retryDelaySeedMs",1e4,t),this.Ma=lm("forwardChannelMaxRetries",2,t),this.ma=lm("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Ug(t&&t.concurrentRequestLimit),this.ka=new $g,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function fm(t){if(pm(t),3==t.v){var e=t.R++,n=vg(t.B);Ig(n,"SID",t.J),Ig(n,"RID",e),Ig(n,"TYPE","terminate"),ym(t,n),(e=new Xp(t,t.c,e,void 0)).H=2,e.i=Sg(vg(n)),n=!1,Kf.navigator&&Kf.navigator.sendBeacon&&(n=Kf.navigator.sendBeacon(e.i.toString(),"")),!n&&Kf.Image&&((new Image).src=e.i,n=!0),n||(e.a=Om(e.g,null),e.a.ba(e.i)),e.u=nd(),og(e)}xm(t)}function dm(t){t.a&&(Im(t),t.a.cancel(),t.a=null)}function pm(t){dm(t),t.j&&(Kf.clearTimeout(t.j),t.j=null),Em(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Kf.clearTimeout(t.h),t.h=null)}function gm(t,e){t.g.push(new Vg(t.Oa++,e)),3==t.v&&mm(t)}function mm(t){qg(t.b)||t.h||(t.h=!0,yp(t.Ba,t),t.u=0)}function vm(t,e){var n;n=e?e.f:t.R++;var r=vg(t.B);Ig(r,"SID",t.J),Ig(r,"RID",n),Ig(r,"AID",t.P),ym(t,r),t.i&&t.l&&cm(r,t.i,t.l),n=new Xp(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=bm(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),zg(t.b,n),eg(n,r,e)}function ym(t,e){t.f&&hg({},function(t,n){Ig(e,n,t)})}function bm(t,e,n){n=Math.min(t.g.length,n);var r=t.f?td(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{Qg(l,s,"req"+c+"_")}catch(sv){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function wm(t){t.a||t.j||(t.T=1,yp(t.Aa,t),t.o=0)}function _m(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=qp(td(t.Aa,t),Tm(t,t.o)),t.o++,0))}function Im(t){null!=t.s&&(Kf.clearTimeout(t.s),t.s=null)}function Sm(t){t.a=new Xp(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=vg(t.la);Ig(e,"RID","rpc"),Ig(e,"SID",t.J),Ig(e,"CI",t.H?"0":"1"),Ig(e,"AID",t.P),ym(t,e),Ig(e,"TYPE","xmlhttp"),t.i&&t.l&&cm(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Sg(vg(e)),n.j=null,n.I=!0,ng(n,t)}function Em(t){null!=t.m&&(Kf.clearTimeout(t.m),t.m=null)}function Cm(t,e){var n=null;if(t.a==e){Em(t),Im(t),t.a=null;var r=2}else{if(!Hg(t.b,e))return;n=e.s,Gg(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=nd()-e.u;var i=t.u;cp(r=Mp(),new jp(r,n,e,i)),mm(t)}else wm(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Bg(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=qp(td(t.Ba,t,e),Tm(t,t.u)),t.u++,0)))}(t,e)||2==r&&_m(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Am(t,5);break;case 4:Am(t,10);break;case 3:Am(t,6);break;default:Am(t,2)}}function Tm(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Am(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=td(t.Ya,t);n||(n=new mg("//www.google.com/images/cleardot.gif"),Kf.location&&"http"==Kf.location.protocol||yg(n,"https"),Sg(n)),function(t,e){var n=new Np;if(Kf.Image){var r=new Image;r.onload=ed(Yg,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ed(Yg,n,r,"TestLoadImage: error",!1,e),r.onabort=ed(Yg,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ed(Yg,n,r,"TestLoadImage: timeout",!1,e),Kf.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Up(2);t.v=0,t.f&&t.f.ra(e),xm(t),pm(t)}function xm(t){t.v=0,t.I=-1,t.f&&(0==Kg(t.b).length&&0==t.g.length||(t.b.c.length=0,ud(t.g),t.g.length=0),t.f.qa())}function km(t,e,n){var r=function(t){return t instanceof mg?vg(t):new mg(t,void 0)}(n);if(""!=r.c)e&&bg(r,e+"."+r.c),wg(r,r.h);else{var i=Kf.location;r=function(t,e,n,r){var i=new mg(null,void 0);return t&&yg(i,t),e&&bg(i,e),n&&wg(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&md(t.V,function(t,e){Ig(r,e,t)}),n=t.na,(e=t.A)&&n&&Ig(r,e,n),Ig(r,"VER",t.ha),ym(t,r),r}function Om(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Zg(t.Na)).F=t.C,e}function Nm(){}function Dm(){if(Ed&&!(10<=Number(Md)))throw Error("Environmental error: no available transport.")}function Pm(t,e){up.call(this),this.a=new hm(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!cd(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!cd(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Lm(this)}function Rm(t){$p.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Mm(){Qp.call(this),this.status=1}function Lm(t){this.a=t}(Hf=Zg.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Kp),this.a.onreadystatechange=td(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void rm(this,o)}t=n||"";var i=new fg(this.headers);r&&hg(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=nm,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Kf.FormData&&t instanceof Kf.FormData,!(0<=od(em,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{am(this),0<this.o&&((this.D=function(t){return Ed&&Rd(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=td(this.xa,this)):this.m=Ep(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){rm(this,o)}},Hf.xa=function(){void 0!==Gf&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,cp(this,"timeout"),this.abort(8))},Hf.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,cp(this,"complete"),cp(this,"abort"),sm(this))},Hf.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),sm(this,!0)),Zg.X.G.call(this)},Hf.za=function(){this.j||(this.A||this.l||this.g?om(this):this.Ua())},Hf.Ua=function(){om(this)},Hf.W=function(){try{return 2<um(this)?this.a.status:-1}catch(Id){return-1}},Hf.$=function(){try{return this.a?this.a.responseText:""}catch(Id){return""}},Hf.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Xg(e)}},Hf.ua=function(){return this.h},Hf.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Hf=hm.prototype).ha=8,Hf.v=1,Hf.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Xp(this,this.c,t,void 0),r=this.l;if(this.O&&(r?bd(r=vd(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=bm(this,n,e),Ig(i=vg(this.B),"RID",t),Ig(i,"CVER",22),this.A&&Ig(i,"X-HTTP-Session-Id",this.A),ym(this,i),this.i&&r&&cm(i,this.i,r),zg(this.b,n),this.Ia&&Ig(i,"TYPE","init"),this.da?(Ig(i,"$req",e),Ig(i,"SID","null"),n.U=!0,eg(n,i,null)):eg(n,i,e),this.v=2}}else 3==this.v&&(t?vm(this,t):0==this.g.length||qg(this.b)||vm(this))},Hf.Aa=function(){if(this.j=null,Sm(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=qp(td(this.Ta,this),t)}},Hf.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Up(10),dm(this),Sm(this))},Hf.Sa=function(){null!=this.m&&(this.m=null,dm(this),_m(this),Up(19))},Hf.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Up(2)):(this.c.info("Failed to ping google.com"),Up(1))},(Hf=Nm.prototype).ta=function(){},Hf.sa=function(){},Hf.ra=function(){},Hf.qa=function(){},Hf.Ja=function(){},Dm.prototype.a=function(t,e){return new Pm(t,e)},rd(Pm,up),Pm.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Up(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=km(t,null,t.fa),mm(t)},Pm.prototype.close=function(){fm(this.a)},Pm.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,gm(this.a,e)}else this.l?((e={}).__data__=hp(t),gm(this.a,e)):gm(this.a,t)},Pm.prototype.G=function(){this.a.f=null,delete this.f,fm(this.a),delete this.a,Pm.X.G.call(this)},rd(Rm,$p),rd(Mm,Qp),rd(Lm,Nm),Lm.prototype.ta=function(){cp(this.a,"a")},Lm.prototype.sa=function(t){cp(this.a,new Rm(t))},Lm.prototype.ra=function(t){cp(this.a,new Mm(t))},Lm.prototype.qa=function(){cp(this.a,"b")},Dm.prototype.createWebChannel=Dm.prototype.a,Pm.prototype.send=Pm.prototype.h,Pm.prototype.open=Pm.prototype.g,Pm.prototype.close=Pm.prototype.close,Bp.NO_ERROR=0,Bp.TIMEOUT=8,Bp.HTTP_ERROR=6,Hp.COMPLETE="complete",Gp.EventType=Wp,Wp.OPEN="a",Wp.CLOSE="b",Wp.ERROR="c",Wp.MESSAGE="d",up.prototype.listen=up.prototype.va,Zg.prototype.listenOnce=Zg.prototype.wa,Zg.prototype.getLastError=Zg.prototype.Qa,Zg.prototype.getLastErrorCode=Zg.prototype.ua,Zg.prototype.getStatus=Zg.prototype.W,Zg.prototype.getResponseJson=Zg.prototype.Pa,Zg.prototype.getResponseText=Zg.prototype.$,Zg.prototype.send=Zg.prototype.ba;var Fm=Bp,Vm=Hp,Um=Pp,jm=Gp,qm=Zg,Bm=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Bm.o=-1;var Hm={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},zm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Wh(e,t),e}(Error),Gm=new Af("@firebase/firestore");function Km(){return Gm.logLevel}function Wm(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Gm.logLevel<=If.DEBUG){var r=e.map(Ym);Gm.debug.apply(Gm,Jh(["Firestore (8.6.2): "+t],r))}}function $m(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Gm.logLevel<=If.ERROR){var r=e.map(Ym);Gm.error.apply(Gm,Jh(["Firestore (8.6.2): "+t],r))}}function Qm(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Gm.logLevel<=If.WARN){var r=e.map(Ym);Gm.warn.apply(Gm,Jh(["Firestore (8.6.2): "+t],r))}}function Ym(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(WT){return t}}function Xm(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.6.2) INTERNAL ASSERTION FAILED: "+t;throw $m(e),new Error(e)}function Zm(t,e){t||Xm()}function Jm(t,e){return t}function tv(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var ev=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=tv(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function nv(t,e){return t<e?-1:t>e?1:0}function rv(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function iv(t){return t+"\0"}var ov=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new zm(Hm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new zm(Hm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new zm(Hm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new zm(Hm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?nv(this.nanoseconds,t.nanoseconds):nv(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),sv=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new ov(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function av(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function uv(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cv(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var lv=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Xm(),void 0===n?n=t.length-e:n>t.length-e&&Xm(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),hv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wh(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new zm(Hm.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(lv),fv=/^[_a-zA-Z][_a-zA-Z0-9]*$/,dv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wh(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return fv.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new zm(Hm.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new zm(Hm.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new zm(Hm.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new zm(Hm.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(lv),pv=function(){function t(t){this.fields=t,t.sort(dv.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return rv(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),gv=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return nv(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();gv.EMPTY_BYTE_STRING=new gv("");var mv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vv(t){if(Zm(!!t),"string"==typeof t){var e=0,n=mv.exec(t);if(Zm(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:yv(t.seconds),nanos:yv(t.nanos)}}function yv(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function bv(t){return"string"==typeof t?gv.fromBase64String(t):gv.fromUint8Array(t)}function wv(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function _v(t){var e=t.mapValue.fields.__previous_value__;return wv(e)?_v(e):e}function Iv(t){var e=vv(t.mapValue.fields.__local_write_time__.timestampValue);return new ov(e.seconds,e.nanos)}function Sv(t){return null==t}function Ev(t){return 0===t&&1/t==-1/0}function Cv(t){return"number"==typeof t&&Number.isInteger(t)&&!Ev(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Tv=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(hv.fromString(e))},t.fromName=function(e){return new t(hv.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===hv.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return hv.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new hv(e.slice()))},t}();function Av(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?wv(t)?4:10:Xm()}function xv(t,e){var n=Av(t);if(n!==Av(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Iv(t).isEqual(Iv(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=vv(t.timestampValue),r=vv(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return bv(t.bytesValue).isEqual(bv(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return yv(t.geoPointValue.latitude)===yv(e.geoPointValue.latitude)&&yv(t.geoPointValue.longitude)===yv(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return yv(t.integerValue)===yv(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=yv(t.doubleValue),r=yv(e.doubleValue);return n===r?Ev(n)===Ev(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return rv(t.arrayValue.values||[],e.arrayValue.values||[],xv);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(av(n)!==av(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!xv(n[i],r[i])))return!1;return!0}(t,e);default:return Xm()}}function kv(t,e){return void 0!==(t.values||[]).find(function(t){return xv(t,e)})}function Ov(t,e){var n=Av(t),r=Av(e);if(n!==r)return nv(n,r);switch(n){case 0:return 0;case 1:return nv(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=yv(t.integerValue||t.doubleValue),r=yv(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Nv(t.timestampValue,e.timestampValue);case 4:return Nv(Iv(t),Iv(e));case 5:return nv(t.stringValue,e.stringValue);case 6:return function(t,e){var n=bv(t),r=bv(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=nv(n[i],r[i]);if(0!==o)return o}return nv(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=nv(yv(t.latitude),yv(e.latitude));return 0!==n?n:nv(yv(t.longitude),yv(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Ov(n[i],r[i]);if(o)return o}return nv(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=nv(r[s],o[s]);if(0!==a)return a;var u=Ov(n[r[s]],i[o[s]]);if(0!==u)return u}return nv(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Xm()}}function Nv(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return nv(t,e);var n=vv(t),r=vv(e),i=nv(n.seconds,r.seconds);return 0!==i?i:nv(n.nanos,r.nanos)}function Dv(t){return Pv(t)}function Pv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=vv(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?bv(t.bytesValue).toBase64():"referenceValue"in t?Tv.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Pv(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Pv(t.fields[o])}return e+"}"}(t.mapValue):Xm();var e}function Rv(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Mv(t){return!!t&&"integerValue"in t}function Lv(t){return!!t&&"arrayValue"in t}function Fv(t){return!!t&&"nullValue"in t}function Vv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Uv(t){return!!t&&"mapValue"in t}var jv=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(dv.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach(function(t,n){t?e.set(n,t):e.delete(n)})},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return xv(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Av(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,o=t.extractNestedValue(this.partialValue,e),s=Uv(o)?Object.assign({},o.mapValue.fields):{};return n.forEach(function(t,n){if(t instanceof Map){var o=r.applyOverlay(e.child(n),t);null!=o&&(s[n]=o,i=!0)}else null!==t?(s[n]=t,i=!0):s.hasOwnProperty(n)&&(delete s[n],i=!0)}),i?{mapValue:{fields:s}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(dv.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!Uv(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function qv(t){var e=[];return uv(t.fields||{},function(t,n){var r=new dv([t]);if(Uv(n)){var i=qv(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new pv(e)}var Bv=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,sv.min(),jv.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,jv.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,jv.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=jv.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=jv.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Hv=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function zv(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Hv(t,e,n,r,i,o,s)}function Gv(t){var e=Jm(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Dv(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),Sv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=iy(e.startAt)),e.endAt&&(n+="|ub:",n+=iy(e.endAt)),e.h=n}return e.h}function Kv(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!sy(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!xv(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!uy(t.startAt,e.startAt)&&uy(t.endAt,e.endAt)}function Wv(t){return Tv.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var $v=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Wh(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Qv(t,n,r):"array-contains"===n?new Jv(t,r):"in"===n?new ty(t,r):"not-in"===n?new ey(t,r):"array-contains-any"===n?new ny(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Yv(t,n):new Xv(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Ov(e,this.value)):null!==e&&Av(this.value)===Av(e)&&this.m(Ov(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Xm()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Qv=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Tv.fromName(r.referenceValue),i}return Wh(e,t),e.prototype.matches=function(t){var e=Tv.comparator(t.key,this.key);return this.m(e)},e}($v),Yv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Zv(0,n),r}return Wh(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}($v),Xv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Zv(0,n),r}return Wh(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}($v);function Zv(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Tv.fromName(t.referenceValue)})}var Jv=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Wh(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Lv(e)&&kv(e.arrayValue,this.value)},e}($v),ty=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Wh(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&kv(this.value.arrayValue,e)},e}($v),ey=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Wh(e,t),e.prototype.matches=function(t){if(kv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!kv(this.value.arrayValue,e)},e}($v),ny=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Wh(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Lv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return kv(e.value.arrayValue,t)})},e}($v),ry=function(t,e){this.position=t,this.before=e};function iy(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Dv(t)}).join(",")}var oy=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function sy(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function ay(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?Tv.comparator(Tv.fromName(s.referenceValue),n.key):Ov(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function uy(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!xv(t.position[n],e.position[n]))return!1;return!0}var cy=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function ly(t,e,n,r,i,o,s,a){return new cy(t,e,n,r,i,o,s,a)}function hy(t){return new cy(t)}function fy(t){return!Sv(t.limit)&&"F"===t.limitType}function dy(t){return!Sv(t.limit)&&"L"===t.limitType}function py(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function gy(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function my(t){return null!==t.collectionGroup}function vy(t){var e=Jm(t);if(null===e.p){e.p=[];var n=gy(e),r=py(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new oy(n)),e.p.push(new oy(dv.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new oy(dv.keyField(),u))}}}return e.p}function yy(t){var e=Jm(t);if(!e.T)if("F"===e.limitType)e.T=zv(e.path,e.collectionGroup,vy(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=vy(e);r<i.length;r++){var o=i[r];n.push(new oy(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new ry(e.endAt.position,!e.endAt.before):null,a=e.startAt?new ry(e.startAt.position,!e.startAt.before):null;e.T=zv(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function by(t,e,n){return new cy(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wy(t,e){return Kv(yy(t),yy(e))&&t.limitType===e.limitType}function _y(t){return Gv(yy(t))+"|lt:"+t.limitType}function Iy(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Dv(e.value);var e}).join(", ")+"]"),Sv(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+iy(t.startAt)),t.endAt&&(e+=", endAt: "+iy(t.endAt)),"Target("+e+")"}(yy(t))+"; limitType="+t.limitType+")"}function Sy(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Tv.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!ay(t.startAt,vy(t),e)||t.endAt&&ay(t.endAt,vy(t),e))}(t,e)}function Ey(t){return function(e,n){for(var r=!1,i=0,o=vy(t);i<o.length;i++){var s=o[i],a=Cy(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function Cy(t,e,n){var r=t.field.isKeyField()?Tv.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Ov(r,i):Xm()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Xm()}}function Ty(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ev(e)?"-0":e}}function Ay(t){return{integerValue:""+t}}function xy(t,e){return Cv(e)?Ay(e):Ty(t,e)}var ky=function(){this._=void 0};function Oy(t,e,n){return t instanceof Py?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ry?My(t,e):t instanceof Ly?Fy(t,e):function(t,e){var n=Dy(t,e),r=Uy(n)+Uy(t.A);return Mv(n)&&Mv(t.A)?Ay(r):Ty(t.R,r)}(t,e)}function Ny(t,e,n){return t instanceof Ry?My(t,e):t instanceof Ly?Fy(t,e):n}function Dy(t,e){return t instanceof Vy?Mv(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Py=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wh(e,t),e}(ky),Ry=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Wh(e,t),e}(ky);function My(t,e){for(var n=jy(e),r=function(t){n.some(function(e){return xv(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ly=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Wh(e,t),e}(ky);function Fy(t,e){for(var n=jy(e),r=function(t){n=n.filter(function(e){return!xv(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Vy=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Wh(e,t),e}(ky);function Uy(t){return yv(t.integerValue||t.doubleValue)}function jy(t){return Lv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var qy=function(t,e){this.field=t,this.transform=e},By=function(t,e){this.version=t,this.transformResults=e},Hy=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function zy(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Gy=function(){};function Ky(t,e,n){t instanceof Xy?function(t,e,n){var r=t.value.clone(),i=tb(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Zy?function(t,e,n){if(zy(t.precondition,e)){var r=tb(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Jy(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Wy(t,e,n){t instanceof Xy?function(t,e,n){if(zy(t.precondition,e)){var r=t.value.clone(),i=eb(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Yy(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Zy?function(t,e,n){if(zy(t.precondition,e)){var r=eb(t.fieldTransforms,n,e),i=e.data;i.setAll(Jy(t)),i.setAll(r),e.convertToFoundDocument(Yy(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){zy(t.precondition,e)&&e.convertToNoDocument(sv.min())}(t,e)}function $y(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=Dy(o.transform,s||null);null!=a&&(null==n&&(n=jv.empty()),n.set(o.field,a))}return n||null}function Qy(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&rv(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ry&&e instanceof Ry||t instanceof Ly&&e instanceof Ly?rv(t.elements,e.elements,xv):t instanceof Vy&&e instanceof Vy?xv(t.A,e.A):t instanceof Py&&e instanceof Py}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Yy(t){return t.isFoundDocument()?t.version:sv.min()}var Xy=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Wh(e,t),e}(Gy),Zy=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return Wh(e,t),e}(Gy);function Jy(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function tb(t,e,n){var r=new Map;Zm(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Ny(s,a,n[i]))}return r}function eb(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,Oy(a,u,e))}return r}var nb,rb,ib=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Wh(e,t),e}(Gy),ob=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Wh(e,t),e}(Gy),sb=function(t){this.count=t};function ab(t){switch(t){case Hm.OK:return Xm();case Hm.CANCELLED:case Hm.UNKNOWN:case Hm.DEADLINE_EXCEEDED:case Hm.RESOURCE_EXHAUSTED:case Hm.INTERNAL:case Hm.UNAVAILABLE:case Hm.UNAUTHENTICATED:return!1;case Hm.INVALID_ARGUMENT:case Hm.NOT_FOUND:case Hm.ALREADY_EXISTS:case Hm.PERMISSION_DENIED:case Hm.FAILED_PRECONDITION:case Hm.ABORTED:case Hm.OUT_OF_RANGE:case Hm.UNIMPLEMENTED:case Hm.DATA_LOSS:return!0;default:return Xm()}}function ub(t){if(void 0===t)return $m("GRPC error has no .code"),Hm.UNKNOWN;switch(t){case nb.OK:return Hm.OK;case nb.CANCELLED:return Hm.CANCELLED;case nb.UNKNOWN:return Hm.UNKNOWN;case nb.DEADLINE_EXCEEDED:return Hm.DEADLINE_EXCEEDED;case nb.RESOURCE_EXHAUSTED:return Hm.RESOURCE_EXHAUSTED;case nb.INTERNAL:return Hm.INTERNAL;case nb.UNAVAILABLE:return Hm.UNAVAILABLE;case nb.UNAUTHENTICATED:return Hm.UNAUTHENTICATED;case nb.INVALID_ARGUMENT:return Hm.INVALID_ARGUMENT;case nb.NOT_FOUND:return Hm.NOT_FOUND;case nb.ALREADY_EXISTS:return Hm.ALREADY_EXISTS;case nb.PERMISSION_DENIED:return Hm.PERMISSION_DENIED;case nb.FAILED_PRECONDITION:return Hm.FAILED_PRECONDITION;case nb.ABORTED:return Hm.ABORTED;case nb.OUT_OF_RANGE:return Hm.OUT_OF_RANGE;case nb.UNIMPLEMENTED:return Hm.UNIMPLEMENTED;case nb.DATA_LOSS:return Hm.DATA_LOSS;default:return Xm()}}(rb=nb||(nb={}))[rb.OK=0]="OK",rb[rb.CANCELLED=1]="CANCELLED",rb[rb.UNKNOWN=2]="UNKNOWN",rb[rb.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rb[rb.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rb[rb.NOT_FOUND=5]="NOT_FOUND",rb[rb.ALREADY_EXISTS=6]="ALREADY_EXISTS",rb[rb.PERMISSION_DENIED=7]="PERMISSION_DENIED",rb[rb.UNAUTHENTICATED=16]="UNAUTHENTICATED",rb[rb.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rb[rb.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rb[rb.ABORTED=10]="ABORTED",rb[rb.OUT_OF_RANGE=11]="OUT_OF_RANGE",rb[rb.UNIMPLEMENTED=12]="UNIMPLEMENTED",rb[rb.INTERNAL=13]="INTERNAL",rb[rb.UNAVAILABLE=14]="UNAVAILABLE",rb[rb.DATA_LOSS=15]="DATA_LOSS";var cb=function(){function t(t,e){this.comparator=t,this.root=e||hb.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,hb.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hb.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new lb(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new lb(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new lb(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new lb(this.root,t,this.comparator,!0)},t}(),lb=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),hb=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Xm();if(this.right.isRed())throw Xm();var t=this.left.check();if(t!==this.right.check())throw Xm();return t+(this.isRed()?0:1)},t}();hb.EMPTY=null,hb.RED=!0,hb.BLACK=!1,hb.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Xm()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Xm()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Xm()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Xm()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Xm()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new hb(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var fb=function(){function t(t){this.comparator=t,this.data=new cb(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new db(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new db(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),db=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),pb=new cb(Tv.comparator);function gb(){return pb}var mb=new cb(Tv.comparator);function vb(){return mb}var yb=new cb(Tv.comparator);function bb(){return yb}var wb=new fb(Tv.comparator);function _b(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=wb,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Ib=new fb(nv);function Sb(){return Ib}var Eb=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Cb.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(sv.min(),r,Sb(),gb(),_b())},t}(),Cb=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(gv.EMPTY_BYTE_STRING,n,_b(),_b(),_b())},t}(),Tb=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Ab=function(t,e){this.targetId=t,this.V=e},xb=function(t,e,n,r){void 0===n&&(n=gv.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},kb=function(){function t(){this.S=0,this.D=Db(),this.C=gv.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=_b(),e=_b(),n=_b();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Xm()}}),new Cb(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Db()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Ob=function(){function t(t){this.W=t,this.G=new Map,this.H=gb(),this.J=Nb(),this.Y=new fb(nv)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:Xm()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Wv(i))if(0===n){var o=new Tv(i.path);this.tt(e,o,Bv.newNoDocument(o,sv.min()))}else Zm(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.at=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&Wv(o.target)){var s=new Tv(o.target.path);null!==e.H.get(s)||e.ut(i,s)||e.tt(i,s,Bv.newNoDocument(s,t))}r.O&&(n.set(i,r.M()),r.L())}});var r=_b();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Eb(t,n,this.Y,this.H,r);return this.H=gb(),this.J=Nb(),this.Y=new fb(nv),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.ut(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.ut(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new kb,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new fb(nv),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Wm("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new kb),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.ut=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Nb(){return new cb(Tv.comparator)}function Db(){return new cb(Tv.comparator)}var Pb={asc:"ASCENDING",desc:"DESCENDING"},Rb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mb=function(t,e){this.databaseId=t,this.I=e};function Lb(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Fb(t,e){return t.I?e.toBase64():e.toUint8Array()}function Vb(t,e){return Lb(t,e.toTimestamp())}function Ub(t){return Zm(!!t),sv.fromTimestamp(function(t){var e=vv(t);return new ov(e.seconds,e.nanos)}(t))}function jb(t,e){return function(t){return new hv(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function qb(t){var e=hv.fromString(t);return Zm(hw(e)),e}function Bb(t,e){return jb(t.databaseId,e.path)}function Hb(t,e){var n=qb(e);if(n.get(1)!==t.databaseId.projectId)throw new zm(Hm.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new zm(Hm.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Tv(Wb(n))}function zb(t,e){return jb(t.databaseId,e)}function Gb(t){var e=qb(t);return 4===e.length?hv.emptyPath():Wb(e)}function Kb(t){return new hv(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Wb(t){return Zm(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function $b(t,e,n){return{name:Bb(t,e),fields:n.toProto().mapValue.fields}}function Qb(t,e,n){var r=Hb(t,e.name),i=Ub(e.updateTime),o=new jv({mapValue:{fields:e.fields}}),s=Bv.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Yb(t,e){var n;if(e instanceof Xy)n={update:$b(t,e.key,e.value)};else if(e instanceof ib)n={delete:Bb(t,e.key)};else if(e instanceof Zy)n={update:$b(t,e.key,e.data),updateMask:lw(e.fieldMask)};else{if(!(e instanceof ob))return Xm();n={verify:Bb(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Py)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ry)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ly)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Vy)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Xm()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Vb(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Xm()}(t,e.precondition)),n}function Xb(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Hy.updateTime(Ub(t.updateTime)):void 0!==t.exists?Hy.exists(t.exists):Hy.none()}(e.currentDocument):Hy.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Zm("REQUEST_TIME"===e.setToServerValue),n=new Py):"appendMissingElements"in e?n=new Ry(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Ly(e.removeAllFromArray.values||[]):"increment"in e?n=new Vy(t,e.increment):Xm();var r=dv.fromServerFormat(e.fieldPath);return new qy(r,n)}(t,e)}):[];if(e.update){var i=Hb(t,e.update.name),o=new jv({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new pv((t.fieldPaths||[]).map(function(t){return dv.fromServerFormat(t)}))}(e.updateMask);return new Zy(i,o,s,n,r)}return new Xy(i,o,n,r)}if(e.delete){var a=Hb(t,e.delete);return new ib(a,n)}if(e.verify){var u=Hb(t,e.verify);return new ob(u,n)}return Xm()}function Zb(t,e){return{documents:[zb(t,e.path)]}}function Jb(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=zb(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=zb(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Vv(t.value))return{unaryFilter:{field:sw(t.field),op:"IS_NAN"}};if(Fv(t.value))return{unaryFilter:{field:sw(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Vv(t.value))return{unaryFilter:{field:sw(t.field),op:"IS_NOT_NAN"}};if(Fv(t.value))return{unaryFilter:{field:sw(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sw(t.field),op:ow(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:sw(t.field),direction:iw(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||Sv(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=nw(e.startAt)),e.endAt&&(n.structuredQuery.endAt=nw(e.endAt)),n}function tw(t){var e=Gb(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Zm(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=ew(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new oy(aw(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return Sv(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=rw(n.startAt));var l=null;return n.endAt&&(l=rw(n.endAt)),ly(e,i,a,s,u,"F",c,l)}function ew(t){return t?void 0!==t.unaryFilter?[cw(t)]:void 0!==t.fieldFilter?[uw(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return ew(t)}).reduce(function(t,e){return t.concat(e)}):Xm():[]}function nw(t){return{before:t.before,values:t.position}}function rw(t){return new ry(t.values||[],!!t.before)}function iw(t){return Pb[t]}function ow(t){return Rb[t]}function sw(t){return{fieldPath:t.canonicalString()}}function aw(t){return dv.fromServerFormat(t.fieldPath)}function uw(t){return $v.create(aw(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Xm()}}(t.fieldFilter.op),t.fieldFilter.value)}function cw(t){switch(t.unaryFilter.op){case"IS_NAN":var e=aw(t.unaryFilter.field);return $v.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=aw(t.unaryFilter.field);return $v.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=aw(t.unaryFilter.field);return $v.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=aw(t.unaryFilter.field);return $v.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Xm()}}function lw(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function hw(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function fw(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=pw(e)),e=dw(t.get(n),e);return pw(e)}function dw(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function pw(t){return t+"\x01\x01"}function gw(t){var e=t.length;if(Zm(e>=2),2===e)return Zm("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),hv.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Xm(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Xm()}o=s+2}return new hv(r)}var mw=function(t,e){this.seconds=t,this.nanoseconds=e},vw=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};vw.store="owner",vw.key="owner";var yw=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};yw.store="mutationQueues",yw.keyPath="userId";var bw=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};bw.store="mutations",bw.keyPath="batchId",bw.userMutationsIndex="userMutationsIndex",bw.userMutationsKeyPath=["userId","batchId"];var ww=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,fw(e)]},t.key=function(t,e,n){return[t,fw(e),n]},t}();ww.store="documentMutations",ww.PLACEHOLDER=new ww;var _w=function(t,e){this.path=t,this.readTime=e},Iw=function(t,e){this.path=t,this.version=e},Sw=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Sw.store="remoteDocuments",Sw.readTimeIndex="readTimeIndex",Sw.readTimeIndexPath="readTime",Sw.collectionReadTimeIndex="collectionReadTimeIndex",Sw.collectionReadTimeIndexPath=["parentPath","readTime"];var Ew=function(t){this.byteSize=t};Ew.store="remoteDocumentGlobal",Ew.key="remoteDocumentGlobalKey";var Cw=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Cw.store="targets",Cw.keyPath="targetId",Cw.queryTargetsIndexName="queryTargetsIndex",Cw.queryTargetsKeyPath=["canonicalId","targetId"];var Tw=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Tw.store="targetDocuments",Tw.keyPath=["targetId","path"],Tw.documentTargetsIndex="documentTargetsIndex",Tw.documentTargetsKeyPath=["path","targetId"];var Aw=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Aw.key="targetGlobalKey",Aw.store="targetGlobal";var xw=function(t,e){this.collectionId=t,this.parent=e};xw.store="collectionParents",xw.keyPath=["collectionId","parent"];var kw=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};kw.store="clientMetadata",kw.keyPath="clientId";var Ow=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Ow.store="bundles",Ow.keyPath="bundleId";var Nw=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Nw.store="namedQueries",Nw.keyPath="name";var Dw=Jh(Jh([],Jh(Jh([],Jh(Jh([],Jh(Jh([],[yw.store,bw.store,ww.store,Sw.store,Cw.store,vw.store,Aw.store,Tw.store]),[kw.store])),[Ew.store])),[xw.store])),[Ow.store,Nw.store]),Pw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Rw=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Mw=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Lw=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Xm(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Fw=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Mw,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new jw(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Gw(e.target.error);n.ft.reject(new jw(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new jw(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Wm("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Bw(e)},t}(),Vw=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(rf())&&$m("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Wm("SimpleDb","Removing database:",t),Hw(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=rf(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Qh(this,void 0,void 0,function(){var e,n=this;return Yh(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Wm("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new jw(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new zm(Hm.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new jw(t,n))},i.onupgradeneeded=function(t){Wm("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Wm("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Qh(this,void 0,void 0,function(){var i,o,s,a,u;return Yh(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Yh(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=Fw.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),Lw.reject(t)}).toPromise(),u={},s.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return Wm("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Uw=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Hw(this.Pt.delete())},t}(),jw=function(t){function e(e,n){var r=this;return(r=t.call(this,Hm.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Wh(e,t),e}(zm);function qw(t){return"IndexedDbTransactionError"===t.name}var Bw=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Wm("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Wm("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Hw(n)},t.prototype.add=function(t){return Wm("SimpleDb","ADD",this.store.name,t,t),Hw(this.store.add(t))},t.prototype.get=function(t){var e=this;return Hw(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Wm("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Wm("SimpleDb","DELETE",this.store.name,t),Hw(this.store.delete(t))},t.prototype.count=function(){return Wm("SimpleDb","COUNT",this.store.name),Hw(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){Wm("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new Lw(function(n,r){e.onerror=function(t){var e=Gw(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new Lw(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Uw(i),s=e(i.primaryKey,i.value,o);if(s instanceof Lw){var a=s.catch(function(t){return o.done(),Lw.reject(t)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return Lw.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Hw(t){return new Lw(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Gw(t.target.error);n(e)}})}var zw=!1;function Gw(t){var e=Vw._t(rf());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new zm("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return zw||(zw=!0,setTimeout(function(){throw r},0)),r}}return t}var Kw=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Wh(e,t),e}(Rw);function Ww(t,e){var n=Jm(t);return Vw.It(n.Mt,e)}var $w=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Ky(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Wy(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Wy(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(sv.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},_b())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&rv(this.mutations,t.mutations,function(t,e){return Qy(t,e)})&&rv(this.baseMutations,t.baseMutations,function(t,e){return Qy(t,e)})},t}(),Qw=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Zm(e.mutations.length===r.length);for(var i=bb(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Yw=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=sv.min()),void 0===o&&(o=sv.min()),void 0===s&&(s=gv.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Xw=function(t){this.Lt=t};function Zw(t,e){if(e.document)return Qb(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Tv.fromSegments(e.noDocument.path),r=r_(e.noDocument.readTime),i=Bv.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=Tv.fromSegments(e.unknownDocument.path);return r=r_(e.unknownDocument.version),Bv.newUnknownDocument(o,r)}return Xm()}function Jw(t,e,n){var r=t_(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Bb(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:Lb(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new Sw(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=n_(e.version);return s=e.hasCommittedMutations,new Sw(null,new _w(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=n_(e.version);return new Sw(new Iw(c,l),null,null,!0,r,i)}return Xm()}function t_(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function e_(t){var e=new ov(t[0],t[1]);return sv.fromTimestamp(e)}function n_(t){var e=t.toTimestamp();return new mw(e.seconds,e.nanoseconds)}function r_(t){var e=new ov(t.seconds,t.nanoseconds);return sv.fromTimestamp(e)}function i_(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Xb(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return Xb(t.Lt,e)}),o=ov.fromMillis(e.localWriteTimeMs);return new $w(e.batchId,o,n,i)}function o_(t){var e,n,r=r_(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?r_(t.lastLimboFreeSnapshotVersion):sv.min();return void 0!==t.query.documents?(Zm(1===(n=t.query).documents.length),e=yy(hy(Gb(n.documents[0])))):e=function(t){return yy(tw(t))}(t.query),new Yw(e,t.targetId,0,t.lastListenSequenceNumber,r,i,gv.fromBase64String(t.resumeToken))}function s_(t,e){var n,r=n_(e.snapshotVersion),i=n_(e.lastLimboFreeSnapshotVersion);n=Wv(e.target)?Zb(t.Lt,e.target):Jb(t.Lt,e.target);var o=e.resumeToken.toBase64();return new Cw(e.targetId,Gv(e.target),r,o,e.sequenceNumber,i,n)}function a_(t){var e=tw({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?by(e,e.limit,"L"):e}var u_=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return c_(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:r_(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return c_(t).put({bundleId:(n=e).id,createTime:n_(Ub(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return l_(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:a_(e.bundledQuery),readTime:r_(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return l_(t).put(function(t){return{name:t.name,readTime:n_(Ub(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function c_(t){return Ww(t,Ow.store)}function l_(t){return Ww(t,Nw.store)}var h_=function(){function t(){this.Bt=new f_}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Lw.resolve()},t.prototype.getCollectionParents=function(t,e){return Lw.resolve(this.Bt.getEntries(e))},t}(),f_=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new fb(hv.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new fb(hv.comparator)).toArray()},t}(),d_=function(){function t(){this.qt=new f_}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:fw(i)};return p_(t).put(o)}return Lw.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[iv(e),""],!1,!0);return p_(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(gw(o.parent))}return n})},t}();function p_(t){return Ww(t,xw.store)}var g_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},m_=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function v_(t,e,n){var r=t.store(bw.store),i=t.store(ww.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.Ot({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){Zm(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=ww.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Lw.waitFor(o).next(function(){return c})}function y_(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Xm();e=t.noDocument}return JSON.stringify(e).length}m_.DEFAULT_COLLECTION_PERCENTILE=10,m_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,m_.DEFAULT=new m_(41943040,m_.DEFAULT_COLLECTION_PERCENTILE,m_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),m_.DISABLED=new m_(-1,0,0);var b_=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return Zm(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return __(t).Ot({index:bw.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=I_(t),s=__(t);return s.add({}).next(function(a){Zm("number"==typeof a);for(var u=new $w(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Yb(t.Lt,e)}),i=n.mutations.map(function(e){return Yb(t.Lt,e)});return new bw(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new fb(function(t,e){return nv(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],g=ww.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,ww.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[a]=u.keys()}),Lw.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return __(t).get(e).next(function(t){return t?(Zm(t.userId===n.userId),i_(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?Lw.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return __(t).Ot({index:bw.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Zm(e.batchId>=r),o=i_(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return __(t).Ot({index:bw.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return __(t).Nt(bw.userMutationsIndex,n).next(function(t){return t.map(function(t){return i_(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=ww.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return I_(t).Ot({range:i},function(r,i,s){var a=r[0],u=r[2],c=gw(r[1]);if(a===n.userId&&e.path.isEqual(c))return __(t).get(u).next(function(t){if(!t)throw Xm();Zm(t.userId===n.userId),o.push(i_(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new fb(nv),i=[];return e.forEach(function(e){var o=ww.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=I_(t).Ot({range:s},function(t,i,o){var s=t[0],a=t[2],u=gw(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),Lw.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=ww.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new fb(nv);return I_(t).Ot({range:s},function(t,e,o){var s=t[0],u=t[2],c=gw(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(__(t).get(e).next(function(t){if(null===t)throw Xm();Zm(t.userId===n.userId),r.push(i_(n.R,t))}))}),Lw.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return v_(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),Lw.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Lw.resolve();var r=IDBKeyRange.lowerBound(ww.prefixForUser(e.userId)),i=[];return I_(t).Ot({range:r},function(t,n,r){if(t[0]===e.userId){var o=gw(t[1]);i.push(o)}else r.done()}).next(function(){Zm(0===i.length)})})},t.prototype.containsKey=function(t,e){return w_(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return S_(t).get(this.userId).next(function(t){return t||new yw(e.userId,-1,"")})},t}();function w_(t,e,n){var r=ww.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return I_(t).Ot({range:o,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function __(t){return Ww(t,bw.store)}function I_(t){return Ww(t,ww.store)}function S_(t){return Ww(t,yw.store)}var E_=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),C_=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new E_(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return sv.fromTimestamp(new ov(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return T_(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return Zm(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return T_(t).Ot(function(s,a){var u=o_(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return Lw.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return T_(t).Ot(function(t,n){var r=o_(n);e(r)})},t.prototype.Xt=function(t){return A_(t).get(Aw.key).next(function(t){return Zm(null!==t),t})},t.prototype.Zt=function(t,e){return A_(t).put(Aw.key,e)},t.prototype.te=function(t,e){return T_(t).put(s_(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Gv(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return T_(t).Ot({range:r,index:Cw.queryTargetsIndexName},function(t,n,r){var o=o_(n);Kv(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=x_(t);return e.forEach(function(e){var s=fw(e.path);i.push(o.put(new Tw(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),Lw.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=x_(t);return Lw.forEach(e,function(e){var o=fw(e.path);return Lw.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=x_(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=x_(t),i=_b();return r.Ot({range:n,kt:!0},function(t,e,n){var r=gw(t[1]),o=new Tv(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=fw(e.path),r=IDBKeyRange.bound([n],[iv(n)],!1,!0),i=0;return x_(t).Ot({index:Tw.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return T_(t).get(e).next(function(t){return t?o_(t):null})},t}();function T_(t){return Ww(t,Cw.store)}function A_(t){return Ww(t,Aw.store)}function x_(t){return Ww(t,Tw.store)}function k_(t){return Qh(this,void 0,void 0,function(){return Yh(this,function(e){if(t.code!==Hm.FAILED_PRECONDITION||t.message!==Pw)throw t;return Wm("LocalStore","Unexpectedly lost primary lease"),[2]})})}function O_(t,e){var n=t[1],r=e[1],i=nv(t[0],e[0]);return 0===i?nv(n,r):i}var N_=function(){function t(t){this.ne=t,this.buffer=new fb(O_),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();O_(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),D_=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ae(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ae=function(t){var e=this,n=this.oe?3e5:6e4;Wm("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Qh(e,void 0,void 0,function(){var e;return Yh(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return qw(e=n.sent())?(Wm("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,k_(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ae(t)];case 8:return n.sent(),[2]}})})})},t}(),P_=function(){function t(t,e){this.ue=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ue.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Lw.resolve(Bm.o);var r=new N_(e);return this.ue.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ue.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ue.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ue.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Wm("LruGarbageCollector","Garbage collection skipped; disabled"),Lw.resolve(g_)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Wm("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),g_):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ue.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(Wm("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Km()<=If.DEBUG&&Wm("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Lw.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),R_=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new P_(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return M_(t,n)},t.prototype.removeReference=function(t,e,n){return M_(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return M_(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return S_(t).$t(function(r){return w_(t,r,e).next(function(t){return t&&(n=!0),Lw.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(s,a){if(a<=e){var u=n._e(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),x_(t).delete([0,fw(s.path)])})});i.push(u)}}).next(function(){return Lw.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return M_(t,e)},t.prototype.we=function(t,e){var n,r=x_(t),i=Bm.o;return r.Ot({index:Tw.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Bm.o&&e(new Tv(gw(n)),i),i=s,n=o):i=Bm.o}).next(function(){i!==Bm.o&&e(new Tv(gw(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function M_(t,e){return x_(t).put(function(t,e){return new Tw(0,fw(t.path),e)}(e,t.currentSequenceNumber))}var L_=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){uv(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return cv(this.inner)},t}(),F_=function(){function t(){this.changes=new L_(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:sv.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Bv.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Lw.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),V_=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return q_(t).put(B_(e),n)},t.prototype.removeEntry=function(t,e){var n=q_(t),r=B_(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return q_(t).get(B_(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return q_(t).get(B_(e)).next(function(t){return{document:n.ye(e,t),size:y_(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=gb();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=gb(),i=new cb(Tv.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,y_(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Lw.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return q_(t).Ot({range:r},function(t,e,r){for(var s=Tv.fromSegments(t);o&&Tv.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=gb(),o=e.path.length+1,s={};if(n.isEqual(sv.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=t_(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Sw.collectionReadTimeIndex}return q_(t).Ot(s,function(t,n,s){if(t.length===o){var a=Zw(r.R,n);e.path.isPrefixOf(a.key.path)?Sy(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new U_(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return j_(t).get(Ew.key).next(function(t){return Zm(!!t),t})},t.prototype.me=function(t,e){return j_(t).put(Ew.key,e)},t.prototype.ye=function(t,e){if(e){var n=Zw(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(sv.min()))return n}return Bv.newInvalidDocument(t)},t}(),U_=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new L_(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Wh(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new fb(function(t,e){return nv(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=Jw(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=y_(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=Jw(e.Ie.R,Bv.newNoDocument(o,sv.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),Lw.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(F_);function j_(t){return Ww(t,Ew.store)}function q_(t){return Ww(t,Sw.store)}function B_(t){return t.path.toArray()}var H_=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Zm(n<r&&n>=0&&r<=11);var o=new Fw("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(vw.store)}(t),function(t){t.createObjectStore(yw.store,{keyPath:yw.keyPath}),t.createObjectStore(bw.store,{keyPath:bw.keyPath,autoIncrement:!0}).createIndex(bw.userMutationsIndex,bw.userMutationsKeyPath,{unique:!0}),t.createObjectStore(ww.store)}(t),z_(t),function(t){t.createObjectStore(Sw.store)}(t));var s=Lw.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Tw.store),t.deleteObjectStore(Cw.store),t.deleteObjectStore(Aw.store)}(t),z_(t)),s=s.next(function(){return function(t){var e=t.store(Aw.store),n=new Aw(0,0,sv.min().toTimestamp(),0);return e.put(Aw.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(bw.store).Nt().next(function(n){t.deleteObjectStore(bw.store),t.createObjectStore(bw.store,{keyPath:bw.keyPath,autoIncrement:!0}).createIndex(bw.userMutationsIndex,bw.userMutationsKeyPath,{unique:!0});var r=e.store(bw.store),i=n.map(function(t){return r.put(t)});return Lw.waitFor(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(kw.store,{keyPath:kw.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(Ew.store)}(t),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Sw.store);e.createIndex(Sw.readTimeIndex,Sw.readTimeIndexPath,{unique:!1}),e.createIndex(Sw.collectionReadTimeIndex,Sw.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(Ow.store,{keyPath:Ow.keyPath})}(t),function(t){t.createObjectStore(Nw.store,{keyPath:Nw.keyPath})}(t)})),s},t.prototype.be=function(t){var e=0;return t.store(Sw.store).Ot(function(t,n){e+=y_(n)}).next(function(){var n=new Ew(e);return t.store(Ew.store).put(Ew.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(yw.store),r=t.store(bw.store);return n.Nt().next(function(n){return Lw.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(bw.userMutationsIndex,i).next(function(r){return Lw.forEach(r,function(r){Zm(r.userId===n.userId);var i=i_(e.R,r);return v_(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(Tw.store),n=t.store(Sw.store);return t.store(Aw.store).get(Aw.key).next(function(t){var r=[];return n.Ot(function(n,i){var o=new hv(n),s=function(t){return[0,fw(t)]}(o);r.push(e.get(s).next(function(n){return n?Lw.resolve():function(n){return e.put(new Tw(0,fw(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Lw.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(xw.store,{keyPath:xw.keyPath});var n=e.store(xw.store),r=new f_,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:fw(i)})}};return e.store(Sw.store).Ot({kt:!0},function(t,e){var n=new hv(t);return i(n.popLast())}).next(function(){return e.store(ww.store).Ot({kt:!0},function(t,e){var n=gw(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(Cw.store);return n.Ot(function(t,r){var i=o_(r),o=s_(e.R,i);return n.put(o)})},t}();function z_(t){t.createObjectStore(Tw.store,{keyPath:Tw.keyPath}).createIndex(Tw.documentTargetsIndex,Tw.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Cw.store,{keyPath:Cw.keyPath}).createIndex(Cw.queryTargetsIndexName,Cw.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Aw.store)}var G_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",K_=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new zm(Hm.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new R_(this,i),this.Le=n+"main",this.R=new Xw(u),this.Be=new Vw(this.Le,11,new H_(this.R)),this.qe=new C_(this.referenceDelegate,this.R),this.Ut=new d_,this.Ue=function(t,e){return new V_(t,e)}(this.R,this.Ut),this.Qe=new u_,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&$m("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new zm(Hm.FAILED_PRECONDITION,G_);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Bm(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Qh(e,void 0,void 0,function(){return Yh(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Qh(e,void 0,void 0,function(){return Yh(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Qh(e,void 0,void 0,function(){return Yh(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return $_(e).put(new kw(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(qw(e))return Wm("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Wm("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return W_(t).get(vw.key).next(function(t){return Lw.resolve(e.tn(t))})},t.prototype.en=function(t){return $_(t).delete(this.clientId)},t.prototype.nn=function(){return Qh(this,void 0,void 0,function(){var t,e,n,r=this;return Yh(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Ww(t,kw.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Lw.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Lw.resolve(!0):W_(t).get(vw.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new zm(Hm.FAILED_PRECONDITION,G_);return!1}}return!(!e.networkEnabled||!e.inForeground)||$_(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Wm("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Qh(this,void 0,void 0,function(){var t=this;return Yh(this,function(e){switch(e.label){case 0:return this.xe=!1,this.an(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.un(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[vw.store,kw.store],function(e){var n=new Kw(e,Bm.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return $_(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return b_.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Wm("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",Dw,function(o){return r=new Kw(o,i.Ne?i.Ne.next():Bm.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw $m("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new zm(Hm.FAILED_PRECONDITION,Pw);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return W_(t).get(vw.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new zm(Hm.FAILED_PRECONDITION,G_)})},t.prototype.Ze=function(t){var e=new vw(this.clientId,this.allowTabSynchronization,Date.now());return W_(t).put(vw.key,e)},t.yt=function(){return Vw.yt()},t.prototype.Xe=function(t){var e=this,n=W_(t);return n.get(vw.key).next(function(t){return e.tn(t)?(Wm("IndexedDbPersistence","Releasing primary lease."),n.delete(vw.key)):Lw.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&($m("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.un=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.an(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return Wm("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return $m("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.an=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){$m("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function W_(t){return Ww(t,vw.store)}function $_(t){return Ww(t,kw.store)}function Q_(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Y_=function(t,e){this.progress=t,this.wn=e},X_=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Tv.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):my(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new Tv(e)).next(function(t){var e=vb();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=vb();return this.Ut.getCollectionParents(t,i).next(function(s){return Lw.forEach(s,function(s){var a=function(t,e){return new cy(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=Bv.newInvalidDocument(c),r=r.insert(c,l)),Wy(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){Sy(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=_b(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Zy&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),Z_=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=_b(),i=_b(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),J_=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(sv.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var s=i.Cn(e,o);return(fy(e)||dy(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(Km()<=If.DEBUG&&Wm("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Iy(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new fb(Ey(t));return e.forEach(function(e,r){Sy(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Km()<=If.DEBUG&&Wm("QueryEngine","Using full collection scan to execute query:",Iy(e)),this.Sn.getDocumentsMatchingQuery(t,e,sv.min())},t}(),tI=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new cb(nv),this.kn=new L_(function(t){return Gv(t)},Kv),this.On=sv.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new X_(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function eI(t,e,n,r){return new tI(t,e,n,r)}function nI(t,e){return Qh(this,void 0,void 0,function(){var n,r,i,o;return Yh(this,function(s){switch(s.label){case 0:return n=Jm(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new X_(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=_b(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function rI(t,e){var n=Jm(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Lw.resolve();return o.forEach(function(t){s=s.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);Zm(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),s.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function iI(t){var e=Jm(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function oI(t,e){var n=Jm(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Zm(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}});var a=gb();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push(sI(t,o,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(sv.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});s.push(u)}return Lw.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function sI(t,e,n,r,i){var o=_b();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=gb();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(sv.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):Wm("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function aI(t,e){var n=Jm(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function uI(t,e){var n=Jm(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?Lw.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new Yw(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function cI(t,e,n){return Qh(this,void 0,void 0,function(){var r,i,o,s;return Yh(this,function(a){switch(a.label){case 0:r=Jm(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!qw(s=a.sent()))throw s;return Wm("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function lI(t,e,n){var r=Jm(t),i=sv.min(),o=_b();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Jm(t),i=r.kn.get(n);return void 0!==i?Lw.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,yy(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:sv.min(),n?o:_b())}).next(function(t){return{documents:t,Bn:o}})})}function hI(t,e){var n=Jm(t),r=Jm(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function fI(t){var e=Jm(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Jm(t),i=gb(),o=t_(n),s=q_(e),a=IDBKeyRange.lowerBound(o,!0);return s.Ot({index:Sw.readTimeIndex,range:a},function(t,e){var n=Zw(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:e_(o)}})}(e.$n,t,e.On)}).then(function(t){var n=t.wn;return e.On=t.readTime,n})}function dI(t){return Qh(this,void 0,void 0,function(){var e;return Yh(this,function(n){return[2,(e=Jm(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=q_(t),n=sv.min();return e.Ot({index:Sw.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=e_(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.On=t})]})})}function pI(t,e,n,r){return Qh(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return Yh(this,function(p){switch(p.label){case 0:for(i=Jm(t),o=_b(),s=gb(),a=bb(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return f=i.$n.newChangeBuffer({trackRemovals:!0}),[4,uI(i,function(t){return yy(hy(hv.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return sI(t,f,s,sv.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.qe.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function gI(t,e,n){return void 0===n&&(n=_b()),Qh(this,void 0,void 0,function(){var r,i;return Yh(this,function(o){switch(o.label){case 0:return[4,uI(t,yy(a_(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Jm(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=Ub(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var s=r.withResumeToken(gv.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var mI=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Lw.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:Ub(n.createTime)}),Lw.resolve()},t.prototype.getNamedQuery=function(t,e){return Lw.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:a_(t.bundledQuery),readTime:Ub(t.readTime)}}(e)),Lw.resolve()},t}(),vI=function(){function t(){this.Wn=new fb(yI.Gn),this.zn=new fb(yI.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new yI(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new yI(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new Tv(new hv([])),r=new yI(n,t),i=new yI(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new Tv(new hv([])),n=new yI(e,t),r=new yI(e,t+1),i=_b();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new yI(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),yI=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return Tv.comparator(t.key,e.key)||nv(t.ns,e.ns)},t.Hn=function(t,e){return nv(t.ns,e.ns)||Tv.comparator(t.key,e.key)},t}(),bI=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new fb(yI.Gn)}return t.prototype.checkEmpty=function(t){return Lw.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new $w(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new yI(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Lw.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Lw.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Lw.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Lw.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Lw.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new yI(e,0),i=new yI(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),Lw.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new fb(nv);return e.forEach(function(t){var e=new yI(t,0),i=new yI(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),Lw.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Tv.isDocumentKey(i)||(i=i.child(""));var o=new yI(new Tv(i),0),s=new fb(nv);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)},o),Lw.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Zm(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Lw.forEach(e.mutations,function(i){var o=new yI(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new yI(e,0),r=this.rs.firstAfterOrEqual(n);return Lw.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Lw.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),wI=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new cb(Tv.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Lw.resolve(n?n.document.clone():Bv.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=gb();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Bv.newInvalidDocument(t))}),Lw.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=gb(),i=new Tv(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||Sy(e,u)&&(r=r.insert(u.key,u.clone()))}return Lw.resolve(r)},t.prototype.fs=function(t,e){return Lw.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new _I(this)},t.prototype.getSize=function(t){return Lw.resolve(this.size)},t}(),_I=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Wh(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),Lw.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(F_),II=function(){function t(t){this.persistence=t,this.ds=new L_(function(t){return Gv(t)},Kv),this.lastRemoteSnapshotVersion=sv.min(),this.highestTargetId=0,this.ws=0,this._s=new vI,this.targetCount=0,this.ys=E_.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),Lw.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Lw.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Lw.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Lw.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Lw.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new E_(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Lw.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Lw.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Lw.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Lw.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return Lw.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Lw.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Lw.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Lw.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Lw.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Lw.resolve(n)},t.prototype.containsKey=function(t,e){return Lw.resolve(this._s.containsKey(e))},t}(),SI=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Bm(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new II(this),this.Ut=new h_,this.Ue=function(t,e){return new wI(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new Xw(e),this.Qe=new mI(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new bI(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;Wm("MemoryPersistence","Starting transaction:",t);var i=new EI(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return Lw.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),EI=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Wh(e,t),e}(Rw),CI=function(){function t(t){this.persistence=t,this.As=new vI,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Xm()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Lw.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Lw.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Lw.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Lw.forEach(this.vs,function(r){var i=Tv.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Lw.or([function(){return Lw.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),TI=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function AI(t,e){return"firestore_clients_"+t+"_"+e}function xI(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function kI(t,e){return"firestore_targets_"+t+"_"+e}TI.UNAUTHENTICATED=new TI(null),TI.GOOGLE_CREDENTIALS=new TI("google-credentials-uid"),TI.FIRST_PARTY=new TI("first-party-uid");var OI=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new zm(o.error.code,o.error.message)),s?new t(e,n,o.state,i):($m("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),NI=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new zm(i.error.code,i.error.message)),o?new t(e,i.state,r):($m("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),DI=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Sb(),s=0;i&&s<r.activeTargetIds.length;++s)i=Cv(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):($m("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),PI=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):($m("SharedClientState","Failed to parse online state: "+e),null)},t}(),RI=function(){function t(){this.activeTargetIds=Sb()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),MI=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new cb(nv),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=AI(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new RI),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Qh(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Yh(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(AI(this.persistenceKey,r)))&&(o=DI.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.Os;u<c.length;u++)this.Fs(c[u]);return this.Os=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(kI(this.persistenceKey,t));if(n){var r=NI.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(kI(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Wm("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Wm("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Wm("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Wm("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void $m("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Qh(e,void 0,void 0,function(){var t,e,r,i,o,s;return Yh(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=Bm.o;if(null!=t)try{var n=JSON.parse(t);Zm("number"==typeof n),e=n}catch(t){$m("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Bm.o&&this.sequenceNumberHandler(s);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new OI(this.currentUser,t,e,n),i=xI(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=xI(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=kI(this.persistenceKey,t),i=new NI(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return DI.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return OI.Vs(new TI(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return NI.Vs(r,e)},t.prototype.js=function(t){return PI.Vs(t)},t.prototype.ii=function(t){return Qh(this,void 0,void 0,function(){return Yh(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ai(t.batchId,t.state,t.error)]:(Wm("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ui(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Sb();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),LI=function(){function t(){this.li=new RI,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new RI,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),FI=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),VI=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Wm("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Wm("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),UI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},jI=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),qI=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Wh(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,o){var s=new qm;s.listenOnce(Vm.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Fm.NO_ERROR:var e=s.getResponseJson();Wm("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Fm.TIMEOUT:Wm("Connection",'RPC "'+t+'" timed out'),o(new zm(Hm.DEADLINE_EXCEEDED,"Request time out"));break;case Fm.HTTP_ERROR:var n=s.getStatus();if(Wm("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Hm).indexOf(e)>=0?e:Hm.UNKNOWN}(r.status);o(new zm(a,r.message))}else o(new zm(Hm.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new zm(Hm.UNAVAILABLE,"Connection failed."));break;default:Xm()}}finally{Wm("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.$i=function(t,e){var n,r=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=new Dm,o=Mp(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(s.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rf())||"object"==typeof navigator&&"ReactNative"===navigator.product||rf().indexOf("Electron/")>=0||function(){var t=rf();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||rf().indexOf("MSAppHost/")>=0||"object"==typeof(n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==n.id||(s.httpHeadersOverwriteParam="$httpHeaders");var a=r.join("");Wm("Connection","Creating WebChannel: "+a,s);var u=i.createWebChannel(a,s),c=!1,l=!1,h=new jI({Ei:function(t){l?Wm("Connection","Not sending because WebChannel is closed:",t):(c||(Wm("Connection","Opening WebChannel transport."),u.open(),c=!0),Wm("Connection","WebChannel sending:",t),u.send(t))},Ti:function(){return u.close()}}),f=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return f(u,jm.EventType.OPEN,function(){l||Wm("Connection","WebChannel transport opened.")}),f(u,jm.EventType.CLOSE,function(){l||(l=!0,Wm("Connection","WebChannel transport closed"),h.Vi())}),f(u,jm.EventType.ERROR,function(t){l||(l=!0,Qm("Connection","WebChannel transport errored:",t),h.Vi(new zm(Hm.UNAVAILABLE,"The operation could not be completed")))}),f(u,jm.EventType.MESSAGE,function(t){var e;if(!l){var n=t.data[0];Zm(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Wm("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=nb[t];if(void 0!==e)return ub(e)}(i),s=r.message;void 0===o&&(o=Hm.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),l=!0,h.Vi(new zm(o,s)),u.close()}else Wm("Connection","WebChannel received:",n),h.Si(n)}}),f(o,Um.STAT_EVENT,function(t){10===t.stat?Wm("Connection","Detected buffering proxy"):11===t.stat&&Wm("Connection","Detected no buffering proxy")}),setTimeout(function(){h.Pi()},0),h},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Wm("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then(function(t){return Wm("RestConnection","Received: ",t),t},function(e){throw Qm("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.6.2",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+UI[t]},t}());function BI(){return"undefined"!=typeof window?window:null}function HI(){return"undefined"!=typeof document?document:null}function zI(t){return new Mb(t,!0)}var GI=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&Wm("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),KI=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new GI(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Qh(this,void 0,void 0,function(){return Yh(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ar(),this.stream.send(t)},t.prototype.rr=function(){return Qh(this,void 0,void 0,function(){return Yh(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ar=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Qh(this,void 0,void 0,function(){return Yh(this,function(n){switch(n.label){case 0:return this.ar(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Hm.RESOURCE_EXHAUSTED?($m(e.toString()),$m("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===Hm.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ur(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ur=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new zm(Hm.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Qh(t,void 0,void 0,function(){return Yh(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return Wm("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(Wm("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),WI=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return Wh(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Xm()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Zm(void 0===e||"string"==typeof e),gv.fromBase64String(e||"")):(Zm(void 0===e||e instanceof Uint8Array),gv.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Hm.UNKNOWN:ub(t.code);return new zm(e,t.message||"")}(a);n=new xb(r,i,o,s||null)}else if("documentChange"in e){i=Hb(t,(r=e.documentChange).document.name),o=Ub(r.document.updateTime);var a=new jv({mapValue:{fields:r.document.fields}}),u=(s=Bv.newFoundDocument(i,o,a),r.targetIds||[]);n=new Tb(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Hb(t,(r=e.documentDelete).document),o=r.readTime?Ub(r.readTime):sv.min(),a=Bv.newNoDocument(i,o),n=new Tb([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Hb(t,(r=e.documentRemove).document),n=new Tb([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Xm();var c=e.filter;i=new sb(r=c.count||0),n=new Ab(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return sv.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?sv.min():e.readTime?Ub(e.readTime):sv.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Kb(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Wv(r)?{documents:Zb(t,r)}:{query:Jb(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Fb(t,e.resumeToken):e.snapshotVersion.compareTo(sv.min())>0&&(n.readTime=Lb(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Xm()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Kb(this.R),e.removeTarget=t,this.cr(e)},e}(KI),$I=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return Wh(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ur=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(Zm(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Zm(void 0!==e),t.map(function(t){return function(t,e){var n=Ub(t.updateTime?t.updateTime:e);return n.isEqual(sv.min())&&(n=Ub(e)),new By(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=Ub(t.commitTime);return this.listener.Tr(n,e)}return Zm(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Kb(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Yb(e.R,t)})};this.cr(n)},e}(KI),QI=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Wh(e,t),e.prototype.br=function(){if(this.Rr)throw new zm(Hm.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Hm.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new zm(Hm.UNKNOWN,t.toString())})},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Oi(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Hm.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new zm(Hm.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),YI=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?($m(e),this.Vr=!1):Wm("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),XI=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Qh(o,void 0,void 0,function(){return Yh(this,function(t){switch(t.label){case 0:return sS(this)?(Wm("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Qh(this,void 0,void 0,function(){var e;return Yh(this,function(n){switch(n.label){case 0:return(e=Jm(t)).$r.add(4),[4,JI(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,ZI(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new YI(n,r)};function ZI(t){return Qh(this,void 0,void 0,function(){var e,n;return Yh(this,function(r){switch(r.label){case 0:if(!sS(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function JI(t){return Qh(this,void 0,void 0,function(){var e,n;return Yh(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function tS(t,e){var n=Jm(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),oS(n)?iS(n):_S(n).er()&&nS(n,e))}function eS(t,e){var n=Jm(t),r=_S(n);n.Or.delete(e),r.er()&&rS(n,e),0===n.Or.size&&(r.er()?r.ir():sS(n)&&n.Br.set("Unknown"))}function nS(t,e){t.qr.U(e.targetId),_S(t).mr(e)}function rS(t,e){t.qr.U(e),_S(t).yr(e)}function iS(t){t.qr=new Ob({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),_S(t).start(),t.Br.Sr()}function oS(t){return sS(t)&&!_S(t).tr()&&t.Or.size>0}function sS(t){return 0===Jm(t).$r.size}function aS(t){t.qr=void 0}function uS(t){return Qh(this,void 0,void 0,function(){return Yh(this,function(e){return t.Or.forEach(function(e,n){nS(t,e)}),[2]})})}function cS(t,e){return Qh(this,void 0,void 0,function(){return Yh(this,function(n){return aS(t),oS(t)?(t.Br.Nr(e),iS(t)):t.Br.set("Unknown"),[2]})})}function lS(t,e,n){return Qh(this,void 0,void 0,function(){var r,i,o;return Yh(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof xb&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Qh(this,void 0,void 0,function(){var n,r,i,o;return Yh(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Or.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Or.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Wm("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,hS(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Tb?t.qr.X(e):e instanceof Ab?t.qr.rt(e):t.qr.et(e),n.isEqual(sv.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,iI(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.at(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(gv.EMPTY_BYTE_STRING,n.snapshotVersion)),rS(t,e);var r=new Yw(n.target,e,1,n.sequenceNumber);nS(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Wm("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,hS(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function hS(t,e,n){return Qh(this,void 0,void 0,function(){var r=this;return Yh(this,function(i){switch(i.label){case 0:if(!qw(e))throw e;return t.$r.add(1),[4,JI(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return iI(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Qh(r,void 0,void 0,function(){return Yh(this,function(e){switch(e.label){case 0:return Wm("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,ZI(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function fS(t,e){return e().catch(function(n){return hS(t,n,e)})}function dS(t){return Qh(this,void 0,void 0,function(){var e,n,r,i,o;return Yh(this,function(s){switch(s.label){case 0:e=Jm(t),n=IS(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return sS(t)&&t.kr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,aI(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=IS(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,hS(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return pS(e)&&gS(e),[2]}})})}function pS(t){return sS(t)&&!IS(t).tr()&&t.kr.length>0}function gS(t){IS(t).start()}function mS(t){return Qh(this,void 0,void 0,function(){return Yh(this,function(e){return IS(t).Ar(),[2]})})}function vS(t){return Qh(this,void 0,void 0,function(){var e,n,r;return Yh(this,function(i){for(e=IS(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function yS(t,e,n){return Qh(this,void 0,void 0,function(){var r,i;return Yh(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=Qw.from(r,e,n),[4,fS(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,dS(t)];case 2:return o.sent(),[2]}})})}function bS(t,e){return Qh(this,void 0,void 0,function(){return Yh(this,function(n){switch(n.label){case 0:return e&&IS(t).pr?[4,function(t,e){return Qh(this,void 0,void 0,function(){var n,r;return Yh(this,function(i){switch(i.label){case 0:return ab(r=e.code)&&r!==Hm.ABORTED?(n=t.kr.shift(),IS(t).sr(),[4,fS(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,dS(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return pS(t)&&gS(t),[2]}})})}function wS(t,e){return Qh(this,void 0,void 0,function(){var n;return Yh(this,function(r){switch(r.label){case 0:return n=Jm(t),e?(n.$r.delete(2),[4,ZI(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,JI(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function _S(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Jm(t);return r.br(),new WI(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:uS.bind(null,t),Ri:cS.bind(null,t),_r:lS.bind(null,t)}),t.Mr.push(function(n){return Qh(e,void 0,void 0,function(){return Yh(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),oS(t)?iS(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),aS(t),e.label=3;case 3:return[2]}})})})),t.Ur}function IS(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=Jm(t);return r.br(),new $I(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:mS.bind(null,t),Ri:bS.bind(null,t),Ir:vS.bind(null,t),Tr:yS.bind(null,t)}),t.Mr.push(function(n){return Qh(e,void 0,void 0,function(){return Yh(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,dS(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(Wm("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var SS=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Mw,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new zm(Hm.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function ES(t,e){if($m("AsyncQueue",e+": "+t),qw(t))return new zm(Hm.UNAVAILABLE,e+": "+t);throw t}var CS=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Tv.comparator(e.key,n.key)}:function(t,e){return Tv.comparator(t.key,e.key)},this.keyedMap=vb(),this.sortedSet=new cb(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),TS=function(){function t(){this.Kr=new cb(Tv.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):Xm():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),AS=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,CS.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&wy(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),xS=function(){this.Wr=void 0,this.listeners=[]},kS=function(){this.queries=new L_(function(t){return _y(t)},wy),this.onlineState="Unknown",this.Gr=new Set};function OS(t,e){return Qh(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Yh(this,function(c){switch(c.label){case 0:if(n=Jm(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new xS),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=ES(a,"Initialization of query '"+Iy(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&RS(n),[2]}})})}function NS(t,e){return Qh(this,void 0,void 0,function(){var n,r,i,o,s;return Yh(this,function(a){return n=Jm(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function DS(t,e){for(var n=Jm(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&RS(n)}function PS(t,e,n){var r=Jm(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function RS(t){t.Gr.forEach(function(t){t.next()})}var MS=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new AS(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=AS.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),LS=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),FS=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Hb(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Qb(this.R,t.document,!1):Bv.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return Ub(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new FS(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||_b()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Qh(this,void 0,void 0,function(){var t,e,n,r,i;return Yh(this,function(o){switch(o.label){case 0:return[4,pI(this.localStore,new FS(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,gI(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Y_(Object.assign({},this.progress),t))]}})})}}();var VS=function(t){this.key=t},US=function(t){this.key=t},jS=function(){function t(t,e){this.query=t,this.ao=e,this.uo=null,this.current=!1,this.ho=_b(),this.mutatedKeys=_b(),this.lo=Ey(t),this.fo=new CS(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.ao},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new TS,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=fy(this.query)&&i.size===this.query.limit?i.last():null,c=dy(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=Sy(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),fy(this.query)||dy(this.query))for(;s.size>this.query.limit;){var l=fy(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xm()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.uo;return this.uo=a,0!==o.length||u?{snapshot:new AS(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new TS,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.ao.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.ao=e.ao.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.ao=e.ao.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=_b(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new US(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new VS(t))}),n},t.prototype.Ao=function(t){this.ao=t.Bn,this.ho=_b();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return AS.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.uo)},t}(),qS=function(t,e,n){this.query=t,this.targetId=e,this.view=n},BS=function(t){this.key=t,this.bo=!1},HS=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new L_(function(t){return _y(t)},wy),this.Vo=new Map,this.So=new Set,this.Do=new cb(Tv.comparator),this.Co=new Map,this.No=new vI,this.xo={},this.Fo=new Map,this.ko=E_.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function zS(t,e){return Qh(this,void 0,void 0,function(){var n,r,i,o,s;return Yh(this,function(a){switch(a.label){case 0:return n=bE(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,uI(n.localStore,yy(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,GS(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&tS(n.remoteStore,o),a.label=4;case 4:return[2,r]}})})}function GS(t,e,n,r){return Qh(this,void 0,void 0,function(){var i,o,s,a,u,c;return Yh(this,function(l){switch(l.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return Qh(this,void 0,void 0,function(){var i,o,s;return Yh(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,lI(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(iE(t,e.targetId,s.To),s.snapshot)]}})})}(t,e,n,r)},[4,lI(t.localStore,e,!0)];case 1:return i=l.sent(),o=new jS(e,i.Bn),s=o._o(i.documents),a=Cb.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),iE(t,n,u.To),c=new qS(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function KS(t,e){return Qh(this,void 0,void 0,function(){var n,r,i;return Yh(this,function(o){switch(o.label){case 0:return n=Jm(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!wy(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,cI(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),eS(n.remoteStore,r.targetId),nE(n,r.targetId)}).catch(k_)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return nE(n,r.targetId),[4,cI(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function WS(t,e,n){return Qh(this,void 0,void 0,function(){var r,i,o,s;return Yh(this,function(a){switch(a.label){case 0:r=wE(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Jm(t),i=ov.now(),o=e.reduce(function(t,e){return t.add(e.key)},_b());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=$y(c,n.get(c.key));null!=l&&s.push(new Zy(c.key,l,qv(l.toProto().mapValue),Hy.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new cb(nv)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,aE(r,i.changes)];case 3:return a.sent(),[4,dS(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=ES(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function $S(t,e){return Qh(this,void 0,void 0,function(){var n,r;return Yh(this,function(i){switch(i.label){case 0:n=Jm(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,oI(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(Zm(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Zm(r.bo):t.removedDocuments.size>0&&(Zm(r.bo),r.bo=!1))}),[4,aE(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,k_(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function QS(t,e,n){var r=Jm(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Jm(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&RS(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function YS(t,e,n){return Qh(this,void 0,void 0,function(){var r,i,o,s,a,u;return Yh(this,function(c){switch(c.label){case 0:return(r=Jm(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new cb(Tv.comparator)).insert(o,Bv.newNoDocument(o,sv.min())),a=_b().add(o),u=new Eb(sv.min(),new Map,new fb(nv),s,a),[4,$S(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),sE(r),[3,4];case 2:return[4,cI(r.localStore,e,!1).then(function(){return nE(r,e,n)}).catch(k_)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function XS(t,e){return Qh(this,void 0,void 0,function(){var n,r,i;return Yh(this,function(o){switch(o.label){case 0:n=Jm(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,rI(n.localStore,e)];case 2:return i=o.sent(),eE(n,r,null),tE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,aE(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,k_(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function ZS(t,e,n){return Qh(this,void 0,void 0,function(){var r,i;return Yh(this,function(o){switch(o.label){case 0:r=Jm(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Jm(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return Zm(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),eE(r,e,n),tE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,aE(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,k_(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function JS(t,e){return Qh(this,void 0,void 0,function(){var n,r,i,o,s;return Yh(this,function(a){switch(a.label){case 0:sS((n=Jm(t)).remoteStore)||Wm("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Jm(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=ES(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function tE(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function eE(t,e,n){var r=Jm(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function nE(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||rE(t,e)})}function rE(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(eS(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),sE(t))}function iE(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof VS?(t.No.addReference(o.key,e),oE(t,o)):o instanceof US?(Wm("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||rE(t,o.key)):Xm()}}function oE(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Wm("SyncEngine","New document in limbo: "+n),t.So.add(r),sE(t))}function sE(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Tv(hv.fromString(e)),r=t.ko.next();t.Co.set(r,new BS(n)),t.Do=t.Do.insert(n,r),tS(t.remoteStore,new Yw(yy(hy(n.path)),r,2,Bm.o))}}function aE(t,e,n){return Qh(this,void 0,void 0,function(){var r,i,o,s;return Yh(this,function(a){switch(a.label){case 0:return r=Jm(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){s.push(r.$o(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Z_.Pn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Qh(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return Yh(this,function(l){switch(l.label){case 0:n=Jm(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Lw.forEach(e,function(e){return Lw.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Lw.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!qw(r=l.sent()))throw r;return Wm("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function uE(t,e){return Qh(this,void 0,void 0,function(){var n,r;return Yh(this,function(i){switch(i.label){case 0:return(n=Jm(t)).currentUser.isEqual(e)?[3,3]:(Wm("SyncEngine","User change. New user:",e.toKey()),[4,nI(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new zm(Hm.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,aE(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function cE(t,e){var n=Jm(t),r=n.Co.get(e);if(r&&r.bo)return _b().add(r.key);var i=_b(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function lE(t,e){return Qh(this,void 0,void 0,function(){var n,r,i;return Yh(this,function(o){switch(o.label){case 0:return[4,lI((n=Jm(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&iE(n,e.targetId,i.To),i)]}})})}function hE(t){return Qh(this,void 0,void 0,function(){var e;return Yh(this,function(n){return[2,fI((e=Jm(t)).localStore).then(function(t){return aE(e,t)})]})})}function fE(t,e,n,r){return Qh(this,void 0,void 0,function(){var i,o;return Yh(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=Jm(t),r=Jm(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):Lw.resolve(null)})})}((i=Jm(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,dS(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(eE(i,e,r||null),tE(i,e),function(t,e){Jm(Jm(t)._n).Gt(e)}(i.localStore,e)):Xm(),s.label=4;case 4:return[4,aE(i,o)];case 5:return s.sent(),[3,7];case 6:Wm("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function dE(t,e){return Qh(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Yh(this,function(c){switch(c.label){case 0:return bE(n=Jm(t)),wE(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,pE(n,r.toArray())]);case 1:return i=c.sent(),n.Oo=!0,[4,wS(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)tS(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return nE(n,e),cI(n.localStore,e,!0)}),eS(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,pE(n,a)];case 5:return c.sent(),function(t){var e=Jm(t);e.Co.forEach(function(t,n){eS(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new cb(Tv.comparator)}(n),n.Oo=!1,[4,wS(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function pE(t,e,n){return Qh(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Yh(this,function(g){switch(g.label){case 0:n=Jm(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Vo.get(a=s[o]))&&0!==c.length?[4,uI(n.localStore,yy(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,lE(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,hI(n.localStore,a)];case 8:return p=g.sent(),[4,uI(n.localStore,p)];case 9:return u=g.sent(),[4,GS(n,gE(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function gE(t){return ly(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function mE(t){var e=Jm(t);return Jm(Jm(e.localStore).persistence).fn()}function vE(t,e,n,r){return Qh(this,void 0,void 0,function(){var i,o,s;return Yh(this,function(a){switch(a.label){case 0:return(i=Jm(t)).Oo?(Wm("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,fI(i.localStore)];case 3:return o=a.sent(),s=Eb.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,aE(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,cI(i.localStore,e,!0)];case 6:return a.sent(),nE(i,e,r),[3,8];case 7:Xm(),a.label=8;case 8:return[2]}})})}function yE(t,e,n){return Qh(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return Yh(this,function(f){switch(f.label){case 0:if(!(r=bE(t)).Oo)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(Wm("SyncEngine","Adding an already active target "+s),[3,5]):[4,hI(r.localStore,s)]:[3,6];case 2:return a=f.sent(),[4,uI(r.localStore,a)];case 3:return u=f.sent(),[4,GS(r,gE(a),u.targetId,!1)];case 4:f.sent(),tS(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Yh(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,cI(r.localStore,t,!1).then(function(){eS(r.remoteStore,t),nE(r,t)}).catch(k_)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function bE(t){var e=Jm(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$S.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cE.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YS.bind(null,e),e.vo._r=DS.bind(null,e.eventManager),e.vo.Mo=PS.bind(null,e.eventManager),e}function wE(t){var e=Jm(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZS.bind(null,e),e}var _E=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Qh(this,void 0,void 0,function(){return Yh(this,function(e){switch(e.label){case 0:return this.R=zI(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return eI(this.persistence,new J_,t.initialUser,this.R)},t.prototype.qo=function(t){return new SI(CI.bs,this.R)},t.prototype.Bo=function(t){return new LI},t.prototype.terminate=function(){return Qh(this,void 0,void 0,function(){return Yh(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),IE=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Wh(e,t),e.prototype.initialize=function(e){return Qh(this,void 0,void 0,function(){return Yh(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,dI(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,wE(this.Ko.syncEngine)];case 4:return n.sent(),[4,dS(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return eI(this.persistence,new J_,t.initialUser,this.R)},e.prototype.Uo=function(t){return new D_(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Q_(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?m_.withCacheSize(this.cacheSizeBytes):m_.DEFAULT;return new K_(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,BI(),HI(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new LI},e}(_E),SE=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Wh(e,t),e.prototype.initialize=function(e){return Qh(this,void 0,void 0,function(){var n,r=this;return Yh(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof MI?(this.sharedClientState.syncEngine={ai:fE.bind(null,n),ui:vE.bind(null,n),hi:yE.bind(null,n),fn:mE.bind(null,n),ci:hE.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Qh(r,void 0,void 0,function(){return Yh(this,function(e){switch(e.label){case 0:return[4,dE(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=BI();if(!MI.yt(e))throw new zm(Hm.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Q_(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new MI(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(IE),EE=function(){function t(){}return t.prototype.initialize=function(t,e){return Qh(this,void 0,void 0,function(){var n=this;return Yh(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return QS(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=uE.bind(null,this.syncEngine),[4,wS(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new kS},t.prototype.createDatastore=function(t){var e=zI(t.databaseInfo.databaseId),n=new qI(t.databaseInfo);return function(t,e,n){return new QI(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return QS(s.syncEngine,t,0)},o=VI.yt()?new VI:new FI,new XI(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new HS(t,e,n,r,i,o);return s&&(a.Oo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Qh(this,void 0,void 0,function(){var e;return Yh(this,function(n){switch(n.label){case 0:return e=Jm(t),Wm("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,JI(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),CE=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),TE=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Mw,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Qh(this,void 0,void 0,function(){return Yh(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Qh(this,void 0,void 0,function(){return Yh(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Qh(this,void 0,void 0,function(){var t,e,n,r;return Yh(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new LS(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Qh(this,void 0,void 0,function(){var t,e;return Yh(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Qh(this,void 0,void 0,function(){var e;return Yh(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Qh(this,void 0,void 0,function(){var t,e;return Yh(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Qh(this,void 0,void 0,function(){var e,n=this;return Yh(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new zm(Hm.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Qh(this,void 0,void 0,function(){var n,r,i,o,s,a;return Yh(this,function(u){switch(u.label){case 0:return n=Jm(t),r=Kb(n.R)+"/documents",i={documents:e.map(function(t){return Bb(n.R,t)})},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Zm(!!e.found);var n=Hb(t,e.found.name),r=Ub(e.found.updateTime),i=new jv({mapValue:{fields:e.found.fields}});return Bv.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Zm(!!e.missing),Zm(!!e.readTime);var n=Hb(t,e.missing),r=Ub(e.readTime);return Bv.newNoDocument(n,r)}(t,e):Xm()}(n.R,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());Zm(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new ib(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Qh(this,void 0,void 0,function(){var t,e=this;return Yh(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Tv.fromPath(n);e.mutations.push(new ob(r,e.precondition(r)))}),[4,function(t,e){return Qh(this,void 0,void 0,function(){var n,r,i;return Yh(this,function(o){switch(o.label){case 0:return n=Jm(t),r=Kb(n.R)+"/documents",i={writes:e.map(function(t){return Yb(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Xm();e=sv.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new zm(Hm.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Hy.updateTime(e):Hy.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(sv.min()))throw new zm(Hm.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Hy.updateTime(e)}return Hy.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),AE=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new GI(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Qh(t,void 0,void 0,function(){var t,e,n=this;return Yh(this,function(r){return t=new TE(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Sv(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!ab(e)}return!1},t}(),xE=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=TI.UNAUTHENTICATED,this.clientId=ev.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return Qh(r,void 0,void 0,function(){return Yh(this,function(e){switch(e.label){case 0:return Wm("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return Qh(this,void 0,void 0,function(){return Yh(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new zm(Hm.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Mw;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Qh(t,void 0,void 0,function(){var t,n;return Yh(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=ES(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function kE(t,e){return Qh(this,void 0,void 0,function(){var n,r,i=this;return Yh(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Wm("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return Qh(i,void 0,void 0,function(){return Yh(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,nI(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function OE(t,e){return Qh(this,void 0,void 0,function(){var n,r;return Yh(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,NE(t)];case 1:return n=i.sent(),Wm("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return Qh(this,void 0,void 0,function(){var n,r;return Yh(this,function(i){switch(i.label){case 0:return(n=Jm(t)).asyncQueue.verifyOperationInProgress(),Wm("RemoteStore","RemoteStore received new credentials"),r=sS(n),n.$r.add(3),[4,JI(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,ZI(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function NE(t){return Qh(this,void 0,void 0,function(){return Yh(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Wm("FirestoreClient","Using default OfflineComponentProvider"),[4,kE(t,new _E)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function DE(t){return Qh(this,void 0,void 0,function(){return Yh(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Wm("FirestoreClient","Using default OnlineComponentProvider"),[4,OE(t,new EE)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function PE(t){return NE(t).then(function(t){return t.persistence})}function RE(t){return NE(t).then(function(t){return t.localStore})}function ME(t){return DE(t).then(function(t){return t.remoteStore})}function LE(t){return DE(t).then(function(t){return t.syncEngine})}function FE(t){return Qh(this,void 0,void 0,function(){var e,n;return Yh(this,function(r){switch(r.label){case 0:return[4,DE(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=zS.bind(null,e.syncEngine),n.onUnlisten=KS.bind(null,e.syncEngine),n)]}})})}function VE(t,e,n){var r=this;void 0===n&&(n={});var i=new Mw;return t.asyncQueue.enqueueAndForget(function(){return Qh(r,void 0,void 0,function(){var r;return Yh(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new CE({next:function(o){e.enqueueAndForget(function(){return NS(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new zm(Hm.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new zm(Hm.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new MS(hy(n.path),o,{includeMetadataChanges:!0,so:!0});return OS(t,s)},[4,FE(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function UE(t,e,n){var r=this;void 0===n&&(n={});var i=new Mw;return t.asyncQueue.enqueueAndForget(function(){return Qh(r,void 0,void 0,function(){var r;return Yh(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new CE({next:function(n){e.enqueueAndForget(function(){return NS(t,s)}),n.fromCache&&"server"===r.source?i.reject(new zm(Hm.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new MS(n,o,{includeMetadataChanges:!0,so:!0});return OS(t,s)},[4,FE(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var jE=function(t,e,n,r,i,o,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s},qE=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),BE=new Map,HE=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},zE=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(TI.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),GE=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),KE=function(){function t(t){var e=this;this.currentUser=TI.UNAUTHENTICATED,this.oc=new Mw,this.cc=0,this.changeListener=function(){return Promise.resolve()},this.ac=!1,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.hc(),e.oc.resolve(),e.ac&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){Wm("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.lc(),e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):e.ac&&(Wm("FirebaseCredentialsProvider","Auth not yet detected"),e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)}))}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(Wm("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Zm("string"==typeof n.accessToken),new HE(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){this.ac=!0,this.asyncQueue=t,this.changeListener=e},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.hc=function(){var t=this.auth&&this.auth.getUid();return Zm(null===t||"string"==typeof t),new TI(t)},t.prototype.lc=function(){var t=this;this.ac&&(this.ac=!1,this.asyncQueue.enqueueRetryable(function(){return Qh(t,void 0,void 0,function(){return Yh(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,this.changeListener(this.currentUser)];case 2:return t.sent(),this.ac=!0,[2]}})})}))},t}(),WE=function(){function t(t,e,n){this.fc=t,this.dc=e,this.wc=n,this.type="FirstParty",this.user=TI.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.dc},e=this.fc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.wc&&(t["X-Goog-Iam-Authorization-Token"]=this.wc),t},enumerable:!1,configurable:!0}),t}(),$E=function(){function t(t,e,n){this.fc=t,this.dc=e,this.wc=n}return t.prototype.getToken=function(){return Promise.resolve(new WE(this.fc,this.dc,this.wc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(TI.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function QE(t,e,n){if(!n)throw new zm(Hm.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function YE(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new zm(Hm.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function XE(t,e,n,r){if(!0===e&&!0===r)throw new zm(Hm.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function ZE(t){if(!Tv.isDocumentKey(t))throw new zm(Hm.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function JE(t){if(Tv.isDocumentKey(t))throw new zm(Hm.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function tC(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Xm()}function eC(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new zm(Hm.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=tC(t);throw new zm(Hm.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function nC(t,e){if(e<=0)throw new zm(Hm.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var rC=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new zm(Hm.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new zm(Hm.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,XE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),iC=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rC({}),this._settingsFrozen=!1,t instanceof qE?(this._databaseId=t,this._credentials=new zE):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new zm(Hm.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qE(t.options.projectId)}(t),this._credentials=new KE(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new zm(Hm.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new zm(Hm.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rC(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new zE;switch(t.type){case"gapi":var e=t.client;return Zm(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new $E(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new zm(Hm.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=BE.get(this))&&(Wm("ComponentProvider","Removing Datastore"),BE.delete(this),t.terminate()),Promise.resolve();var t},t}(),oC=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new aC(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),sC=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),aC=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,hy(r))||this)._path=r,i.type="collection",i}return Wh(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new oC(this.firestore,null,new Tv(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(sC);function uC(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=pf(t),QE("collection","path",e),t instanceof iC)return JE(n=hv.fromString.apply(hv,Jh([e],r))),new aC(t,null,n);if(!(t instanceof oC||t instanceof aC))throw new zm(Hm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return JE(n=hv.fromString.apply(hv,Jh([t.path],r)).child(hv.fromString(e))),new aC(t.firestore,null,n)}function cC(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=pf(t),1===arguments.length&&(e=ev.u()),QE("doc","path",e),t instanceof iC)return ZE(n=hv.fromString.apply(hv,Jh([e],r))),new oC(t,null,new Tv(n));if(!(t instanceof oC||t instanceof aC))throw new zm(Hm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ZE(n=t._path.child(hv.fromString.apply(hv,Jh([e],r)))),new oC(t.firestore,t instanceof aC?t.converter:null,new Tv(n))}function lC(t,e){return t=pf(t),e=pf(e),(t instanceof oC||t instanceof aC)&&(e instanceof oC||e instanceof aC)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function hC(t,e){return t=pf(t),e=pf(e),t instanceof sC&&e instanceof sC&&t.firestore===e.firestore&&wy(t._query,e._query)&&t.converter===e.converter}var fC=function(){function t(){var t=this;this._c=Promise.resolve(),this.mc=[],this.yc=!1,this.gc=[],this.Ec=null,this.Tc=!1,this.Ic=[],this.Zi=new GI(this,"async_queue_retry"),this.Ac=function(){var e=HI();e&&Wm("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=HI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ac)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.yc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Rc(),this.bc(t)},t.prototype.enterRestrictedMode=function(){if(!this.yc){this.yc=!0;var t=HI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ac)}},t.prototype.enqueue=function(t){return this.Rc(),this.yc?new Promise(function(t){}):this.bc(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.mc.push(t),e.vc()})},t.prototype.vc=function(){return Qh(this,void 0,void 0,function(){var t,e=this;return Yh(this,function(n){switch(n.label){case 0:if(0===this.mc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.mc[0]()];case 2:return n.sent(),this.mc.shift(),this.Zi.reset(),[3,4];case 3:if(!qw(t=n.sent()))throw t;return Wm("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.mc.length>0&&this.Zi.ji(function(){return e.vc()}),n.label=5;case 5:return[2]}})})},t.prototype.bc=function(t){var e=this,n=this._c.then(function(){return e.Tc=!0,t().catch(function(t){throw e.Ec=t,e.Tc=!1,$m("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.Tc=!1,t})});return this._c=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Rc(),this.Ic.indexOf(t)>-1&&(e=0);var i=SS.createAndSchedule(this,t,e,n,function(t){return r.Pc(t)});return this.gc.push(i),i},t.prototype.Rc=function(){this.Ec&&Xm()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Vc=function(){return Qh(this,void 0,void 0,function(){var t;return Yh(this,function(e){switch(e.label){case 0:return[4,t=this._c];case 1:e.sent(),e.label=2;case 2:if(t!==this._c)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Sc=function(t){for(var e=0,n=this.gc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Dc=function(t){var e=this;return this.Vc().then(function(){e.gc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.gc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Vc()})},t.prototype.Cc=function(t){this.Ic.push(t)},t.prototype.Pc=function(t){var e=this.gc.indexOf(t);this.gc.splice(e,1)},t}();function dC(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Mw,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var pC=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new fC,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Wh(e,t),e.prototype._terminate=function(){return this._firestoreClient||mC(this),this._firestoreClient.terminate()},e}(iC);function gC(t){return t._firestoreClient||mC(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function mC(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new jE(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new xE(t._credentials,t._queue,r)}function vC(t,e,n){var r=this,i=new Mw;return t.asyncQueue.enqueue(function(){return Qh(r,void 0,void 0,function(){var r;return Yh(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,kE(t,n)];case 1:return o.sent(),[4,OE(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Hm.FAILED_PRECONDITION||t.code===Hm.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function yC(t){if(t._initialized||t._terminated)throw new zm(Hm.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var bC=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new zm(Hm.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dv(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),wC=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(gv.fromBase64String(e))}catch(e){throw new zm(Hm.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(gv.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),_C=function(t){this._methodName=t},IC=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new zm(Hm.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new zm(Hm.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return nv(this._lat,t._lat)||nv(this._long,t._long)},t}(),SC=/^__.*__$/,EC=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Zy(t,this.data,this.fieldMask,e,this.fieldTransforms):new Xy(t,this.data,e,this.fieldTransforms)},t}(),CC=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Zy(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function TC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xm()}}var AC=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Nc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xc",{get:function(){return this.settings.xc},enumerable:!1,configurable:!0}),t.prototype.Fc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fc({path:n,Oc:!1});return r.$c(t),r},t.prototype.Mc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fc({path:n,Oc:!1});return r.Nc(),r},t.prototype.Lc=function(t){return this.Fc({path:void 0,Oc:!0})},t.prototype.Bc=function(t){return WC(t,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Uc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Nc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Bc("Document fields must not be empty");if(TC(this.xc)&&SC.test(t))throw this.Bc('Document fields cannot begin and end with "__"')},t}(),xC=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||zI(t)}return t.prototype.Qc=function(t,e,n,r){return void 0===r&&(r=!1),new AC({xc:t,methodName:e,Uc:n,path:dv.emptyPath(),Oc:!1,qc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function kC(t){var e=t._freezeSettings(),n=zI(t._databaseId);return new xC(t._databaseId,!!e.ignoreUndefinedProperties,n)}function OC(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Qc(o.merge||o.mergeFields?2:0,e,n,i);HC("Data must be an object, but it was:",s,r);var a,u,c=qC(r,s);if(o.merge)a=new pv(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=zC(e,f[h],n);if(!s.contains(d))throw new zm(Hm.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");$C(l,d)||l.push(d)}a=new pv(l),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new EC(new jv(c),a,u)}var NC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wh(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.xc)throw t.Bc(1===t.xc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(_C);function DC(t,e,n){return new AC({xc:3,Uc:e.settings.Uc,methodName:t._methodName,Oc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var PC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wh(e,t),e.prototype._toFieldTransform=function(t){return new qy(t.path,new Py)},e.prototype.isEqual=function(t){return t instanceof e},e}(_C),RC=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Wh(e,t),e.prototype._toFieldTransform=function(t){var e=DC(this,t,!0),n=this.Kc.map(function(t){return jC(t,e)}),r=new Ry(n);return new qy(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(_C),MC=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Wh(e,t),e.prototype._toFieldTransform=function(t){var e=DC(this,t,!0),n=this.Kc.map(function(t){return jC(t,e)}),r=new Ly(n);return new qy(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(_C),LC=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return Wh(e,t),e.prototype._toFieldTransform=function(t){var e=new Vy(t.R,xy(t.R,this.jc));return new qy(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(_C);function FC(t,e,n,r){var i=t.Qc(1,e,n);HC("Data must be an object, but it was:",i,r);var o=[],s=jv.empty();uv(r,function(t,r){var a=KC(e,t,n);r=pf(r);var u=i.Mc(a);if(r instanceof NC)o.push(a);else{var c=jC(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new pv(o);return new CC(s,a,i.fieldTransforms)}function VC(t,e,n,r,i,o){var s=t.Qc(1,e,n),a=[zC(e,r,n)],u=[i];if(o.length%2!=0)throw new zm(Hm.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(zC(e,o[c])),u.push(o[c+1]);for(var l=[],h=jv.empty(),f=a.length-1;f>=0;--f)if(!$C(l,a[f])){var d=a[f],p=u[f];p=pf(p);var g=s.Mc(d);if(p instanceof NC)l.push(d);else{var m=jC(p,g);null!=m&&(l.push(d),h.set(d,m))}}var v=new pv(l);return new CC(h,v,s.fieldTransforms)}function UC(t,e,n,r){return void 0===r&&(r=!1),jC(n,t.Qc(r?4:3,e))}function jC(t,e){if(BC(t=pf(t)))return HC("Unsupported field value:",e,t),qC(t,e);if(t instanceof _C)return function(t,e){if(!TC(e.xc))throw e.Bc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Bc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Oc&&4!==e.xc)throw e.Bc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=jC(o[i],e.Lc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=pf(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return xy(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=ov.fromDate(t);return{timestampValue:Lb(e.R,n)}}if(t instanceof ov)return n=new ov(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Lb(e.R,n)};if(t instanceof IC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof wC)return{bytesValue:Fb(e.R,t._byteString)};if(t instanceof oC){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Bc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:jb(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Bc("Unsupported field value: "+tC(t))}(t,e)}function qC(t,e){var n={};return cv(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):uv(t,function(t,r){var i=jC(r,e.kc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function BC(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ov||t instanceof IC||t instanceof wC||t instanceof oC||t instanceof _C)}function HC(t,e,n){if(!BC(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=tC(n);throw e.Bc("an object"===r?t+" a custom object":t+" "+r)}}function zC(t,e,n){if((e=pf(e))instanceof bC)return e._internalPath;if("string"==typeof e)return KC(t,e);throw WC("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var GC=new RegExp("[~\\*/\\[\\]]");function KC(t,e,n){if(e.search(GC)>=0)throw WC("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(bC.bind.apply(bC,Jh([void 0],e.split(".")))))._internalPath}catch(rd){throw WC("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function WC(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new zm(Hm.INVALID_ARGUMENT,(a+=". ")+t+u)}function $C(t,e){return t.some(function(t){return t.isEqual(e)})}var QC=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new oC(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new YC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(XC("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),YC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wh(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(QC);function XC(t,e){return"string"==typeof e?KC(t,e):e instanceof bC?e._internalPath:e._delegate._internalPath}var ZC=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),JC=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return Wh(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new tT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(XC("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(QC),tT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wh(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(JC),eT=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new ZC(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new tT(n._firestore,n._userDataWriter,r.key,r,new ZC(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new zm(Hm.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new tT(t._firestore,t._userDataWriter,e.doc.key,e.doc,new ZC(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new tT(t._firestore,t._userDataWriter,e.doc.key,e.doc,new ZC(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:nT(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function nT(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xm()}}function rT(t,e){return t instanceof JC&&e instanceof JC?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof eT&&e instanceof eT&&t._firestore===e._firestore&&hC(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function iT(t){if(dy(t)&&0===t.explicitOrderBy.length)throw new zm(Hm.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var oT=function(){};function sT(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var aT=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Wc=e,i.Gc=n,i.zc=r,i.type="where",i}return Wh(e,t),e.prototype._apply=function(t){var e=kC(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new zm(Hm.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){pT(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(dT(r,t,l[c]));a={arrayValue:{values:u}}}else a=dT(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||pT(s,o),a=UC(n,"where",s,"in"===o||"not-in"===o);var h=$v.create(i,o,a);return function(t,e){if(e.g()){var n=gy(t);if(null!==n&&!n.isEqual(e.field))throw new zm(Hm.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=py(t);null!==r&&gT(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new zm(Hm.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Wc,this.Gc,this.zc);return new sC(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new cy(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(oT),uT=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Wc=e,r.Hc=n,r.type="orderBy",r}return Wh(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new zm(Hm.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new zm(Hm.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new oy(e,n);return function(t,e){if(null===py(t)){var n=gy(t);null!==n&&gT(0,n,e.field)}}(t,r),r}(t._query,this.Wc,this.Hc);return new sC(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new cy(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(oT),cT=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return Wh(e,t),e.prototype._apply=function(t){return new sC(t.firestore,t.converter,by(t._query,this.Jc,this.Yc))},e}(oT),lT=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return Wh(e,t),e.prototype._apply=function(t){var e=fT(t,this.type,this.Xc,this.Zc);return new sC(t.firestore,t.converter,function(t,e){return new cy(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(oT),hT=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return Wh(e,t),e.prototype._apply=function(t){var e=fT(t,this.type,this.Xc,this.Zc);return new sC(t.firestore,t.converter,function(t,e){return new cy(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(oT);function fT(t,e,n,r){if(n[0]=pf(n[0]),n[0]instanceof QC)return function(t,e,n,r,i){if(!r)throw new zm(Hm.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=vy(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(Rv(e,r.key));else{var c=r.data.field(u.field);if(wv(c))throw new zm(Hm.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new zm(Hm.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new ry(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=kC(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new zm(Hm.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new zm(Hm.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!my(t)&&-1!==c.indexOf("/"))throw new zm(Hm.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(hv.fromString(c));if(!Tv.isDocumentKey(l))throw new zm(Hm.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Tv(l);a.push(Rv(e,h))}else{var f=UC(n,r,c);a.push(f)}}return new ry(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function dT(t,e,n){if("string"==typeof(n=pf(n))){if(""===n)throw new zm(Hm.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!my(e)&&-1!==n.indexOf("/"))throw new zm(Hm.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(hv.fromString(n));if(!Tv.isDocumentKey(r))throw new zm(Hm.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Rv(t,new Tv(r))}if(n instanceof oC)return Rv(t,n._key);throw new zm(Hm.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+tC(n)+".")}function pT(t,e){if(!Array.isArray(t)||0===t.length)throw new zm(Hm.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new zm(Hm.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function gT(t,e,n){if(!n.isEqual(e))throw new zm(Hm.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var mT=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Av(t)){case 0:return null;case 1:return t.booleanValue;case 2:return yv(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(bv(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Xm()}},t.prototype.convertObject=function(t,e){var n=this,r={};return uv(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new IC(yv(t.latitude),yv(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=_v(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Iv(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=vv(t);return new ov(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=hv.fromString(t);Zm(hw(n));var r=new qE(n.get(1),n.get(3)),i=new Tv(n.popFirst(5));return r.isEqual(e)||$m("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function vT(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var yT=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Wh(e,t),e.prototype.convertBytes=function(t){return new wC(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new oC(this.firestore,null,e)},e}(mT),bT=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=kC(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=wT(t,this._firestore),i=vT(r.converter,e,n),o=OC(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Hy.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=wT(t,this._firestore);return o="string"==typeof(e=pf(e))||e instanceof bC?VC(this._dataReader,"WriteBatch.update",s._key,e,n,r):FC(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,Hy.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=wT(t,this._firestore);return this._mutations=this._mutations.concat(new ib(e._key,Hy.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new zm(Hm.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function wT(t,e){if((t=pf(t)).firestore!==e)throw new zm(Hm.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var _T=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Wh(e,t),e.prototype.convertBytes=function(t){return new wC(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new oC(this.firestore,null,e)},e}(mT);function IT(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=eC(t,oC);var o=eC(t.firestore,pC),s=kC(o);return ET(o,[("string"==typeof(e=pf(e))||e instanceof bC?VC(s,"updateDoc",t._key,e,n,r):FC(s,"updateDoc",t._key,e)).toMutation(t._key,Hy.exists(!0))])}function ST(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=pf(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||dC(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(dC(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof oC)c=eC(t.firestore,pC),l=hy(t._key.path),u={next:function(e){i[a]&&i[a](CT(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=eC(t,sC);c=eC(d.firestore,pC),l=d._query;var p=new _T(c);u={next:function(t){i[a]&&i[a](new eT(c,p,d,t))},error:i[a+1],complete:i[a+2]},iT(t._query)}return function(t,e,n,r){var i=this,o=new CE(r),s=new MS(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return Qh(i,void 0,void 0,function(){var e;return Yh(this,function(n){switch(n.label){case 0:return e=OS,[4,FE(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return Qh(i,void 0,void 0,function(){var e;return Yh(this,function(n){switch(n.label){case 0:return e=NS,[4,FE(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(gC(c),l,h,u)}function ET(t,e){return function(t,e){var n=this,r=new Mw;return t.asyncQueue.enqueueAndForget(function(){return Qh(n,void 0,void 0,function(){var n;return Yh(this,function(i){switch(i.label){case 0:return n=WS,[4,LE(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(gC(t),e)}function CT(t,e,n){var r=n.docs.get(e._key),i=new _T(t);return new JC(t,i,e._key,r,new ZC(n.hasPendingWrites,n.fromCache),e.converter)}var TT=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Wh(e,t),e.prototype.get=function(e){var n=this,r=wT(e,this._firestore),i=new _T(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new JC(n._firestore,i,r._key,t._document,new ZC(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=kC(t)}return t.prototype.get=function(t){var e=this,n=wT(t,this._firestore),r=new yT(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Xm();var i=t[0];if(i.isFoundDocument())return new QC(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new QC(e._firestore,r,n._key,null,n.converter);throw Xm()})},t.prototype.set=function(t,e,n){var r=wT(t,this._firestore),i=vT(r.converter,e,n),o=OC(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=wT(t,this._firestore);return o="string"==typeof(e=pf(e))||e instanceof bC?VC(this._dataReader,"Transaction.update",s._key,e,n,r):FC(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=wT(t,this._firestore);return this._transaction.delete(e._key),this},t}());function AT(){if("undefined"==typeof Uint8Array)throw new zm(Hm.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function xT(){if("undefined"==typeof atob)throw new zm(Hm.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var kT=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return xT(),new t(wC.fromBase64String(e))},t.fromUint8Array=function(e){return AT(),new t(wC.fromUint8Array(e))},t.prototype.toBase64=function(){return xT(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return AT(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),OT=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){yC(t=eC(t,pC));var n=gC(t),r=t._freezeSettings(),i=new EE;return vC(n,i,new IE(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){yC(t=eC(t,pC));var e=gC(t),n=t._freezeSettings(),r=new EE;return vC(e,r,new SE(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new zm(Hm.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Mw;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Qh(e,void 0,void 0,function(){var e;return Yh(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Qh(this,void 0,void 0,function(){return Yh(this,function(e){switch(e.label){case 0:return Vw.yt()?[4,Vw.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Q_(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),NT=function(){function t(t,e,n){var r=this;this._delegate=e,this.ta=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof qE||(this.ea=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=eC(t,iC))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&Qm("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var i=$h({iss:"https://securetoken.google.com/demo-project",aud:"demo-project",iat:n,exp:n+3600,auth_time:n,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[tf.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),tf.encodeString(JSON.stringify(i),!1),""].join(".")}(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new zm(Hm.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new GE(new HE(o,new TI(s)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Qh(e,void 0,void 0,function(){var e,n;return Yh(this,function(r){switch(r.label){case 0:return[4,PE(t)];case 1:return e=r.sent(),[4,ME(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Jm(t);return e.$r.delete(0),ZI(e)}(n))]}})})})}(gC(eC(this._delegate,pC)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Qh(e,void 0,void 0,function(){var e,n;return Yh(this,function(r){switch(r.label){case 0:return[4,PE(t)];case 1:return e=r.sent(),[4,ME(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Qh(this,void 0,void 0,function(){var e;return Yh(this,function(n){switch(n.label){case 0:return(e=Jm(t)).$r.add(0),[4,JI(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(gC(eC(this._delegate,pC)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&XE("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.ta.enableMultiTabIndexedDbPersistence(this):this.ta.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.ta.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.ea&&(this.ea._removeServiceInstance("firestore"),this.ea._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Mw;return t.asyncQueue.enqueueAndForget(function(){return Qh(e,void 0,void 0,function(){var e;return Yh(this,function(r){switch(r.label){case 0:return e=JS,[4,LE(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(gC(eC(this._delegate,pC)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new CE(e);return t.asyncQueue.enqueueAndForget(function(){return Qh(n,void 0,void 0,function(){var e;return Yh(this,function(n){switch(n.label){case 0:return e=function(t,e){Jm(t).Gr.add(e),e.next()},[4,FE(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Qh(n,void 0,void 0,function(){var e;return Yh(this,function(n){switch(n.label){case 0:return e=function(t,e){Jm(t).Gr.delete(e)},[4,FE(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(gC(t=eC(t,pC)),dC(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.ea)throw new zm(Hm.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.ea},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new GT(this,uC(this._delegate,t))}catch(t){throw FT(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new LT(this,cC(this._delegate,t))}catch(t){throw FT(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new BT(this,function(t,e){if(t=eC(t,iC),QE("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new zm(Hm.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new sC(t,null,function(t){return new cy(hv.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw FT(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Mw;return t.asyncQueue.enqueueAndForget(function(){return Qh(n,void 0,void 0,function(){var n;return Yh(this,function(i){switch(i.label){case 0:return[4,function(t){return DE(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new AE(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(gC(t),function(n){return e(new TT(t,n))})}(this._delegate,function(n){return t(new PT(e,n))})},t.prototype.batch=function(){var t=this;return gC(this._delegate),new RT(new bT(this._delegate,function(e){return ET(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new zm(Hm.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new zm(Hm.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),DT=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Wh(e,t),e.prototype.convertBytes=function(t){return new kT(new wC(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return LT.na(e,this.firestore,null)},e}(mT),PT=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new DT(t)}return t.prototype.get=function(t){var e=this,n=KT(t);return this._delegate.get(n).then(function(t){return new jT(e._firestore,new JC(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=KT(t);return n?(YE("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=KT(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Jh([s,e,n],i)),this},t.prototype.delete=function(t){var e=KT(t);return this._delegate.delete(e),this},t}(),RT=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=KT(t);return n?(YE("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=KT(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Jh([s,e,n],i)),this},t.prototype.delete=function(t){var e=KT(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),MT=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new tT(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new qT(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.sa=function(e,n){var r=t.ia,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new DT(e),n),i.set(n,o)),o},t}();MT.ia=new WeakMap;var LT=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new DT(t)}return t.ra=function(e,n,r){if(e.length%2!=0)throw new zm(Hm.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new oC(n._delegate,r,new Tv(e)))},t.na=function(e,n,r){return new t(n,new oC(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new GT(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new GT(this.firestore,uC(this._delegate,t))}catch(t){throw FT(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=pf(t))instanceof oC&&lC(this._delegate,t)},t.prototype.set=function(t,e){e=YE("DocumentReference.set",e);try{return function(t,e,n){t=eC(t,oC);var r=eC(t.firestore,pC),i=vT(t.converter,e,n);return ET(r,[OC(kC(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Hy.none())])}(this._delegate,t,e)}catch(t){throw FT(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?IT(this._delegate,t):IT.apply(void 0,Jh([this._delegate,t,e],n))}catch(t){throw FT(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return ET(eC((t=this._delegate).firestore,pC),[new ib(t._key,Hy.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=VT(e),i=UT(e,function(e){return new jT(t.firestore,new JC(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return ST(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=eC(t,oC);var e=eC(t.firestore,pC),n=gC(e),r=new _T(e);return function(t,e){var n=this,r=new Mw;return t.asyncQueue.enqueueAndForget(function(){return Qh(n,void 0,void 0,function(){var n;return Yh(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Qh(this,void 0,void 0,function(){var r,i;return Yh(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Jm(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new zm(Hm.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=ES(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,RE(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new JC(e,r,t._key,n,new ZC(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=eC(t,oC);var e=eC(t.firestore,pC);return VE(gC(e),t._key,{source:"server"}).then(function(n){return CT(e,t,n)})}(this._delegate):function(t){t=eC(t,oC);var e=eC(t.firestore,pC);return VE(gC(e),t._key).then(function(n){return CT(e,t,n)})}(this._delegate)).then(function(t){return new jT(e.firestore,new JC(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?MT.sa(this.firestore,e):null))},t}();function FT(t,e,n){return t.message=t.message.replace(e,n),t}function VT(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!dC(r))return r}return{}}function UT(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=dC(t[0])?t[0]:dC(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var jT=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new LT(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return rT(this._delegate,t._delegate)},t}(),qT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wh(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(jT),BT=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new DT(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,sT(this._delegate,function(t,e,n){var r=e,i=XC("where",t);return new aT(i,r,n)}(e,n,r)))}catch(e){throw FT(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,sT(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=XC("orderBy",t);return new uT(r,n)}(e,n)))}catch(e){throw FT(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,sT(this._delegate,function(t){return nC("limit",t),new cT("limit",t,"F")}(e)))}catch(e){throw FT(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,sT(this._delegate,function(t){return nC("limitToLast",t),new cT("limitToLast",t,"L")}(e)))}catch(e){throw FT(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,sT(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new lT("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw FT(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,sT(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new lT("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw FT(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,sT(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new hT("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw FT(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,sT(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new hT("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw FT(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return hC(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=eC(t,sC);var e=eC(t.firestore,pC),n=gC(e),r=new _T(e);return function(t,e){var n=this,r=new Mw;return t.asyncQueue.enqueueAndForget(function(){return Qh(n,void 0,void 0,function(){var n;return Yh(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Qh(this,void 0,void 0,function(){var r,i,o,s,a;return Yh(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,lI(t,e,!0)];case 1:return a=u.sent(),r=new jS(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=ES(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,RE(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new eT(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=eC(t,sC);var e=eC(t.firestore,pC),n=gC(e),r=new _T(e);return UE(n,t._query,{source:"server"}).then(function(n){return new eT(e,r,t,n)})}(this._delegate):function(t){t=eC(t,sC);var e=eC(t.firestore,pC),n=gC(e),r=new _T(e);return iT(t._query),UE(n,t._query).then(function(n){return new eT(e,r,t,n)})}(this._delegate)).then(function(t){return new zT(e.firestore,new eT(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=VT(e),i=UT(e,function(e){return new zT(t.firestore,new eT(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return ST(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?MT.sa(this.firestore,e):null))},t}(),HT=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new qT(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),zT=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new BT(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new qT(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new HT(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new qT(n._firestore,r))})},t.prototype.isEqual=function(t){return rT(this._delegate,t._delegate)},t}(),GT=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Wh(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new LT(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new LT(this.firestore,void 0===t?cC(this._delegate):cC(this._delegate,t))}catch(t){throw FT(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=eC(t.firestore,pC),r=cC(t),i=vT(t.converter,e);return ET(n,[OC(kC(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Hy.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new LT(e.firestore,t)})},e.prototype.isEqual=function(t){return lC(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?MT.sa(this.firestore,t):null))},e}(BT);function KT(t){return eC(t,oC)}var WT,$T=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(bC.bind.apply(bC,Jh([void 0],t)))}return t.documentId=function(){return new t(dv.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=pf(t))instanceof bC&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),QT=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new PC("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new NC("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new RC("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new MC("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new LC("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),YT={Firestore:NT,GeoPoint:IC,Timestamp:ov,Blob:kT,Transaction:PT,WriteBatch:RT,DocumentReference:LT,DocumentSnapshot:jT,Query:BT,QueryDocumentSnapshot:qT,QuerySnapshot:zT,CollectionReference:GT,FieldPath:$T,FieldValue:QT,setLogLevel:function(t){Gm.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function XT(...t){let e=t[t.length-1];return C(e)?(t.pop(),M(t,e)):z(t)}(function(t,e){t.INTERNAL.registerComponent(new mf("firestore",function(t){return function(t,e){return new NT(t,new pC(t,e),new OT)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},YT)))})(WT=jf),WT.registerVersion("@firebase/firestore","2.3.1");class ZT extends S{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new w;return this._value}next(t){super.next(this._value=t)}}class JT extends p{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class tA extends p{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function eA(t,e,n,r,i=new tA(t,n,r)){if(!i.closed)return e instanceof y?e.subscribe(i):R(e)(i)}const nA={};class rA{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new iA(t,this.resultSelector))}}class iA extends JT{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(nA),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(eA(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===nA?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const oA=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function sA(...t){return H(1)(XT(...t))}const aA=new y(t=>t.complete());function uA(t){return t?function(t){return new y(e=>t.schedule(()=>e.complete()))}(t):aA}function cA(t){return new y(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?L(n):uA()).subscribe(e)})}function lA(t,e){return"function"==typeof e?n=>n.pipe(lA((n,r)=>L(t(n,r)).pipe(T((t,i)=>e(n,t,r,i))))):e=>e.lift(new hA(t))}class hA{constructor(t){this.project=t}call(t,e){return e.subscribe(new fA(t,this.project))}}class fA extends V{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new F(this),r=this.destination;r.add(n),this.innerSubscription=U(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const dA=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function pA(t){return e=>0===t?uA():e.lift(new gA(t))}class gA{constructor(t){if(this.total=t,this.total<0)throw new dA}call(t,e){return e.subscribe(new mA(t,this.total))}}class mA extends p{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function vA(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new yA(t,e,n))}}class yA{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new bA(t,this.accumulator,this.seed,this.hasSeed))}}class bA extends p{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function wA(t,e){return function(n){return n.lift(new _A(t,e))}}class _A{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new IA(t,this.predicate,this.thisArg))}}class IA extends p{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function SA(t){return function(e){const n=new EA(t),r=e.lift(n);return n.caught=r}}class EA{constructor(t){this.selector=t}call(t,e){return e.subscribe(new CA(t,this.selector,this.caught))}}class CA extends V{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new F(this);this.add(r);const i=U(n,r);i!==r&&this.add(i)}}}function TA(t,e){return j(t,e,1)}function AA(t){return function(e){return 0===t?uA():e.lift(new xA(t))}}class xA{constructor(t){if(this.total=t,this.total<0)throw new dA}call(t,e){return e.subscribe(new kA(t,this.total))}}class kA extends p{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function OA(t=PA){return e=>e.lift(new NA(t))}class NA{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new DA(t,this.errorFactory))}}class DA extends p{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(WT){t=WT}this.destination.error(t)}}}function PA(){return new oA}function RA(t=null){return e=>e.lift(new MA(t))}class MA{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new LA(t,this.defaultValue))}}class LA extends p{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function FA(t,e){const n=arguments.length>=2;return r=>r.pipe(t?wA((e,n)=>t(e,n,r)):v,pA(1),n?RA(e):OA(()=>new oA))}function VA(){}function UA(t,e,n){return function(r){return r.lift(new jA(t,e,n))}}class jA{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new qA(t,this.nextOrObserver,this.error,this.complete))}}class qA extends p{constructor(t,e,n,i){super(t),this._tapNext=VA,this._tapError=VA,this._tapComplete=VA,this._tapError=n||VA,this._tapComplete=i||VA,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||VA,this._tapError=e.error||VA,this._tapComplete=e.complete||VA)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class BA{constructor(t){this.callback=t}call(t,e){return e.subscribe(new HA(t,this.callback))}}class HA extends p{constructor(t,e){super(t),this.add(new h(e))}}class zA{constructor(t,e){this.id=t,this.url=e}}class GA extends zA{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class KA extends zA{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class WA extends zA{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $A extends zA{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class QA extends zA{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YA extends zA{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class XA extends zA{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ZA extends zA{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JA extends zA{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tx{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ex{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class nx{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rx{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ix{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ox{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sx{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ax{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ux(t){return new ax(t)}function cx(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function lx(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function hx(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!fx(t[i],e[i]))return!1;return!0}function fx(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function dx(t){return Array.prototype.concat.apply([],t)}function px(t){return t.length>0?t[t.length-1]:null}function gx(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function mx(t){return Fo(t)?t:Lo(t)?L(Promise.resolve(t)):XT(t)}const vx={exact:function t(e,n,r){if(!Tx(e.segments,n.segments))return!1;if(!Ix(e.segments,n.segments,r))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i],r))return!1}return!0},subset:wx},yx={exact:function(t,e){return hx(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>fx(t[n],e[n]))},ignored:()=>!0};function bx(t,e,n){return vx[n.paths](t.root,e.root,n.matrixParams)&&yx[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function wx(t,e,n){return _x(t,e,e.segments,n)}function _x(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!!Tx(i,n)&&!e.hasChildren()&&!!Ix(i,n,r)}if(t.segments.length===n.length){if(!Tx(t.segments,n))return!1;if(!Ix(t.segments,n,r))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!wx(t.children[n],e.children[n],r))return!1}return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!Tx(t.segments,i)&&!!Ix(t.segments,i,r)&&!!t.children.primary&&_x(t.children.primary,e,o,r)}}function Ix(t,e,n){return e.every((e,r)=>yx[n](t[r].parameters,e.parameters))}class Sx{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ux(this.queryParams)),this._queryParamMap}toString(){return kx.serialize(this)}}class Ex{constructor(t,e){this.segments=t,this.children=e,this.parent=null,gx(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ox(this)}}class Cx{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ux(this.parameters)),this._parameterMap}toString(){return Fx(this)}}function Tx(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Ax{}class xx{parse(t){const e=new Bx(t);return new Sx(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Nx(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Px(e)}=${Px(t)}`).join("&"):`${Px(e)}=${Px(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const kx=new xx;function Ox(t){return t.segments.map(t=>Fx(t)).join("/")}function Nx(t,e){if(!t.hasChildren())return Ox(t);if(e){const e=t.children.primary?Nx(t.children.primary,!1):"",n=[];return gx(t.children,(t,e)=>{"primary"!==e&&n.push(`${e}:${Nx(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return gx(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),gx(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>"primary"===n?[Nx(t.children.primary,!1)]:[`${n}:${Nx(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Ox(t)}/${e[0]}`:`${Ox(t)}/(${e.join("//")})`}}function Dx(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Px(t){return Dx(t).replace(/%3B/gi,";")}function Rx(t){return Dx(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mx(t){return decodeURIComponent(t)}function Lx(t){return Mx(t.replace(/\+/g,"%20"))}function Fx(t){return`${Rx(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Rx(t)}=${Rx(e[t])}`).join("")}`;var e}const Vx=/^[^\/()?;=#]+/;function Ux(t){const e=t.match(Vx);return e?e[0]:""}const jx=/^[^=?&#]+/,qx=/^[^?&#]+/;class Bx{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ex([],{}):new Ex([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Ex(t,e)),n}parseSegment(){const t=Ux(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Cx(Mx(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Ux(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Ux(this.remaining);t&&(n=t,this.capture(n))}t[Mx(e)]=Mx(n)}parseQueryParam(t){const e=function(t){const e=t.match(jx);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(qx);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Lx(e),i=Lx(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Ux(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Ex([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Hx{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=zx(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=zx(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Gx(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Gx(t,this._root).map(t=>t.value)}}function zx(t,e){if(t===e.value)return e;for(const n of e.children){const e=zx(t,n);if(e)return e}return null}function Gx(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Gx(t,n);if(r.length)return r.unshift(e),r}return[]}class Kx{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Wx(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class $x extends Hx{constructor(t,e){super(t),this.snapshot=e,tk(this,t)}toString(){return this.snapshot.toString()}}function Qx(t,e){const n=function(t,e){const n=new Zx([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Jx("",new Kx(n,[]))}(t,e),r=new ZT([new Cx("",{})]),i=new ZT({}),o=new ZT({}),s=new ZT({}),a=new ZT(""),u=new Yx(r,i,s,a,o,"primary",e,n.root);return u.snapshot=n.root,new $x(new Kx(u,[]),n)}class Yx{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(T(t=>ux(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(T(t=>ux(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Xx(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Zx{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ux(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ux(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Jx extends Hx{constructor(t,e){super(e),this.url=t,tk(this,e)}toString(){return ek(this._root)}}function tk(t,e){e.value._routerState=t,e.children.forEach(e=>tk(t,e))}function ek(t){const e=t.children.length>0?` { ${t.children.map(ek).join(", ")} } `:"";return`${t.value}${e}`}function nk(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,hx(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),hx(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!hx(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),hx(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function rk(t,e){return hx(t.params,e.params)&&function(t,e){return Tx(t,e)&&t.every((t,n)=>hx(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||rk(t.parent,e.parent))}function ik(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return ik(t,e,r);return ik(t,e)})}(t,e,n);return new Kx(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return ok(e,t),t}}const n=new Yx(new ZT((r=e.value).url),new ZT(r.params),new ZT(r.queryParams),new ZT(r.fragment),new ZT(r.data),r.outlet,r.component,r),i=e.children.map(e=>ik(t,e));return new Kx(n,i)}var r}function ok(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)ok(t.children[n],e.children[n])}function sk(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ak(t){return"object"==typeof t&&null!=t&&t.outlets}function uk(t,e,n,r,i){let o={};return r&&gx(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Sx(n.root===t?e:ck(n.root,t,e),o,i)}function ck(t,e,n){const r={};return gx(t.children,(t,i)=>{r[i]=t===e?n:ck(t,e,n)}),new Ex(t.segments,r)}class lk{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&sk(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(ak);if(r&&r!==px(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class hk{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function fk(t,e,n){if(t||(t=new Ex([],{})),0===t.segments.length&&t.hasChildren())return dk(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(ak(s))break;const a=`${s}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!vk(a,u,e))return o;r+=2}else{if(!vk(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Ex(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Ex(t.segments.slice(r.pathIndex),t.children),dk(e,0,i)}return r.match&&0===i.length?new Ex(t.segments,{}):r.match&&!t.hasChildren()?pk(t,e,n):r.match?dk(t,0,i):pk(t,e,n)}function dk(t,e,n){if(0===n.length)return new Ex(t.segments,{});{const r=function(t){return ak(t[0])?t[0].outlets:{primary:t}}(n),i={};return gx(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=fk(t.children[r],e,n))}),gx(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Ex(t.segments,i)}}function pk(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(ak(o)){const t=gk(o.outlets);return new Ex(r,t)}if(0===i&&sk(n[0])){r.push(new Cx(t.segments[e].path,mk(n[0]))),i++;continue}const s=ak(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&sk(a)?(r.push(new Cx(s,mk(a))),i+=2):(r.push(new Cx(s,{})),i++)}return new Ex(r,{})}function gk(t){const e={};return gx(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=pk(new Ex([],{}),0,t))}),e}function mk(t){const e={};return gx(t,(t,n)=>e[n]=`${t}`),e}function vk(t,e,n){return t==n.path&&hx(e,n.parameters)}class yk{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),nk(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Wx(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),gx(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Wx(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=Wx(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new ox(t.value.snapshot))}),t.children.length&&this.forwardEvent(new rx(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(nk(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),bk(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function bk(t){nk(t.value),t.children.forEach(bk)}class wk{constructor(t,e){this.routes=t,this.module=e}}function _k(t){return"function"==typeof t}function Ik(t){return t instanceof Sx}const Sk=Symbol("INITIAL_VALUE");function Ek(){return lA(t=>function(...t){let e,n;return C(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),z(t,n).lift(new rA(e))}(t.map(t=>t.pipe(pA(1),function(...t){const e=t[t.length-1];return C(e)?(t.pop(),n=>sA(t,n,e)):e=>sA(t,e)}(Sk)))).pipe(vA((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Sk)return t;if(r===Sk&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Ik(r))return r}return t},t)},Sk),wA(t=>t!==Sk),T(t=>Ik(t)?t:!0===t),pA(1)))}let Ck=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=qt({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Ro(0,"router-outlet")},directives:function(){return[SO]},encapsulation:2}),t})();function Tk(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Ak(r,xk(e,r))}}function Ak(t,e){t.children&&Tk(t.children,e)}function xk(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function kk(t){const e=t.children&&t.children.map(kk),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Ck),n}function Ok(t){return t.outlet||"primary"}function Nk(t,e){const n=t.filter(t=>Ok(t)===e);return n.push(...t.filter(t=>Ok(t)!==e)),n}const Dk={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Pk(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Dk):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||lx)(n,t,e);if(!i)return Object.assign({},Dk);const o={};gx(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Rk(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>Mk(t,e,n)&&"primary"!==Ok(n))}(t,n,r)){const i=new Ex(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&"primary"!==Ok(o)){const n=new Ex([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Ok(o)]=n}return i}(t,e,r,new Ex(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Mk(t,e,n))}(t,n,r)){const o=new Ex(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(Mk(t,n,a)&&!i[Ok(a)]){const n=new Ex([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Ok(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Ex(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Mk(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Lk(t,e,n,r){return!!(Ok(t)===r||"primary"!==r&&Mk(e,n,t))&&("**"===t.path||Pk(e,t,n).matched)}function Fk(t,e,n){return 0===e.length&&!t.children[n]}class Vk{constructor(t){this.segmentGroup=t||null}}class Uk{constructor(t){this.urlTree=t}}function jk(t){return new y(e=>e.error(new Vk(t)))}function qk(t){return new y(e=>e.error(new Uk(t)))}function Bk(t){return new y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Hk{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(ga)}apply(){const t=Rk(this.urlTree.root,[],[],this.config).segmentGroup,e=new Ex(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,"primary").pipe(T(t=>this.createUrlTree(zk(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(SA(t=>{if(t instanceof Uk)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Vk)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(T(e=>this.createUrlTree(zk(e),t.queryParams,t.fragment))).pipe(SA(t=>{if(t instanceof Vk)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Ex([],{primary:t}):t;return new Sx(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(T(t=>new Ex([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return L(r).pipe(TA(r=>{const i=n.children[r],o=Nk(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(T(t=>({segment:t,outlet:r})))}),vA((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?wA((e,n)=>t(e,n,r)):v,AA(1),n?RA(e):OA(()=>new oA))}())}expandSegment(t,e,n,r,i,o){return L(n).pipe(TA(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(SA(t=>{if(t instanceof Vk)return XT(null);throw t}))),FA(t=>!!t),SA((t,n)=>{if(t instanceof oA||"EmptyError"===t.name){if(Fk(e,r,i))return XT(new Ex([],{}));throw new Vk(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Lk(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):jk(e):jk(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?qk(i):this.lineralizeSegments(n,i).pipe(j(n=>{const i=new Ex(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Pk(e,r,i);if(!s)return jk(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?qk(l):this.lineralizeSegments(r,l).pipe(j(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?XT(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(T(t=>(n._loadedConfig=t,new Ex(r,{})))):XT(new Ex(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=Pk(e,n,r);if(!o)return jk(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(j(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=Rk(e,s,u,o),l=new Ex(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(T(t=>new Ex(s,t)));if(0===o.length&&0===c.length)return XT(new Ex(s,{}));const h=Ok(n)===i;return this.expandSegment(r,l,o,c,h?"primary":i,!0).pipe(T(t=>new Ex(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?XT(new wk(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?XT(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(j(n=>n?this.configLoader.load(t.injector,e).pipe(T(t=>(e._loadedConfig=t,t))):function(t){return new y(e=>e.error(cx(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):XT(new wk([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;return r&&0!==r.length?XT(r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&_k(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!_k(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return mx(o)})).pipe(Ek(),UA(t=>{if(!Ik(t))return;const e=cx(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),T(t=>!0===t)):XT(!0)}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return XT(n);if(r.numberOfChildren>1||!r.children.primary)return Bk(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Sx(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return gx(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return gx(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Ex(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function zk(t){const e={};for(const n of Object.keys(t.children)){const r=zk(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Ex(t.segments.concat(e.segments),e.children)}return t}(new Ex(t.segments,e))}class Gk{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Kk{constructor(t,e){this.component=t,this.route=e}}function Wk(t,e,n){const r=t._root;return Qk(r,e?e._root:null,n,[r.value])}function $k(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Qk(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Wx(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Tx(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Tx(t.url,e.url)||!hx(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rk(t,e)||!hx(t.queryParams,e.queryParams);case"paramsChange":default:return!rk(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Gk(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Qk(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Kk(a.outlet.component,s))}else s&&Yk(e,a,i),i.canActivateChecks.push(new Gk(r)),Qk(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),gx(o,(t,e)=>Yk(t,n.getContext(e),i)),i}function Yk(t,e,n){const r=Wx(t),i=t.value;gx(r,(t,r)=>{Yk(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Kk(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Xk{}function Zk(t){return new y(e=>e.error(t))}class Jk{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=Rk(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary");if(null===e)return null;const n=new Zx([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Kx(n,e),i=new Jx(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Xx(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=Nk(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=eO(n);return r.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return Fk(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!Lk(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?px(n).parameters:{};i=new Zx(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,iO(t),Ok(t),t.component,t,nO(e),rO(e)+n.length,oO(t))}else{const r=Pk(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new Zx(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,iO(t),Ok(t),t.component,t,nO(e),rO(e)+o.length,oO(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Rk(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new Kx(i,t)]}if(0===a.length&&0===c.length)return[new Kx(i,[])];const l=Ok(t)===r,h=this.processSegment(a,u,c,l?"primary":r);return null===h?null:[new Kx(i,h)]}}function tO(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function eO(t){const e=[],n=new Set;for(const r of t){if(!tO(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=eO(r.children);e.push(new Kx(r.value,t))}return e.filter(t=>!n.has(t))}function nO(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function rO(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function iO(t){return t.data||{}}function oO(t){return t.resolve||{}}function sO(t){return lA(e=>{const n=t(e);return n?L(n).pipe(T(()=>e)):XT(e)})}class aO extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const uO=new Fn("ROUTES");class cO{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(T(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new wk(dx(r.injector.get(uO,void 0,bt.Self|bt.Optional)).map(kk),r)}),SA(t=>{throw e._loader$=void 0,t}));return e._loader$=new $(n,()=>new S).pipe(G()),e._loader$}loadModuleFactory(t){return"string"==typeof t?L(this.loader.load(t)):mx(t()).pipe(j(t=>t instanceof ma?XT(t):L(this.compiler.compileModuleAsync(t))))}}class lO{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new hO,this.attachRef=null}}class hO{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new lO,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class fO{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function dO(t){throw t}function pO(t,e,n){return e.parse("/")}function gO(t,e){return XT(null)}const mO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let yO=(()=>{class t{constructor(t,e,n,r,i,o,s,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new S,this.errorHandler=dO,this.malformedUriErrorHandler=pO,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:gO,afterPreactivation:gO},this.urlHandlingStrategy=new fO,this.routeReuseStrategy=new aO,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=i.get(ga),this.console=i.get(su);const u=i.get(bu);this.isNgZoneEnabled=u instanceof bu&&bu.isInAngularZone(),this.resetConfig(a),this.currentUrlTree=new Sx(new Ex([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new cO(o,s,t=>this.triggerEvent(new tx(t)),t=>this.triggerEvent(new ex(t))),this.routerState=Qx(this.currentUrlTree,this.rootComponentType),this.transitions=new ZT({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(wA(t=>0!==t.id),T(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),lA(t=>{let n=!1,r=!1;return XT(t).pipe(UA(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),lA(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return XT(t).pipe(lA(t=>{const n=this.transitions.getValue();return e.next(new GA(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?aA:Promise.resolve(t)}),function(t,e,n,r){return lA(i=>function(t,e,n,r,i){return new Hk(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(T(t=>Object.assign(Object.assign({},i),{urlAfterRedirects:t}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),UA(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return j(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new Jk(t,e,n,r,i,o).recognize();return null===s?Zk(new Xk):XT(s)}catch(WT){return Zk(WT)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(T(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),UA(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new QA(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new GA(n,this.serializeUrl(r),i,o);e.next(a);const u=Qx(r,this.rootComponentType).snapshot;return XT(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),aA}),sO(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),UA(t=>{const e=new YA(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),T(t=>Object.assign(Object.assign({},t),{guards:Wk(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return j(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?XT(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return L(t).pipe(j(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?XT(o.map(o=>{const s=$k(o,e,i);let a;if(function(t){return t&&_k(t.canDeactivate)}(s))a=mx(s.canDeactivate(t,e,n,r));else{if(!_k(s))throw new Error("Invalid CanDeactivate guard");a=mx(s(t,e,n,r))}return a.pipe(FA())})).pipe(Ek()):XT(!0)}(t.component,t.route,n,e,r)),FA(t=>!0!==t,!0))}(s,r,i,t).pipe(j(n=>n&&function(t){return"boolean"==typeof t}(n)?function(t,e,n,r){return L(e).pipe(TA(e=>sA(function(t,e){return null!==t&&e&&e(new nx(t)),XT(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new ix(t)),XT(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>cA(()=>XT(e.guards.map(i=>{const o=$k(i,e.node,n);let s;if(function(t){return t&&_k(t.canActivateChild)}(o))s=mx(o.canActivateChild(r,t));else{if(!_k(o))throw new Error("Invalid CanActivateChild guard");s=mx(o(r,t))}return s.pipe(FA())})).pipe(Ek())));return XT(i).pipe(Ek())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?XT(r.map(r=>cA(()=>{const i=$k(r,e,n);let o;if(function(t){return t&&_k(t.canActivate)}(i))o=mx(i.canActivate(e,t));else{if(!_k(i))throw new Error("Invalid CanActivate guard");o=mx(i(e,t))}return o.pipe(FA())}))).pipe(Ek()):XT(!0)}(t,e.route,n))),FA(t=>!0!==t,!0))}(r,o,t,e):XT(n)),T(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),UA(t=>{if(Ik(t.guardsResult)){const e=cx(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new XA(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),wA(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new WA(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),sO(t=>{if(t.guards.canActivateChecks.length)return XT(t).pipe(UA(t=>{const e=new ZA(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),lA(t=>{let n=!1;return XT(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,j(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return XT(t);let o=0;return L(n).pipe(TA(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return XT({});const o={};return L(i).pipe(j(i=>function(t,e,n,r){const i=$k(t,e,r);return mx(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(UA(t=>{o[i]=t}))),AA(1),j(()=>Object.keys(o).length===i.length?XT(o):aA))}(t._resolve,t,e,r).pipe(T(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Xx(t,n).resolve),null)))}(t.route,e,r,i)),UA(()=>o++),AA(1),j(e=>o===n.length?XT(t):aA))})),UA({next:()=>n=!0,complete:()=>{if(!n){const n=new WA(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),UA(t=>{const e=new JA(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),sO(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),T(t=>{const e=function(t,e,n){const r=ik(t,e._root,n?n._root:void 0);return new $x(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),UA(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),T(t=>(new yk(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),UA({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new WA(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new BA(i))),SA(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Ik(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new WA(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new $A(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(wy){t.reject(wy)}}var i;return aA}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Tk(t),this.config=t.map(kk),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return uk(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new lk(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return gx(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new lk(n,e,r)}(n);if(o.toRoot())return uk(e.root,new Ex([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new hk(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new hk(t,t===e.root,0)}const r=sk(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new hk(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?dk(s.segmentGroup,s.index,o.commands):fk(s.segmentGroup,s.index,o.commands);return uk(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,null!=u?u:null)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Ik(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(WT){e=this.malformedUriErrorHandler(WT,this.urlSerializer,t)}return e}isActive(t,e){let n;if(n=!0===e?Object.assign({},mO):!1===e?Object.assign({},vO):e,Ik(t))return bx(this.currentUrlTree,t,n);const r=this.parseUrl(t);return bx(this.currentUrlTree,r,n)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new KA(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(Jn(Un),Jn(Ax),Jn(hO),Jn(fc),Jn(ho),Jn(qu),Jn(mu),Jn(void 0))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),bO=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new S,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:_O(this.skipLocationChange),replaceUrl:_O(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:_O(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(ko(yO),ko(Yx),Mn("tabindex"),ko(Fs),ko(Rs))},t.\u0275dir=Wt({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&Vo("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[oe]}),t})(),wO=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new S,this.subscription=t.events.subscribe(t=>{t instanceof KA&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:_O(this.skipLocationChange),replaceUrl:_O(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:_O(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(ko(yO),ko(Yx),ko(ac))},t.\u0275dir=Wt({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&Vo("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(hs("href",e.href,lr),To("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[oe]}),t})();function _O(t){return""===t||!!t}let IO=(()=>{class t{constructor(t,e,n,r,i,o){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof KA&&this.update()})}ngAfterContentInit(){XT(this.links.changes,this.linksWithHrefs.changes,XT(null)).pipe(H()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=L(e).pipe(H()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){const e="paths"in this.routerLinkActiveOptions?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return n=>t.isActive(n.urlTree,e)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(ko(yO),ko(Rs),ko(Fs),ko(sa),ko(bO,8),ko(wO,8))},t.\u0275dir=Wt({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){if(1&t&&(Qa(n,bO,5),Qa(n,wO,5)),2&t){let t;$a(t=Ya())&&(e.links=t),$a(t=Ya())&&(e.linksWithHrefs=t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[oe]}),t})(),SO=(()=>{class t{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new La,this.deactivateEvents=new La,this.name=r||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new EO(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(ko(hO),ko(ya),ko(Os),Mn("name"),ko(sa))},t.\u0275dir=Wt({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class EO{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Yx?this.route:t===hO?this.childContexts:this.parent.get(t,e)}}class CO{}class TO{preload(t,e){return XT(null)}}let AO=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new cO(e,n,e=>t.triggerEvent(new tx(e)),e=>t.triggerEvent(new ex(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(wA(t=>t instanceof KA),TA(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(ga);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return L(n).pipe(H(),T(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?XT(e._loadedConfig):this.loader.load(t.injector,e)).pipe(j(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(Jn(yO),Jn(qu),Jn(mu),Jn(ho),Jn(CO))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),xO=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof GA?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof KA&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof sx&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new sx(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Jn(yO),Jn(rl),Jn(void 0))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();const kO=new Fn("ROUTER_CONFIGURATION"),OO=new Fn("ROUTER_FORROOT_GUARD"),NO=[fc,{provide:Ax,useClass:xx},{provide:yO,useFactory:function(t,e,n,r,i,o,s,a={},u,c){const l=new yO(null,t,e,n,r,i,o,dx(s));return u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,l),a.enableTracing&&l.events.subscribe(t=>{var e,n;null===(e=console.group)||void 0===e||e.call(console,`Router Event: ${t.constructor.name}`),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),l},deps:[Ax,hO,fc,ho,qu,mu,uO,kO,[class{},new rr],[class{},new rr]]},hO,{provide:Yx,useFactory:function(t){return t.routerState.root},deps:[yO]},{provide:qu,useClass:zu},AO,TO,class{preload(t,e){return e().pipe(SA(()=>XT(null)))}},{provide:kO,useValue:{enableTracing:!1}}];function DO(){return new Ru("Router",yO)}let PO=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[NO,FO(e),{provide:OO,useFactory:LO,deps:[[yO,new rr,new ir]]},{provide:kO,useValue:n||{}},{provide:ac,useFactory:MO,deps:[Zu,[new nr(cc),new rr],kO]},{provide:xO,useFactory:RO,deps:[yO,rl,kO]},{provide:CO,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:TO},{provide:Ru,multi:!0,useFactory:DO},[VO,{provide:Za,multi:!0,useFactory:UO,deps:[VO]},{provide:qO,useFactory:jO,deps:[VO]},{provide:ou,multi:!0,useExisting:qO}]]}}static forChild(e){return{ngModule:t,providers:[FO(e)]}}}return t.\u0275fac=function(e){return new(e||t)(Jn(OO,8),Jn(yO,8))},t.\u0275mod=Gt({type:t}),t.\u0275inj=ht({}),t})();function RO(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new xO(t,e,n)}function MO(t,e,n={}){return n.useHash?new hc(t,e):new lc(t,e)}function LO(t){return"guarded"}function FO(t){return[{provide:Vn,multi:!0,useValue:t},{provide:uO,multi:!0,useValue:t}]}let VO=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new S}appInitializer(){return this.injector.get(tc,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(yO),r=this.injector.get(kO);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?XT(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(kO),n=this.injector.get(AO),r=this.injector.get(xO),i=this.injector.get(yO),o=this.injector.get(Uu);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(Jn(ho))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();function UO(t){return t.appInitializer.bind(t)}function jO(t){return t.bootstrapListener.bind(t)}const qO=new Fn("Router Initializer");let BO=(()=>{class t{constructor(){}signup(t,e,n,r){return new Promise((i,o)=>{jf.auth().createUserWithEmailAndPassword(t,e).then(t=>{t.user.updateProfile({displayName:n+" "+r,photoURL:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSgziHQ3ubr4WDBvytWcg7e4_abFkjHTXahdQ&usqp=CAU"}).then(()=>{i(t.user)}).catch(t=>{o(t)})}).catch(t=>{o(t)})})}login(t,e){return jf.auth().signInWithEmailAndPassword(t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function HO(t,e){1&t&&(Do(0,"div",15),as(1," A valid Email is required. "),Po())}function zO(t,e){1&t&&(Do(0,"div",15),as(1," Password is required. "),Po())}function GO(t,e){1&t&&(Do(0,"div",16),as(1," You have been logged in successfully. "),Po())}function KO(t,e){if(1&t&&(Do(0,"div",15),as(1),Po()),2&t){const t=qo();ei(1),cs(" ",t.userError.message," ")}}let WO=(()=>{class t{constructor(t,e,n){this.fb=t,this.authService=e,this.router=n,this.message="",this.myForm=this.fb.group({email:["",[$l.email,$l.required]],password:["",[$l.required]]})}ngOnInit(){}onSubmit(t){this.authService.login(t.value.email,t.value.password).then(t=>{this.message="You have been logged in successfully.",this.router.navigate(["/class"])}).catch(t=>{console.log(t),this.userError=t})}}return t.\u0275fac=function(e){return new(e||t)(ko(Gh),ko(BO),ko(yO))},t.\u0275cmp=qt({type:t,selectors:[["app-login"]],decls:21,vars:8,consts:[[1,"container-fluid"],[1,"row","mt-5"],[1,"offset-md-3","col-md-6"],[1,"card","text-blank"],[1,"card-body"],[1,"card-title","text-center"],[1,"card-text"],[3,"formGroup","ngSubmit"],[1,"form-group"],["type","email","placeholder","Enter email","name","email",1,"form-control","form_input",3,"formControl"],["class","alert alert-danger",4,"ngIf"],["type","password","placeholder","Enter password","name","password",1,"form-control","form_input",3,"formControl"],[1,"text-center"],["type","submit",1,"btn","btn-block","btn-primary","submit_btn","round",3,"disabled"],["class","alert alert-success",4,"ngIf"],[1,"alert","alert-danger"],[1,"alert","alert-success"]],template:function(t,e){1&t&&(Do(0,"div",0),Do(1,"div",1),Do(2,"div",2),Do(3,"div",3),Do(4,"div",4),Do(5,"div",5),Do(6,"h4"),as(7,"Login Using Your Email"),Po(),Po(),Do(8,"div",6),Do(9,"form",7),Vo("ngSubmit",function(){return e.onSubmit(e.myForm)}),Do(10,"div",8),Ro(11,"input",9),Po(),xo(12,HO,2,0,"div",10),Do(13,"div",8),Ro(14,"input",11),Po(),xo(15,zO,2,0,"div",10),Do(16,"div",12),Do(17,"button",13),as(18," Submit "),Po(),Po(),Po(),Po(),Po(),Po(),xo(19,GO,2,0,"div",14),xo(20,KO,2,1,"div",10),Po(),Po(),Po()),2&t&&(ei(9),Oo("formGroup",e.myForm),ei(2),Oo("formControl",e.myForm.controls.email),ei(1),Oo("ngIf",!e.myForm.controls.email.valid&&e.myForm.controls.email.touched),ei(2),Oo("formControl",e.myForm.controls.password),ei(1),Oo("ngIf",!e.myForm.controls.password.valid&&e.myForm.controls.password.touched),ei(2),Oo("disabled",!e.myForm.valid),ei(2),Oo("ngIf",e.message.length>0),ei(1),Oo("ngIf",e.userError))},directives:[Mh,dh,qh,Bl,fh,Uh,Zc],styles:[".card-title[_ngcontent-%COMP%]{margin-bottom:40px}.form_input[_ngcontent-%COMP%]{padding:25px;font-size:18px;margin-bottom:30px}.form_input[_ngcontent-%COMP%]:focus{color:#000;background-color:#f8f8f8}.submit_btn[_ngcontent-%COMP%]{padding:15px;font-size:25px}div[_ngcontent-%COMP%]{font-family:poppins,sans-serif}@media only screen and (max-width:768px){.form_input[_ngcontent-%COMP%]{padding:10px;font-size:14px;margin-bottom:10px}.submit_btn[_ngcontent-%COMP%]{padding:10px;font-size:18px}}"]}),t})();function $O(t,e){1&t&&(Do(0,"div",20),as(1," First and Last name are required "),Po())}function QO(t,e){1&t&&(Do(0,"div",20),as(1," A valid email is required "),Po())}function YO(t,e){1&t&&(Do(0,"div",20),as(1," Password should be atleast 8 characters long. "),Po())}function XO(t,e){if(1&t&&(Do(0,"div",21),as(1),Po()),2&t){const t=qo();ei(1),cs(" ",t.message," ")}}function ZO(t,e){if(1&t&&(Do(0,"div",20),as(1),Po()),2&t){const t=qo();ei(1),cs(" ",t.userError.message," ")}}let JO=(()=>{class t{constructor(t,e){this.fb=t,this.authService=e,this.message="",this.myForm=this.fb.group({firstName:["",[$l.required]],lastName:["",[$l.required]],email:["",[$l.required]],password:["",[$l.required,$l.minLength(8)]],confirmPassword:["",[$l.required]]},{validator:this.checkIfMatchingPasswords("password","confirmPassword")})}checkIfMatchingPasswords(t,e){return n=>{let r=n.controls[e];n.controls[t].value!=r.value&&r.setErrors({notEqualToPassword:!0})}}onSubmit(t){jf.auth(),this.authService.signup(t.value.email,t.value.password,t.value.firstName,t.value.lastName).then(e=>{jf.firestore().collection("users").doc(e.uid).set({firstName:t.value.firstName,lastName:t.value.lastName,email:t.value.email,photoURL:e.photoURL,password:t.value.password}).then(()=>{this.message="You have been signed up successfully. Please login.Please Verify Your E-mail",e.sendEmailVerification().then(function(){this.message="Please Verify Your E-mail to proceed."}).catch(function(t){})})}).catch(t=>{console.log(t),this.userError=t})}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(ko(Gh),ko(BO))},t.\u0275cmp=qt({type:t,selectors:[["app-signup"]],decls:29,vars:12,consts:[[1,"container-fluid"],[1,"card","text-blank","border-0"],[1,"card-body"],[1,"card-title","text-center"],[1,"card-text"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"form-group","col-md-5"],["type","text","placeholder","First Name",1,"form-control","form_input",3,"formControl"],[1,"form-group","col-md-7"],["type","text","placeholder","Last Name",1,"form-control","form_input",3,"formControl"],["class","alert alert-danger",4,"ngIf"],[1,"form-group"],["type","email","placeholder","Enter your email",1,"form-control","form_input",3,"formControl"],[1,"form-text","text-muted"],["type","password","placeholder","Password",1,"form-control","form_input",3,"formControl"],["type","password","placeholder","Confirm Password",1,"form-control","form_input",3,"formControl"],[1,"text-center"],["type","submit",1,"btn","btn-block","btn-primary","submit_btn",3,"disabled"],["class","alert alert-success",4,"ngIf"],[1,"alert","alert-danger"],[1,"alert","alert-success"]],template:function(t,e){1&t&&(Do(0,"div",0),Do(1,"div",1),Do(2,"div",2),Do(3,"div",3),Do(4,"h2"),as(5,"Sign Up For Free"),Po(),Po(),Do(6,"div",4),Do(7,"form",5),Vo("ngSubmit",function(){return e.onSubmit(e.myForm)}),Do(8,"div",6),Do(9,"div",7),Ro(10,"input",8),Po(),Do(11,"div",9),Ro(12,"input",10),Po(),Po(),xo(13,$O,2,0,"div",11),Do(14,"div",12),Ro(15,"input",13),Do(16,"small",14),as(17," We'll never share your email with anyone else "),Po(),Po(),xo(18,QO,2,0,"div",11),Do(19,"div",12),Ro(20,"input",15),Po(),Do(21,"div",12),Ro(22,"input",16),Po(),xo(23,YO,2,0,"div",11),Do(24,"div",17),Do(25,"button",18),as(26," Submit "),Po(),Po(),Po(),Po(),Po(),Po(),xo(27,XO,2,1,"div",19),xo(28,ZO,2,1,"div",11),Po()),2&t&&(ei(7),Oo("formGroup",e.myForm),ei(3),Oo("formControl",e.myForm.controls.firstName),ei(2),Oo("formControl",e.myForm.controls.lastName),ei(1),Oo("ngIf",(!e.myForm.controls.firstName.valid||!e.myForm.controls.lastName.valid)&&(e.myForm.controls.firstName.touched||e.myForm.controls.lastName.touched)),ei(2),Oo("formControl",e.myForm.controls.email),ei(3),Oo("ngIf",!e.myForm.controls.email.valid&&e.myForm.controls.email.touched),ei(2),Oo("formControl",e.myForm.controls.password),ei(2),Oo("formControl",e.myForm.controls.confirmPassword),ei(1),Oo("ngIf",!e.myForm.controls.password.valid&&e.myForm.controls.password.touched),ei(2),Oo("disabled",!e.myForm.valid),ei(2),Oo("ngIf",e.message.length>0),ei(1),Oo("ngIf",e.userError))},directives:[Mh,dh,qh,Bl,fh,Uh,Zc],styles:[".card-title[_ngcontent-%COMP%]{margin-bottom:20px}.form_input[_ngcontent-%COMP%]{padding:25px;font-size:18px}.form_input[_ngcontent-%COMP%]:focus{color:#000;background-color:#f8f8f8}.submit_btn[_ngcontent-%COMP%]{padding:15px;font-size:25px}@media only screen and (max-width:768px){.form_input[_ngcontent-%COMP%]{padding:10px;font-size:14px}.submit_btn[_ngcontent-%COMP%]{padding:10px;font-size:18px}}"]}),t})(),tN=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=qt({type:t,selectors:[["app-home"]],decls:89,vars:0,consts:[[1,"container-fluid"],[1,"row"],[1,"col-lg-6"],["width","100%","src","/assets/classroom.jpg",1,"align-middle","mt-2","mr-1","mb-2"],[1,"container","mt-5","mb-5"],[2,"text-align","center"],[1,"fas","fa-chevron-down"],[1,"row","mt-5"],[1,"col-md-6"],["src","/assets/1.png",2,"width","100%","height","auto"],["src","/assets/2.png",2,"width","100%","height","auto"],[1,"row","mt-3","mb-5"],[1,"col-md-12","mt-5","p-3",2,"text-align","center"]],template:function(t,e){1&t&&(Do(0,"div",0),Do(1,"div",1),Do(2,"div",2),Ro(3,"img",3),Po(),Do(4,"div",2),Ro(5,"app-signup"),Po(),Po(),Do(6,"div",4),Do(7,"h6",5),as(8," Scroll down for features "),Ro(9,"i",6),Po(),Po(),Do(10,"div",7),Do(11,"div",8),Do(12,"h4",5),as(13,"Create and Join Features"),Po(),Ro(14,"img",9),Po(),Do(15,"div",8),Do(16,"ul"),Do(17,"li"),as(18," Create Class with "),Do(19,"ul"),Do(20,"li"),as(21,"Class Name"),Po(),Do(22,"li"),as(23,"Subject"),Po(),Po(),Po(),Ro(24,"br"),Do(25,"li"),as(26," Join Class with "),Do(27,"ul"),Do(28,"li"),as(29,"Class Code ( As shared by the teacher )"),Po(),Do(30,"li"),as(31," Teacher Name ( Enter Teacher Name according to your convenience. "),Ro(32,"br"),as(33," To easily itentify class.) "),Po(),Do(34,"li"),as(35,"Subject (Enter Subject Name according to your convenience)"),Po(),Ro(36,"br"),Do(37,"li"),as(38," When user join the class, it sends a request to the class owner to allow the user in the class "),Po(),Do(39,"li"),as(40,"In the top user can see the requests send for classes."),Po(),Do(41,"li"),as(42,"User can withdraw requests for classes that send earliar."),Po(),Po(),Po(),Po(),Po(),Po(),Do(43,"div",7),Do(44,"div",8),Do(45,"h4",5),as(46,"Created and Joined Classes"),Po(),Ro(47,"img",10),Po(),Do(48,"div",8),Do(49,"ul"),Do(50,"li"),as(51," Created Classes "),Do(52,"ul"),Do(53,"li"),as(54,"Edit Class Name of class"),Po(),Do(55,"li"),as(56,"Edit Subject"),Po(),Do(57,"li"),as(58,"Create Assignments"),Po(),Do(59,"li"),as(60,"Give notice to whole classes"),Po(),Do(61,"li"),as(62,"Can remove any student from the class"),Po(),Do(63,"li"),as(64,"Can remove whole class"),Po(),Po(),Po(),Ro(65,"br"),Do(66,"li"),as(67," Joined Classes "),Do(68,"ul"),Do(69,"li"),as(70,"Edit Teacher Name in class"),Po(),Do(71,"li"),as(72,"Edit Subject"),Po(),Do(73,"li"),as(74,"Submit Assignments"),Po(),Do(75,"li"),as(76,"See notices by instructor"),Po(),Do(77,"li"),as(78,"Can leave class."),Po(),Po(),Po(),Ro(79,"br"),Do(80,"li"),Do(81,"b"),as(82,"User can change name from the Profile Section"),Po(),Po(),Po(),Po(),Po(),Do(83,"div",11),Do(84,"div",12),Do(85,"p"),as(86," Designed and Developed by Yash Kumar Saini"),Ro(87,"br"),as(88," \xa9 2021 All Rights Reserved. "),Po(),Po(),Po(),Po())},directives:[JO],styles:["div[_ngcontent-%COMP%]{font-family:poppins,sans-serif}"]}),t})();function eN(t,e){if(1&t&&(Do(0,"div",7),as(1),Po()),2&t){const t=qo();ei(1),cs(" ",t.message," ")}}function nN(t,e){if(1&t&&(Do(0,"div",8),as(1),Po()),2&t){const t=qo();ei(1),cs(" ",t.errormessage," ")}}(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(td){this.f(td)}}}this.a=null},r.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(td){n.reject(td)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(om){o(om)}}:e}var i,o,s=new e(function(t,e){i=t,o=e});return this.Qa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var r=i(t),s=r.next();!s.done;s=r.next())o(s.value).Qa(e,n)})},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e(function(t,e){function i(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,o(r.value).Qa(i(s.length-1),e),r=n.next()}while(!r.done)})},e});var o=o||{},s=this||self,a=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&a.test(t)?t:""}function l(){}function h(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){return"function"==h(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function g(t){return Object.prototype.hasOwnProperty.call(t,m)&&t[m]||(t[m]=++v)}var m="closure_uid_"+(1e9*Math.random()>>>0),v=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function b(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:b).apply(null,arguments)}function _(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var I=Date.now;function S(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function E(t){return t}function C(t,e,n){this.code=x+t,this.message=e||k[t]||"",this.a=n||null}function T(t){var e=t&&t.code;return e?new C(e.substring(x.length),t.message,t.serverResponse):null}S(C,Error),C.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},C.prototype.toJSON=function(){return this.w()};var A,x="auth/",k={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},O={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function N(t){for(var e in O)if(O[e].id===t)return{firebaseEndpoint:(t=O[e]).Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function D(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function P(t){if(Error.captureStackTrace)Error.captureStackTrace(this,P);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function R(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");P.call(this,n+t[r])}function M(t,e){throw new R("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function L(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function F(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function V(){this.b=this.a=null}A=N("__EID__")?"__EID__":void 0,S(P,Error),P.prototype.name="CustomError",S(R,P),R.prototype.name="AssertionError",L.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var U=new L(function(){return new q},function(t){t.reset()});function j(){var t=me,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function q(){this.next=this.b=this.a=null}V.prototype.add=function(t,e){var n=U.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var B=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},H=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},z=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},G=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},K=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function W(t,e){return 0<=B(t,e)}function $(t,e){var n;return(n=0<=(e=B(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Q(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)})}function Y(t){return Array.prototype.concat.apply([],arguments)}function X(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Z,J=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},tt=/&/g,et=/</g,nt=/>/g,rt=/"/g,it=/'/g,ot=/\x00/g,st=/[\x00&<>"']/;function at(t,e){return-1!=t.indexOf(e)}function ut(t,e){return t<e?-1:t>e?1:0}t:{var ct=s.navigator;if(ct){var lt=ct.userAgent;if(lt){Z=lt;break t}}Z=""}function ht(t){return at(Z,t)}function ft(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function dt(t){for(var e in t)return!1;return!0}function pt(t){var e,n={};for(e in t)n[e]=t[e];return n}var gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<gt.length;o++)n=gt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(a){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(p(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function yt(t,e){this.a=t===It&&e||"",this.b=_t}function bt(t){return t instanceof yt&&t.constructor===yt&&t.b===_t?t.a:(M("expected object of type Const, got '"+t+"'"),"type_error:Const")}yt.prototype.sa=!0,yt.prototype.ra=function(){return this.a},yt.prototype.toString=function(){return"Const{"+this.a+"}"};var wt,_t={},It={};function St(){if(void 0===wt){var t=null,e=s.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:E,createScript:E,createScriptURL:E})}catch(n){s.console&&s.console.error(n.message)}wt=t}else wt=t}return wt}function Et(t,e){this.a=e===kt?t:""}function Ct(t){return t instanceof Et&&t.constructor===Et?t.a:(M("expected object of type TrustedResourceUrl, got '"+t+"' of type "+h(t)),"type_error:TrustedResourceUrl")}function Tt(t,e){var n=bt(t);if(!xt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=St();return new Et(t=e?e.createScriptURL(t):t,kt)}(t=n.replace(At,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof yt?bt(t):encodeURIComponent(String(t))}))}Et.prototype.sa=!0,Et.prototype.ra=function(){return this.a.toString()},Et.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var At=/%{(\w+)}/g,xt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,kt={};function Ot(t,e){this.a=e===Ft?t:""}function Nt(t){return t instanceof Ot&&t.constructor===Ot?t.a:(M("expected object of type SafeUrl, got '"+t+"' of type "+h(t)),"type_error:SafeUrl")}Ot.prototype.sa=!0,Ot.prototype.ra=function(){return this.a.toString()},Ot.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Dt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Pt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Rt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Mt(t){if(t instanceof Ot)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Rt.test(t))t=new Ot(t,Ft);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Pt);t=e&&Dt.test(e[1])?new Ot(t,Ft):null}return t}function Lt(t){return t instanceof Ot?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Rt.test(t)||(t="about:invalid#zClosurez"),new Ot(t,Ft))}var Ft={},Vt=new Ot("about:invalid#zClosurez",Ft);function Ut(t,e,n){this.a=n===jt?t:""}Ut.prototype.sa=!0,Ut.prototype.ra=function(){return this.a.toString()},Ut.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var jt={};function qt(t,e,n,r){return t=t instanceof Ot?t:Lt(t),e=e||s,n=n instanceof yt?bt(n):n||"",e.open(Nt(t),n,r,void 0)}function Bt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ht(t){return st.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(tt,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(et,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(nt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(rt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(it,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(ot,"&#0;"))),t}function zt(t){return zt[" "](t),t}zt[" "]=l;var Gt,Kt=ht("Opera"),Wt=ht("Trident")||ht("MSIE"),$t=ht("Edge"),Qt=$t||Wt,Yt=ht("Gecko")&&!(at(Z.toLowerCase(),"webkit")&&!ht("Edge"))&&!(ht("Trident")||ht("MSIE"))&&!ht("Edge"),Xt=at(Z.toLowerCase(),"webkit")&&!ht("Edge");function Zt(){var t=s.document;return t?t.documentMode:void 0}t:{var Jt="",te=function(){var t=Z;return Yt?/rv:([^\);]+)(\)|;)/.exec(t):$t?/Edge\/([\d\.]+)/.exec(t):Wt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Xt?/WebKit\/(\S+)/.exec(t):Kt?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(te&&(Jt=te?te[1]:""),Wt){var ee=Zt();if(null!=ee&&ee>parseFloat(Jt)){Gt=String(ee);break t}}Gt=Jt}var ne={};function re(t){return function(t,e){var n=ne;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=J(String(Gt)).split("."),r=J(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ut(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ut(0==s[2].length,0==a[2].length)||ut(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var ie=s.document&&Wt&&(Zt()||parseInt(Gt,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Id){}var oe=!Wt||9<=Number(ie);function se(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ae(t,e){ft(e,function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:le.hasOwnProperty(n)?t.setAttribute(le[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}var ue,ce,le={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function he(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||p(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(p(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(d(o)){s="function"==typeof o.item;break t}}s=!1}H(s?X(o):o,r)}}}function fe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function de(t){s.setTimeout(function(){throw t},0)}function pe(t,e){ce||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);ce=function(){t.then(ve)}}else ce=function(){var t=ve;!d(s.setImmediate)||s.Window&&s.Window.prototype&&!ht("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(ue||(ue=function(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ht("Presto")&&(t=function(){var t=fe(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=w(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ht("Trident")&&!ht("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Gb;n.Gb=null,t()}},function(t){r.next={Gb:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}()),ue(t)):s.setImmediate(t)}}(),ge||(ce(),ge=!0),me.add(t,e)}var ge=!1,me=new V;function ve(){for(var t;t=j();){try{t.a.call(t.b)}catch(e){de(e)}F(U,t)}ge=!1}function ye(t,e){if(this.a=be,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=l)try{var n=this;t.call(e,function(t){De(n,we,t)},function(t){if(!(t instanceof Ue))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(WT){}De(n,_e,t)})}catch(r){De(this,_e,r)}}var be=0,we=2,_e=3;function Ie(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ie.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Se=new L(function(){return new Ie},function(t){t.reset()});function Ee(t,e,n){var r=Se.get();return r.g=t,r.b=e,r.f=n,r}function Ce(t){if(t instanceof ye)return t;var e=new ye(l);return De(e,we,t),e}function Te(t){return new ye(function(e,n){n(t)})}function Ae(t,e,n){Pe(t,e,n,null)||pe(_(e,t))}function xe(t){return new ye(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ae(t[o],_(i,o,!0),_(i,o,!1));else e(r)})}function ke(t,e){if(t.a==be)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,s=n.b;s&&(s.c||(r++,s.a==t&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(n.a==be&&1==r?ke(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Me(n),Le(n,i,_e,e)))}t.c=null}else De(t,_e,e)}function Oe(t,e){t.b||t.a!=we&&t.a!=_e||Re(t),t.f?t.f.next=e:t.b=e,t.f=e}function Ne(t,e,n,r){var i=Ee(null,null,null);return i.a=new ye(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(td){o(td)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Ue?o(e):t(i)}catch(td){o(td)}}:o}),i.a.c=t,Oe(t,i),i.a}function De(t,e,n){t.a==be&&(t===n&&(e=_e,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Pe(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Re(t),e!=_e||n instanceof Ue||function(t,e){t.g=!0,pe(function(){t.g&&Ve.call(null,e)})}(t,n)))}function Pe(t,e,n,r){if(t instanceof ye)return Oe(t,Ee(e||l,n||null,r)),!0;if(D(t))return t.then(e,n,r),!0;if(p(t))try{var i=t.then;if(d(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,function(t){s||(s=!0,n.call(i,t))},o)}catch(a){o(a)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Re(t){t.h||(t.h=!0,pe(t.gc,t))}function Me(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Le(t,e,n,r){if(n==_e&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Fe(e,n,r);else try{e.c?e.g.call(e.f):Fe(e,n,r)}catch(WT){Ve.call(null,WT)}F(Se,e)}function Fe(t,e,n){e==we?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}ye.prototype.then=function(t,e,n){return Ne(this,d(t)?t:null,d(e)?e:null,n)},ye.prototype.$goog_Thenable=!0,(t=ye.prototype).oa=function(t,e){return(t=Ee(t,t,e)).c=!0,Oe(this,t),this},t.o=function(t,e){return Ne(this,null,t,e)},t.cancel=function(t){if(this.a==be){var e=new Ue(t);pe(function(){ke(this,e)},this)}},t.$c=function(t){this.a=be,De(this,we,t)},t.ad=function(t){this.a=be,De(this,_e,t)},t.gc=function(){for(var t;t=Me(this);)Le(this,t,this.a,this.i);this.h=!1};var Ve=de;function Ue(t){P.call(this,t)}function je(){0!=qe&&(Be[g(this)]=this),this.xa=this.xa,this.pa=this.pa}S(Ue,P),Ue.prototype.name="cancel";var qe=0,Be={};function He(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=qe)){var e=g(t);if(0!=qe&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Be[e]}}je.prototype.xa=!1,je.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var ze=Object.freeze||function(t){return t},Ge=!Wt||9<=Number(ie),Ke=Wt&&!re("9"),We=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",l,e),s.removeEventListener("test",l,e)}catch(n){}return t}();function $e(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Qe(t,e){if($e.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Yt){t:{try{zt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ye[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}$e.prototype.preventDefault=function(){this.defaultPrevented=!0},S(Qe,$e);var Ye=ze({2:"touch",3:"pen",4:"mouse"});Qe.prototype.preventDefault=function(){Qe.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ke)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Qe.prototype.g=function(){return this.a};var Xe="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function Je(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Va=i,this.key=++Ze,this.va=this.Pa=!1}function tn(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function en(t){this.src=t,this.a={},this.b=0}function nn(t,e){var n=e.type;n in t.a&&$(t.a[n],e)&&(tn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function rn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==r)return i}return-1}en.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=rn(t,e,r,i);return-1<s?(e=t[s],n||(e.Pa=!1)):((e=new Je(e,this.src,o,!!r,i)).Pa=n,t.push(e)),e};var on="closure_lm_"+(1e6*Math.random()|0),sn={};function an(t,e,n,r,i){if(r&&r.once)cn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)an(t,e[o],n,r,i);else n=yn(n),t&&t[Xe]?wn(t,e,n,p(r)?!!r.capture:!!r,i):un(t,e,n,!1,r,i)}function un(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=p(i)?!!i.capture:!!i,a=mn(t);if(a||(t[on]=a=new en(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=gn,e=Ge?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)We||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(fn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function cn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else n=yn(n),t&&t[Xe]?_n(t,e,n,p(r)?!!r.capture:!!r,i):un(t,e,n,!0,r,i)}function ln(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=yn(n),t&&t[Xe]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=rn(o=t.a[e],n,r,i))&&(tn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=mn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=rn(e,n,r,i)),(n=-1<t?e[t]:null)&&hn(n))}function hn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[Xe])nn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(fn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=mn(e))?(nn(n,t),0==n.b&&(n.src=null,e[on]=null)):tn(t)}}}function fn(t){return t in sn?sn[t]:sn[t]="on"+t}function dn(t,e,n,r){var i=!0;if((t=mn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=pn(o,r),i=i&&!1!==o)}return i}function pn(t,e){var n=t.listener,r=t.Va||t.src;return t.Pa&&hn(t),n.call(r,e)}function gn(t,e){if(t.va)return!0;if(!Ge){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Qe(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=dn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=dn(r[i],t,!1,e),n=n&&o}return n}return pn(t,new Qe(e,this))}function mn(t){return(t=t[on])instanceof en?t:null}var vn="__closure_events_fn_"+(1e9*Math.random()>>>0);function yn(t){return d(t)?t:(t[vn]||(t[vn]=function(e){return t.handleEvent(e)}),t[vn])}function bn(){je.call(this),this.v=new en(this),this.ac=this,this.gb=null}function wn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function _n(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function In(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.va&&s.capture==n){var a=s.listener,u=s.Va||s.src;s.Pa&&nn(t.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function Sn(t,e,n){if(d(t))n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function En(t){var e=null;return new ye(function(n,r){-1==(e=Sn(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).o(function(t){throw s.clearTimeout(e),t})}function Cn(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Tn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function An(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof An)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function xn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];kn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)kn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function kn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}S(bn,je),bn.prototype[Xe]=!0,bn.prototype.addEventListener=function(t,e,n,r){an(this,t,e,n,r)},bn.prototype.removeEventListener=function(t,e,n,r){ln(this,t,e,n,r)},bn.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var r=t.type||t;if("string"==typeof t)t=new $e(t,n);else if(t instanceof $e)t.target=t.target||n;else{var i=t;mt(t=new $e(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=In(s,r,!0,t)&&i}if(i=In(s=t.b=n,r,!0,t)&&i,i=In(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=In(s=t.b=e[o],r,!1,t)&&i;return i},bn.prototype.Da=function(){if(bn.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)tn(n[r]);delete e.a[t],e.b--}}this.gb=null},(t=An.prototype).W=function(){xn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return xn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return kn(this.b,t)?this.b[t]:e},t.set=function(t,e){kn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var On=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Nn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Nn?(this.i=void 0!==e?e:t.i,Dn(this,t.c),this.l=t.l,this.a=t.a,Pn(this,t.g),this.f=t.f,Rn(this,Jn(t.b)),this.h=t.h):t&&(n=String(t).match(On))?(this.i=!!e,Dn(this,n[1]||"",!0),this.l=Un(n[2]||""),this.a=Un(n[3]||"",!0),Pn(this,n[4]),this.f=Un(n[5]||"",!0),Rn(this,n[6]||"",!0),this.h=Un(n[7]||"")):(this.i=!!e,this.b=new Wn(null,this.i))}function Dn(t,e,n){t.c=n?Un(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Pn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Rn(t,e,n){e instanceof Wn?(t.b=e,function(t,e){e&&!t.f&&($n(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Yn(this,e),Zn(this,n,t))},t)),t.f=e}(t.b,t.i)):(n||(e=jn(e,Gn)),t.b=new Wn(e,t.i))}function Mn(t,e,n){t.b.set(e,n)}function Ln(t,e){return t.b.get(e)}function Fn(t){return t instanceof Nn?new Nn(t):new Nn(t,void 0)}function Vn(t,e,n,r){var i=new Nn(null,void 0);return t&&Dn(i,t),e&&(i.a=e),n&&Pn(i,n),r&&(i.f=r),i}function Un(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function jn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,qn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function qn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Nn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(jn(e,Bn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(jn(e,Bn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(jn(n,"/"==n.charAt(0)?zn:Hn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",jn(n,Kn)),t.join("")},Nn.prototype.resolve=function(t){var e=new Nn(this),n=!!t.c;n?Dn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Pn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(at(i,"./")||at(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Rn(e,Jn(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Bn=/[#\/\?@]/g,Hn=/[#\?:]/g,zn=/[#\?]/g,Gn=/[#\?@]/g,Kn=/#/g;function Wn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function $n(t){t.a||(t.a=new An,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Qn(t){var e=Tn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Wn(null,void 0);t=Cn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Zn(n,i,o):n.add(i,o)}return n}function Yn(t,e){$n(t),e=tr(t,e),kn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,kn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&xn(t)))}function Xn(t,e){return $n(t),e=tr(t,e),kn(t.a.b,e)}function Zn(t,e,n){Yn(t,e),0<n.length&&(t.c=null,t.a.set(tr(t,e),X(n)),t.b+=n.length)}function Jn(t){var e=new Wn;return e.c=t.c,t.a&&(e.a=new An(t.a),e.b=t.b),e}function tr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function er(t){var e=[];return rr(new nr,t,e),e.join("")}function nr(){}function rr(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),rr(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(o=e[r])&&(n.push(i),sr(r,n),n.push(":"),rr(t,o,n),i=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":sr(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Wn.prototype).add=function(t,e){$n(this),this.c=null,t=tr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){$n(this),this.a.forEach(function(n,r){H(n,function(n){t.call(e,n,r,this)},this)},this)},t.Y=function(){$n(this);for(var t=this.a.W(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.W=function(t){$n(this);var e=[];if("string"==typeof t)Xn(this,t)&&(e=Y(e,this.a.get(tr(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=Y(e,t[n])}return e},t.set=function(t,e){return $n(this),this.c=null,Xn(this,t=tr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var ir={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},or=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function sr(t,e){e.push('"',t.replace(or,function(t){var e=ir[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ir[t]=e),e}),'"')}function ar(){var t=Tr();return Wt&&!!ie&&11==ie||/Edge\/\d+/.test(t)}function ur(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function cr(t,e){e=e||s.window;var n="about:blank";t&&(n=Nt(Mt(t)||Vt)),e.location.href=n}function lr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<lr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function hr(t){return!!((t=(t||Tr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function fr(t){t=t||s.window;try{t.close()}catch(e){}}function dr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Tr().toLowerCase(),r&&(e.target=r,at(n,"crios/")&&(e.target="_blank")),Sr(Tr())==Ir&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Ot?n:Mt(void 0!==n.href?n.href:String(n))||Vt,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ht("iPhone")&&!ht("iPod")&&!ht("iPad")||ht("iPad")||ht("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(vt(s=fe(document,"A"),"HTMLAnchorElement"),e=e instanceof Ot?e:Lt(e),s.href=Nt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=qt("",r,n,s),t=Nt(e),s&&(Qt&&at(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ht(t)+'">',t=new Ut(t=(r=St())?r.createHTML(t):t,null,jt),r=s.document)&&(r.write(function(t){return t instanceof Ut&&t.constructor===Ut?t.a:(M("expected object of type SafeHtml, got '"+t+"' of type "+h(t)),"type_error:SafeHtml")}(t)),r.close())):(s=qt(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(Hf){}return s}var pr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gr=/^[^@]+@[^@]+$/;function mr(){var t=null;return new ye(function(e){"complete"==s.document.readyState?e():(t=function(){e()},cn(window,"load",t))}).o(function(e){throw ln(window,"load",t),e})}function vr(t){return t=t||Tr(),!("file:"!==Nr()&&"ionic:"!==Nr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function yr(){var t=s.window;try{return!(!t||t==t.top)}catch(e){return!1}}function br(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function wr(){return jf.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":jf.INTERNAL.hasOwnProperty("node")?"Node":br()?"Worker":"Browser"}function _r(){var t=wr();return"ReactNative"===t||"Node"===t}var Ir="Firefox";function Sr(t){var e=t.toLowerCase();return at(e,"opera/")||at(e,"opr/")||at(e,"opios/")?"Opera":at(e,"iemobile")?"IEMobile":at(e,"msie")||at(e,"trident/")?"IE":at(e,"edge/")?"Edge":at(e,"firefox/")?Ir:at(e,"silk/")?"Silk":at(e,"blackberry")?"Blackberry":at(e,"webos")?"Webos":!at(e,"safari/")||at(e,"chrome/")||at(e,"crios/")||at(e,"android")?!at(e,"chrome/")&&!at(e,"crios/")||at(e,"edge/")?at(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":"Chrome":"Safari"}var Er={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Cr(t,e){e=e||[];var n,r=[],i={};for(n in Er)i[Er[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=wr())?r=Sr(i=Tr()):"Worker"===r&&(r=Sr(i=Tr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Tr(){return s.navigator&&s.navigator.userAgent||""}function Ar(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function xr(){try{var t=s.localStorage,e=Lr();if(t)return t.setItem(e,"1"),t.removeItem(e),!ar()||!!s.indexedDB}catch(n){return br()&&!!s.indexedDB}return!1}function kr(){return(Or()||"chrome-extension:"===Nr()||vr())&&!_r()&&xr()&&!br()}function Or(){return"http:"===Nr()||"https:"===Nr()}function Nr(){return s.location&&s.location.protocol||null}function Dr(t){return!hr(t=t||Tr())&&Sr(t)!=Ir}function Pr(t){return void 0===t?null:er(t)}function Rr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Mr(t){if(null!==t)return JSON.parse(t)}function Lr(t){return t||Math.floor(1e9*Math.random()).toString()}function Fr(t){return"Safari"!=Sr(t=t||Tr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Vr(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Ur(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Tr(),e=wr(),this.b=hr(t)||"ReactNative"===e}function jr(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function qr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Br(){return!(!Ar("fireauth.oauthhelper",s)&&!Ar("fireauth.iframe",s))}Ur.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!Or()&&"chrome-extension:"!==Nr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Hr,zr={};function Gr(t){zr[t]||(zr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Kr={};Object.defineProperty(Kr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Kr,"abcd",{configurable:!0,enumerable:!0,value:2}),Hr=2==Kr.abcd}catch(Id){Hr=!1}function Wr(t,e,n){Hr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function $r(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Wr(t,n,e[n])}function Qr(t){var e={};return $r(e,t),e}function Yr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Wr(e,n,Yr(t[n]));return e}function Xr(t){var e=t&&(t[ni]?"phone":null);if(!(e&&t&&t[ei]))throw new C("internal-error","Internal assert: invalid MultiFactorInfo object");Wr(this,"uid",t[ei]),Wr(this,"displayName",t[Jr]||null);var n=null;t[ti]&&(n=new Date(t[ti]).toUTCString()),Wr(this,"enrollmentTime",n),Wr(this,"factorId",e)}function Zr(t){try{var e=new ri(t)}catch(n){e=null}return e}Xr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Jr="displayName",ti="enrolledAt",ei="mfaEnrollmentId",ni="phoneInfo";function ri(t){Xr.call(this,t),Wr(this,"phoneNumber",t[ni])}function ii(t){var e={},n=t[ui],r=t[li],i=t[hi];if(t=Zr(t[ci]),!i||i!=si&&i!=ai&&!n||i==ai&&!r||i==oi&&!t)throw Error("Invalid checkActionCode response!");i==ai?(e[di]=n||null,e[gi]=n||null,e[fi]=r):(e[di]=r||null,e[gi]=r||null,e[fi]=n||null),e[pi]=t||null,Wr(this,vi,i),Wr(this,mi,Yr(e))}S(ri,Xr),ri.prototype.w=function(){var t=ri.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var oi="REVERT_SECOND_FACTOR_ADDITION",si="EMAIL_SIGNIN",ai="VERIFY_AND_CHANGE_EMAIL",ui="email",ci="mfaInfo",li="newEmail",hi="requestType",fi="email",di="fromEmail",pi="multiFactorInfo",gi="previousEmail",mi="data",vi="operation";function yi(t){var e=Ln(t=Fn(t),bi)||null,n=Ln(t,wi)||null,r=Ln(t,Si)||null;if(r=r&&Ci[r]||null,!e||!n||!r)throw new C("argument-error",bi+", "+wi+"and "+Si+" are required in a valid action code URL.");$r(this,{apiKey:e,operation:r,code:n,continueUrl:Ln(t,_i)||null,languageCode:Ln(t,Ii)||null,tenantId:Ln(t,Ei)||null})}var bi="apiKey",wi="oobCode",_i="continueUrl",Ii="languageCode",Si="mode",Ei="tenantId",Ci={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:oi,signIn:si,verifyAndChangeEmail:ai,verifyEmail:"VERIFY_EMAIL"};function Ti(t){try{return new yi(t)}catch(e){return null}}function Ai(t){var e=t[Di];if(void 0===e)throw new C("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new C("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[xi];if(n&&"object"==typeof n){e=n[Mi];var r=n[Pi];if(n=n[Ri],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new C("argument-error",Pi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new C("argument-error",Ri+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new C("argument-error",Mi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new C("missing-android-pkg-name")}}else if(void 0!==n)throw new C("argument-error",xi+" property must be a non null object when specified.");if(this.f=null,(e=t[Ni])&&"object"==typeof e){if("string"==typeof(e=e[Li])&&e.length)this.f=e;else if(void 0!==e)throw new C("argument-error",Li+" property must be a non empty string when specified.")}else if(void 0!==e)throw new C("argument-error",Ni+" property must be a non null object when specified.");if(void 0!==(e=t[Oi])&&"boolean"!=typeof e)throw new C("argument-error",Oi+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[ki])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new C("argument-error",ki+" property must be a non empty string when specified.");this.i=t||null}var xi="android",ki="dynamicLinkDomain",Oi="handleCodeInApp",Ni="iOS",Di="url",Pi="installApp",Ri="minimumVersion",Mi="packageName",Li="bundleId";function Fi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Vi=null;function Ui(t){var e=qi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function ji(t){try{return new Ui(t)}catch(e){return null}}function qi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=function(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Vi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Vi){Vi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Vi[o]&&(Vi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,function(t){e.push(t)}),e}(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var s=r[e++],a=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else o=r[e++],s=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}return JSON.parse(t.join(""))}catch(td){}return null}Ui.prototype.T=function(){return this.f},Ui.prototype.l=function(){return this.c},Ui.prototype.toString=function(){return this.h};var Bi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Hi=["client_id","response_type","scope","redirect_uri","state"],zi={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Hi},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Hi},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Hi},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Bi},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Gi(t){for(var e in zi)if(zi[e].fa==t)return zi[e];return null}function Ki(t){var e={};e["facebook.com"]=Xi,e["google.com"]=Ji,e["github.com"]=Zi,e["twitter.com"]=to;var n=t&&t[$i];try{if(n)return e[n]?new e[n](t):new Yi(t);if(void 0!==t[Wi])return new Qi(t)}catch(r){}return null}var Wi="idToken",$i="providerId";function Qi(t){var e=t[$i];if(!e&&t[Wi]){var n=ji(t[Wi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Wr(this,"providerId",e),Wr(this,"isNewUser",n)}function Yi(t){Qi.call(this,t),Wr(this,"profile",Yr((t=Mr(t.rawUserInfo||"{}"))||{}))}function Xi(t){if(Yi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Zi(t){if(Yi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Wr(this,"username",this.profile&&this.profile.login||null)}function Ji(t){if(Yi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function to(t){if(Yi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Wr(this,"username",t.screenName||null)}function eo(t){var e=Fn(t),n=Ln(e,"link"),r=Ln(Fn(n),"link");return e=Ln(e,"deep_link_id"),Ln(Fn(e),"link")||e||r||n||t}function no(t,e){if(!t&&!e)throw new C("internal-error","Internal assert: no raw session string available");if(t&&e)throw new C("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?ro:io}S(Yi,Qi),S(Xi,Yi),S(Zi,Yi),S(Ji,Yi),S(to,Yi);var ro="enroll",io="signin";function oo(){}function so(t,e){return t.then(function(t){if(t[Ws]){var n=ji(t[Ws]);if(!n||e!=n.i)throw new C("user-mismatch");return t}throw new C("user-mismatch")}).o(function(t){throw t&&t.code&&t.code==x+"user-not-found"?new C("user-mismatch"):t})}function ao(t,e){if(!e)throw new C("internal-error","failed to construct a credential");this.a=e,Wr(this,"providerId",t),Wr(this,"signInMethod",t)}function uo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function co(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new ao(t.providerId,t.pendingToken)}catch(e){}return null}function lo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Wr(this,"idToken",e.idToken),e.accessToken&&Wr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Wr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new C("internal-error","failed to construct a credential");Wr(this,"accessToken",e.oauthToken),Wr(this,"secret",e.oauthTokenSecret)}Wr(this,"providerId",t),Wr(this,"signInMethod",n)}function ho(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Qn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function fo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new lo(t.providerId,e,t.signInMethod)}catch(n){}}return null}function po(t,e){this.Qc=e||[],$r(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(Gi(t)||{}).Ja||null,this.ob=null}function go(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new C("argument-error",'SAML provider IDs must be prefixed with "saml."');po.call(this,t,[])}function mo(t){po.call(this,t,Hi),this.a=[]}function vo(){mo.call(this,"facebook.com")}function yo(t){if(!t)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new vo).credential({accessToken:e})}function bo(){mo.call(this,"github.com")}function wo(t){if(!t)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new bo).credential({accessToken:e})}function _o(){mo.call(this,"google.com"),this.Ca("profile")}function Io(t,e){var n=t;return p(t)&&(n=t.idToken,e=t.accessToken),(new _o).credential({idToken:n,accessToken:e})}function So(){po.call(this,"twitter.com",Bi)}function Eo(t,e){var n=t;if(p(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new C("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new lo("twitter.com",n,"twitter.com")}function Co(t,e,n){this.a=t,this.f=e,Wr(this,"providerId","password"),Wr(this,"signInMethod",n===Ao.EMAIL_LINK_SIGN_IN_METHOD?Ao.EMAIL_LINK_SIGN_IN_METHOD:Ao.EMAIL_PASSWORD_SIGN_IN_METHOD)}function To(t){return t&&t.email&&t.password?new Co(t.email,t.password,t.signInMethod):null}function Ao(){$r(this,{providerId:"password",isOAuthProvider:!1})}function xo(t,e){if(!(e=ko(e)))throw new C("argument-error","Invalid email link!");return new Co(t,e.code,Ao.EMAIL_LINK_SIGN_IN_METHOD)}function ko(t){return(t=Ti(t=eo(t)))&&t.operation===si?t:null}function Oo(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new C("internal-error");this.a=t,Wr(this,"providerId","phone"),this.fa="phone",Wr(this,"signInMethod","phone")}function No(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new Oo(e)}return null}function Do(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function Po(t){try{this.a=t||jf.auth()}catch(e){throw new C("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}$r(this,{providerId:"phone",isOAuthProvider:!1})}function Ro(t,e){if(!t)throw new C("missing-verification-id");if(!e)throw new C("missing-verification-code");return new Oo({eb:t,cb:e})}function Mo(t){if(t.temporaryProof&&t.phoneNumber)return new Oo({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return Io(o,n);case"facebook.com":return yo(n);case"github.com":return wo(n);case"twitter.com":return Eo(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new ao(e,s):new lo(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new mo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(Hf){return null}}function Lo(t){if(!t.isOAuthProvider)throw new C("invalid-oauth-provider")}function Fo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new C("invalid-auth-event");if(this.g&&this.a)throw new C("invalid-auth-event");if(this.g&&!this.f)throw new C("invalid-auth-event")}function Vo(t){return(t=t||{}).type?new Fo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&T(t.error),t.postBody,t.tenantId):null}function Uo(){this.b=null,this.a=[]}no.prototype.Ha=function(){return Ce(this.a?this.a:this.b)},no.prototype.w=function(){return this.type==ro?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},oo.prototype.ka=function(){},oo.prototype.b=function(){},oo.prototype.c=function(){},oo.prototype.w=function(){},ao.prototype.ka=function(t){return pa(t,uo(this))},ao.prototype.b=function(t,e){var n=uo(this);return n.idToken=e,ga(t,n)},ao.prototype.c=function(t,e){return so(ma(t,uo(this)),e)},ao.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},lo.prototype.ka=function(t){return pa(t,ho(this))},lo.prototype.b=function(t,e){var n=ho(this);return n.idToken=e,ga(t,n)},lo.prototype.c=function(t,e){return so(ma(t,ho(this)),e)},lo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},po.prototype.Ka=function(t){return this.Ib=pt(t),this},S(go,po),S(mo,po),mo.prototype.Ca=function(t){return W(this.a,t)||this.a.push(t),this},mo.prototype.Qb=function(){return X(this.a)},mo.prototype.credential=function(t,e){var n;if(!(n=p(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new C("argument-error","credential failed: must provide the ID token and/or the access token.");return new lo(this.providerId,n,this.providerId)},S(vo,mo),Wr(vo,"PROVIDER_ID","facebook.com"),Wr(vo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),S(bo,mo),Wr(bo,"PROVIDER_ID","github.com"),Wr(bo,"GITHUB_SIGN_IN_METHOD","github.com"),S(_o,mo),Wr(_o,"PROVIDER_ID","google.com"),Wr(_o,"GOOGLE_SIGN_IN_METHOD","google.com"),S(So,po),Wr(So,"PROVIDER_ID","twitter.com"),Wr(So,"TWITTER_SIGN_IN_METHOD","twitter.com"),Co.prototype.ka=function(t){return this.signInMethod==Ao.EMAIL_LINK_SIGN_IN_METHOD?Xa(t,Ea,{email:this.a,oobCode:this.f}):Xa(t,Ka,{email:this.a,password:this.f})},Co.prototype.b=function(t,e){return this.signInMethod==Ao.EMAIL_LINK_SIGN_IN_METHOD?Xa(t,Ca,{idToken:e,email:this.a,oobCode:this.f}):Xa(t,Va,{idToken:e,email:this.a,password:this.f})},Co.prototype.c=function(t,e){return so(this.ka(t),e)},Co.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},$r(Ao,{PROVIDER_ID:"password"}),$r(Ao,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),$r(Ao,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Oo.prototype.ka=function(t){return t.fb(Do(this))},Oo.prototype.b=function(t,e){var n=Do(this);return n.idToken=e,Xa(t,$a,n)},Oo.prototype.c=function(t,e){var n=Do(this);return n.operation="REAUTH",so(t=Xa(t,Qa,n),e)},Oo.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Po.prototype.fb=function(t,e){var n=this.a.a;return Ce(e.verify()).then(function(r){if("string"!=typeof r)throw new C("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=p(t)?t.session:null,o=p(t)?t.phoneNumber:t;return(i&&i.type==ro?i.Ha().then(function(t){return function(t,e){return Xa(t,ja,e).then(function(t){return t.phoneSessionInfo.sessionInfo})}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})}):i&&i.type==io?i.Ha().then(function(e){return function(t,e){return Xa(t,qa,e).then(function(t){return t.phoneResponseInfo.sessionInfo})}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})}):function(t,e){return Xa(t,La,e)}(n,{phoneNumber:o,recaptchaToken:r})).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new C("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},$r(Po,{PROVIDER_ID:"phone"}),$r(Po,{PHONE_SIGN_IN_METHOD:"phone"}),Fo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Fo.prototype.T=function(){return this.h},Fo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var jo,qo=null;function Bo(t){var e="unauthorized-domain",n=void 0,r=Fn(t);t=r.a,"chrome-extension"==(r=r.c)?n=Bt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Bt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",C.call(this,e,n)}function Ho(t,e,n){C.call(this,t,n),(t=e||{}).Jb&&Wr(this,"email",t.Jb),t.ea&&Wr(this,"phoneNumber",t.ea),t.credential&&Wr(this,"credential",t.credential),t.Zb&&Wr(this,"tenantId",t.Zb)}function zo(t){if(t.code){var e=t.code||"";0==e.indexOf(x)&&(e=e.substring(x.length));var n={credential:Mo(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new C(e,t.message||void 0);return new Ho(e,n,t.message)}return null}function Go(){}function Ko(){}function Wo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(WT){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function $o(){}function Qo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.qc,this),this.a.onerror=w(this.Sb,this),this.a.onprogress=w(this.rc,this),this.a.ontimeout=w(this.vc,this)}function Yo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Xo(t,e,n){this.reset(t,e,n,void 0,void 0)}function Zo(t){this.f=t,this.b=this.c=this.a=null}function Jo(t,e){this.name=t,this.value=e}S(Bo,C),S(Ho,C),Ho.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&mt(t,e),t},Ho.prototype.toJSON=function(){return this.w()},Go.prototype.c=null,S(Ko,Go),Ko.prototype.a=function(){var t=Wo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Ko.prototype.b=function(){var t={};return Wo(this)&&(t[0]=!0,t[1]=!0),t},jo=new Ko,S($o,Go),$o.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Qo;throw Error("Unsupported browser")},$o.prototype.b=function(){return{}},(t=Qo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Yo(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",Yo(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,Yo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Xo.prototype.a=null,Xo.prototype.reset=function(t,e,n,r,i){r||I(),delete this.a},Jo.prototype.toString=function(){return this.name};var ts=new Jo("SEVERE",1e3),es=new Jo("WARNING",900),ns=new Jo("CONFIG",700),rs=new Jo("FINE",500);function is(t){return t.c?t.c:t.a?is(t.a):(M("Root logger has no level set."),null)}Zo.prototype.log=function(t,e,n){if(t.value>=is(this).value)for(d(e)&&(e=e()),t=new Xo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var os={},ss=null;function as(t){var e;if(ss||(ss=new Zo(""),os[""]=ss,ss.c=ns),!(e=os[t])){e=new Zo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=as(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,os[t]=e}return e}function us(t,e){t&&t.log(rs,e,void 0)}function cs(t){this.f=t}function ls(t){bn.call(this),this.u=t,this.h=void 0,this.readyState=hs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=as("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}S(cs,Go),cs.prototype.a=function(){return new ls(this.f)},cs.prototype.b=function(t){return function(){return t}}({}),S(ls,bn);var hs=0;function fs(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function ds(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ps(t)}function ps(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function gs(t){bn.call(this),this.headers=new An,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=ms,this.u=this.S=!1}(t=ls.prototype).open=function(t,e){if(this.readyState!=hs)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ps(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ds(this)),this.readyState=hs},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ps(this)),this.a&&(this.readyState=3,ps(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,fs(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ds(this):ps(this),3==this.readyState&&fs(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,ds(this))},t.sc=function(t){this.a&&(this.response=t,ds(this))},t.Ua=function(t){var e=this.i;e&&e.log(es,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ds(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(es,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(es,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ls.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),S(gs,bn);var ms="";gs.prototype.b=as("goog.net.XhrIo");var vs=/^https?$/i,ys=["POST","PUT"];function bs(t){return"content-type"==t.toLowerCase()}function ws(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,_s(t),Ss(t)}function _s(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Is(t){if(t.c&&void 0!==o)if(t.C[1]&&4==Cs(t)&&2==Ts(t))us(t.b,As(t,"Local request error detected and ignored"));else if(t.i&&4==Cs(t))Sn(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==Cs(t)){us(t.b,As(t,"Request complete")),t.c=!1;try{var e,n=Ts(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var a=String(t.l).match(On)[1]||null;if(!a&&s.self&&s.self.location){var u=s.self.location.protocol;a=u.substr(0,u.length-1)}i=!vs.test(a?a.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Cs(t)?t.a.statusText:""}catch(l){us(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+Ts(t)+"]",_s(t)}}finally{Ss(t)}}}function Ss(t,e){if(t.a){Es(t);var n=t.a,r=t.C[0]?l:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(WT){(t=t.b)&&t.log(ts,"Problem encountered resetting onreadystatechange: "+WT.message,void 0)}}}function Es(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function Cs(t){return t.a?t.a.readyState:0}function Ts(t){try{return 2<Cs(t)?t.a.status:-1}catch(e){return-1}}function As(t,e){return e+" ["+t.R+" "+t.l+" "+Ts(t)+"]"}function xs(t){var e=Us;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function ks(t,e,n){t.a=!0,t.c=n,t.f=!e,Ps(t)}function Os(t){if(t.a){if(!t.v)throw new Rs(t);t.v=!1}}function Ns(t,e,n,r){t.g.push([e,n,r]),t.a&&Ps(t)}function Ds(t){return K(t.g,function(t){return d(t[1])})}function Ps(t){if(t.h&&t.a&&Ds(t)){var e=t.h,n=Fs[e];n&&(s.clearTimeout(n.a),delete Fs[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(D(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,Ds(t)||(n=!0)}}t.c=e,r&&(u=w(t.m,t,!0),r=w(t.m,t,!1),e instanceof xs?(Ns(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new Ls(e),Fs[e.a]=e,t.h=e.a)}function Rs(){P.call(this)}function Ms(){P.call(this)}function Ls(t){this.a=s.setTimeout(w(this.c,this),0),this.b=t}(t=gs.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",us(this.b,As(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(us(this.b,As(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ss(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ss(this,!0)),gs.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?Is(this):this.Jc())},t.Jc=function(){Is(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ms:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(ts,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return us(this.b,"Can not get response: "+e.message),null}},xs.prototype.cancel=function(t){if(this.a)this.c instanceof xs&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Ms(this),Os(this),ks(this,!1,t))}},xs.prototype.m=function(t,e){this.i=!1,ks(this,t,e)},xs.prototype.then=function(t,e,n){var r,i,o=new ye(function(t,e){r=t,i=e});return Ns(this,r,function(t){t instanceof Ms?o.cancel():i(t)}),o.then(t,e,n)},xs.prototype.$goog_Thenable=!0,S(Rs,P),Rs.prototype.message="Deferred has already fired",Rs.prototype.name="AlreadyCalledError",S(Ms,P),Ms.prototype.message="Deferred was canceled",Ms.prototype.name="CanceledError",Ls.prototype.c=function(){throw delete Fs[this.a],this.b};var Fs={};function Vs(t){var e={},n=e.document||document,r=Ct(t).toString(),i=fe(document,"SCRIPT"),o={Wb:i,Ma:void 0},a=new xs(o),l=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(l=window.setTimeout(function(){js(i,!0);var t=new Hs(Bs,"Timeout reached for loading script "+r);Os(a),ks(a,!1,t)},h),o.Ma=l),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(js(i,e.xd||!1,l),Os(a),ks(a,!0,null))},i.onerror=function(){js(i,!0,l);var t=new Hs(qs,"Error while loading script "+r);Os(a),ks(a,!1,t)},mt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ae(i,o),function(t,e){vt(t,"HTMLScriptElement"),t.src=Ct(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=s?e=c(e.document):(null===u&&(u=c(s.document)),e=u),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Us(){if(this&&this.Wb){var t=this.Wb;t&&"SCRIPT"==t.tagName&&js(t,!0,this.Ma)}}function js(t,e,n){null!=n&&s.clearTimeout(n),t.onload=l,t.onerror=l,t.onreadystatechange=l,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var qs=0,Bs=1;function Hs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),P.call(this,n),this.code=t}function zs(t){this.f=t}function Gs(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||$s,this.g=pt(t.secureTokenHeaders||Qs),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||Ys,this.a=pt(t.firebaseHeaders||Xs),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==wr(),!(n=s.XMLHttpRequest||n&&jf.INTERNAL.node&&jf.INTERNAL.node.XMLHttpRequest)&&!br())throw new C("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=br()?new cs(self):_r()?new zs(n):new $o,this.b=null}S(Hs,P),S(zs,Go),zs.prototype.a=function(){return new this.f},zs.prototype.b=function(){return{}};var Ks,Ws="idToken",$s=new Ur(3e4,6e4),Qs={"Content-Type":"application/x-www-form-urlencoded"},Ys=new Ur(3e4,6e4),Xs={"Content-Type":"application/json"};function Zs(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Js(t,e){e&&(t.l=ta("https://securetoken.googleapis.com/v1/token",e),t.h=ta("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=ta("https://identitytoolkit.googleapis.com/v2/",e))}function ta(t,e){return t=Fn(t),e=Fn(e.url),t.f=t.a+t.f,Dn(t,e.c),t.a=e.a,Pn(t,e.g),t.toString()}function ea(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function na(t,e,n,r,i,o,a){(function(){var t=Tr();return!((t="Chrome"!=Sr(t)?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Wt&&ie&&!(9<ie))})()||br()?t=w(t.u,t):(Ks||(Ks=new ye(function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(s[ia]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ns(t,null,e,void 0)}(Vs(Tt(ra,{onload:ia})),function(){e(Error("CORS_UNSUPPORTED"))}))}(t,e)})),t=w(t.s,t)),t(e,n,r,i,o,a)}Gs.prototype.T=function(){return this.b},Gs.prototype.u=function(t,e,n,r,i,o){if(br()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new C("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new gs(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout(function(){a.dispatchEvent("timeout")},o)}wn(a,"complete",function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return us(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(td){t=null}e&&e(t)}),_n(a,"ready",function(){u&&clearTimeout(u),He(this)}),_n(a,"timeout",function(){u&&clearTimeout(u),He(this),e&&e(null)}),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():jo.a(),t.C=function(t){return t.c||(t.c=t.b())}(t.D?t.D:jo),t.a.onreadystatechange=w(t.Vb,t);try{us(t.b,As(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(a){return us(t.b,As(t,"Error opening Xhr: "+a.message)),void ws(t,a)}e=r||"";var o=new An(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)H(t,e,void 0);else for(var n=Tn(t),r=Cn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,function(t,e){o.set(e,t)}),i=function(t){t:{for(var e=bs,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=s.FormData&&e instanceof s.FormData,!W(ys,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Es(t),0<t.g&&(t.u=function(t){return Wt&&re(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),us(t.b,As(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=w(t.Ma,t)):t.s=Sn(t.Ma,t.g,t)),us(t.b,As(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){us(t.b,As(t,"Send error: "+a.message)),ws(t,a)}}(a,t,n,r,i)};var ra=new yt(It,"https://apis.google.com/js/client.js?onload=%{onload}"),ia="__fcb"+Math.floor(1e6*Math.random()).toString();function oa(t){if("string"!=typeof(t=t.email)||!gr.test(t))throw new C("invalid-email")}function sa(t){"email"in t&&oa(t)}function aa(t){if(!t[Ws]){if(t.mfaPendingCredential)throw new C("multi-factor-auth-required",null,pt(t));throw new C("internal-error")}}function ua(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new C("internal-error")}else{if(!t.sessionInfo)throw new C("missing-verification-id");if(!t.code)throw new C("missing-verification-code")}}Gs.prototype.s=function(t,e,n,r,i){var o=this;Ks.then(function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})}).o(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Gs.prototype.zb=function(){return Xa(this,Ua,{})},Gs.prototype.Bb=function(t,e){return Xa(this,Fa,{idToken:t,email:e})},Gs.prototype.Cb=function(t,e){return Xa(this,Va,{idToken:t,password:e})};var ca={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function la(t){if(!t.phoneVerificationInfo)throw new C("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new C("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new C("missing-verification-code")}function ha(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new C("internal-error")}function fa(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Xn(t=new Wn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function da(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=zo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=zo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=zo(t)):t.errorMessage&&(e=Za(t.errorMessage)),e)throw e;aa(t)}function pa(t,e){return e.returnIdpCredential=!0,Xa(t,Ba,e)}function ga(t,e){return e.returnIdpCredential=!0,Xa(t,za,e)}function ma(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Xa(t,Ha,e)}function va(t){if(!t.oobCode)throw new C("invalid-action-code")}(t=Gs.prototype).Db=function(t,e){var n={idToken:t},r=[];return ft(ca,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),Xa(this,Fa,n)},t.vb=function(t,e){return mt(t={requestType:"PASSWORD_RESET",email:t},e),Xa(this,Da,t)},t.wb=function(t,e){return mt(t={requestType:"EMAIL_SIGNIN",email:t},e),Xa(this,ka,t)},t.ub=function(t,e){return mt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Xa(this,Oa,t)},t.Eb=function(t,e,n){return mt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Xa(this,Na,t)},t.fb=function(t){return Xa(this,Wa,t)},t.nb=function(t,e){return Xa(this,Ma,{oobCode:t,newPassword:e})},t.Ra=function(t){return Xa(this,ba,{oobCode:t})},t.jb=function(t){return Xa(this,ya,{oobCode:t})};var ya={endpoint:"setAccountInfo",A:va,Z:"email",B:!0},ba={endpoint:"resetPassword",A:va,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new C("internal-error")},B:!0},wa={endpoint:"signupNewUser",A:function(t){if(oa(t),!t.password)throw new C("weak-password")},G:aa,V:!0,B:!0},_a={endpoint:"createAuthUri",B:!0},Ia={endpoint:"deleteAccount",N:["idToken"]},Sa={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new C("internal-error")}},Ea={endpoint:"emailLinkSignin",N:["email","oobCode"],A:oa,G:aa,V:!0,B:!0},Ca={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:oa,G:aa,V:!0},Ta={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:la,G:aa,B:!0,Na:!0},Aa={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:la,G:aa,B:!0,Na:!0},xa={endpoint:"getAccountInfo"},ka={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new C("internal-error");oa(t)},Z:"email",B:!0},Oa={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new C("internal-error")},Z:"email",B:!0},Na={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new C("internal-error")},Z:"email",B:!0},Da={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new C("internal-error");oa(t)},Z:"email",B:!0},Pa={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Ra={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new C("internal-error")}},Ma={endpoint:"resetPassword",A:va,Z:"email",B:!0},La={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Fa={endpoint:"setAccountInfo",N:["idToken"],A:sa,V:!0},Va={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(sa(t),!t.password)throw new C("weak-password")},G:aa,V:!0},Ua={endpoint:"signupNewUser",G:aa,V:!0,B:!0},ja={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new C("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new C("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new C("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new C("internal-error")},B:!0,Na:!0},qa={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new C("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new C("internal-error")},B:!0,Na:!0},Ba={endpoint:"verifyAssertion",A:ha,Ya:fa,G:da,V:!0,B:!0},Ha={endpoint:"verifyAssertion",A:ha,Ya:fa,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new C("user-not-found");if(t.errorMessage)throw Za(t.errorMessage);aa(t)},V:!0,B:!0},za={endpoint:"verifyAssertion",A:function(t){if(ha(t),!t.idToken)throw new C("internal-error")},Ya:fa,G:da,V:!0},Ga={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new C("invalid-custom-token")},G:aa,V:!0,B:!0},Ka={endpoint:"verifyPassword",A:function(t){if(oa(t),!t.password)throw new C("wrong-password")},G:aa,V:!0,B:!0},Wa={endpoint:"verifyPhoneNumber",A:ua,G:aa,B:!0},$a={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new C("internal-error");ua(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",zo(t);aa(t)}},Qa={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ua,G:aa,B:!0},Ya={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Ws]^!!t.refreshToken)throw new C("internal-error")},B:!0,Na:!0};function Xa(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.N))return Te(new C("internal-error"));var r,i=!!e.Na,o=e.Ub||"POST";return Ce(n).then(e.A).then(function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,s){var a=Fn(e+n);Mn(a,"key",t.c),s&&Mn(a,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Mn(a,c,i[c]);return new ye(function(e,n){na(t,a.toString(),function(t){t?t.error?n(Ja(t,o||{})):e(t):n(new C("network-request-failed"))},r,u?void 0:er(Rr(i)),t.a,t.v.get())})}(t,i?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)}).then(function(t){return r=t,e.Ya?e.Ya(n,r):r}).then(e.G).then(function(){if(!e.Z)return r;if(!(e.Z in r))throw new C("internal-error");return r[e.Z]})}function Za(t){return Ja({error:{errors:[{message:t}],code:400,message:t}})}function Ja(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new C(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",mt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new C(r[i],e);return!e&&t&&(e=Pr(t)),new C("internal-error",e)}function tu(t){this.b=t,this.a=null,this.rb=function(t){return(iu||(iu=new ye(function(t,e){function n(){Vr(),Ar("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Vr(),e(Error("Network Error"))},timeout:nu.get()})}if(Ar("gapi.iframes.Iframe"))t();else if(Ar("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Ar("gapi.load")?n():e(Error("Network Error"))},Ce(Vs(r=Tt(eu,{onload:r}))).o(function(){e(Error("Network Error"))})}}).o(function(t){throw iu=null,t}))).then(function(){return new ye(function(e,n){Ar("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},ru.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}var eu=new yt(It,"https://apis.google.com/js/api.js?onload=%{onload}"),nu=new Ur(3e4,6e4),ru=new Ur(5e3,15e3),iu=null;function ou(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?Vn((t=Fn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):Vn("https",this.l,null,"/__/auth/iframe"),this.a=t,Mn(this.a,"apiKey",this.h),Mn(this.a,"appName",this.i),this.b=null,this.c=[]}function su(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function au(t){try{return jf.app(t).auth().Ga()}catch(e){return[]}}function uu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function cu(t){var e=ur();return function(t){return Xa(t,Pa,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Fn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Fn(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:pr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Bo(ur())})}function lu(t){return t.m||(t.m=mr().then(function(){if(!t.u){var e=t.c,n=t.i,r=au(t.b),i=new ou(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=X(r||[]),t.u=i.toString()}t.v=new tu(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then(function(){t.a.register("authEvent",e,Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.v,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Vo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ce(n)}return n.status="ERROR",Ce(n)})}(t)})),t.m}function hu(t){return t.l||(t.C=t.c?Cr(t.c,au(t.b)):null,t.l=new Gs(t.g,N(t.i),t.C),t.f&&Js(t.l,t.f)),t.l}function fu(t,e,n,r,i,o,s,a,u,c,l,h){return(t=new su(t,e,n,r,i,h)).l=o,t.g=s,t.i=a,t.b=pt(u||null),t.f=c,t.yb(l).toString()}function du(t){if(this.a=t||jf.INTERNAL.reactNative&&jf.INTERNAL.reactNative.AsyncStorage,!this.a)throw new C("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function pu(t){this.b=t,this.a={},this.f=w(this.c,this)}ou.prototype.toString=function(){return this.f?Mn(this.a,"v",this.f):Yn(this.a.b,"v"),this.b?Mn(this.a,"eid",this.b):Yn(this.a.b,"eid"),this.c.length?Mn(this.a,"fw",this.c.join(",")):Yn(this.a.b,"fw"),this.a.toString()},su.prototype.yb=function(t){return this.h=t,this},su.prototype.toString=function(){if(this.v){var t=Fn(this.v.url);t=Vn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Vn("https",this.u,null,"/__/auth/handler");if(Mn(t,"apiKey",this.s),Mn(t,"appName",this.c),Mn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=jf.app(this.c).auth().la()}catch(Hf){n=null}for(var r in e.ob=n,Mn(t,"providerId",this.a.providerId),e=Rr((n=this.a).Ib))e[r]=e[r].toString();r=n.Qc,e=pt(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.pb&&n.ob&&!e[n.pb]&&(e[n.pb]=n.ob),dt(e)||Mn(t,"customParameters",Pr(e))}if("function"==typeof this.a.Qb&&(n=this.a.Qb()).length&&Mn(t,"scopes",n.join(",")),this.l?Mn(t,"redirectUrl",this.l):Yn(t.b,"redirectUrl"),this.g?Mn(t,"eventId",this.g):Yn(t.b,"eventId"),this.i?Mn(t,"v",this.i):Yn(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Ln(t,s)&&Mn(t,s,this.b[s]);return this.h?Mn(t,"tid",this.h):Yn(t.b,"tid"),this.f?Mn(t,"eid",this.f):Yn(t.b,"eid"),(s=au(this.c)).length&&Mn(t,"fw",s.join(",")),t.toString()},(t=uu.prototype).Ob=function(t,e,n){var r=new C("popup-closed-by-user"),i=new C("web-storage-unsupported"),o=this,s=!1;return this.ma().then(function(){(function(t){var e={type:"webStorageSupport"};return lu(t).then(function(){return function(t,e){return t.rb.then(function(){return new ye(function(n){t.a.send(e.type,e,n,Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.v,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&fr(t),e(i),s=!0)})}).o(function(){}).then(function(){if(!s)return function(t){return new ye(function(e){return function n(){En(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!s)return En(n).then(function(){e(r)})})},t.Xb=function(){var t=Tr();return!Dr(t)&&!Fr(t)},t.Tb=function(){return!1},t.Mb=function(t,e,n,r,i,o,s,a){if(!t)return Te(new C("popup-blocked"));if(s&&!Dr())return this.ma().o(function(e){fr(t),i(e)}),r(),Ce();this.a||(this.a=cu(hu(this)));var u=this;return this.a.then(function(){var e=u.ma().o(function(e){throw fr(t),i(e),e});return r(),e}).then(function(){Lo(n),s||cr(fu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,a,u.f),t)}).o(function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t})},t.Nb=function(t,e,n,r){this.a||(this.a=cu(hu(this)));var i=this;return this.a.then(function(){Lo(e),cr(fu(i.s,i.g,i.b,t,e,ur(),n,i.c,void 0,i.i,r,i.f))}).o(function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t})},t.ma=function(){var t=this;return lu(this).then(function(){return t.v.rb}).o(function(){throw t.a=null,new C("network-request-failed")})},t.$b=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Sa=function(t){Q(this.h,function(e){return e==t})},(t=du.prototype).get=function(t){return Ce(this.a.getItem(t)).then(function(t){return t&&Mr(t)})},t.set=function(t,e){return Ce(this.a.setItem(t,Pr(e)))},t.U=function(t){return Ce(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var gu,mu=[];function vu(t,e,n){dt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function yu(t){this.a=t}function bu(t){this.c=t,this.b=!1,this.a=[]}function wu(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return Te(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ye(function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout(function(){r(Error("unsupported_event"))},l),t.a.push(c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))}).then(function(e){return _u(t,c),e}).o(function(e){throw _u(t,c),e})}function _u(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),Q(t.a,function(t){return t==e})}}function Iu(){if(!Tu())throw new C("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;br()&&self?(this.v=function(){var t=br()?self:null;if(H(mu,function(n){n.b==t&&(e=n)}),!e){var e=new pu(t);mu.push(e)}return e}(),vu(this.v,"keyChanged",function(e,n){return Nu(t).then(function(e){return 0<e.length&&H(t.a,function(t){t(e)}),{keyProcessed:W(e,n.key)}})}),vu(this.v,"ping",function(){return Ce(["keyChanged"])})):function(){var t=s.navigator;return t&&t.serviceWorker?Ce().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).o(function(){return null}):Ce(null)}().then(function(e){(t.h=e)&&(t.g=new bu(new yu(e)),wu(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&W(e[0].value,"keyChanged")&&(t.s=!0)}).o(function(){}))})}function Su(t){return new ye(function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new ye(function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}(t).then(function(){return Su(t)}).then(function(t){e(t)}).o(function(t){n(t)})}})}function Eu(t){return t.i||(t.i=Su(t)),t.i}function Cu(t,e){var n=0;return new ye(function r(i,o){Eu(t).then(e).then(i).o(function(e){if(!(3<++n))return Eu(t).then(function(e){return e.close(),t.i=void 0,r(i,o)}).o(function(t){o(t)});o(e)})})}function Tu(){try{return!!s.indexedDB}catch(Id){return!1}}function Au(t){return t.objectStore("firebaseLocalStorage")}function xu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function ku(t){return new ye(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function Ou(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?wu(t.g,"keyChanged",{key:e},t.s).then(function(){}).o(function(){}):Ce()}function Nu(t){return Eu(t).then(function(t){var e=Au(xu(t,!1));return e.getAll?ku(e.getAll()):new ye(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=lr(t.c,n),t.c=n}return r})}function Du(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Pu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ce().then(function(){if(Tu()){var t=Lr(),r="__sak"+t;return gu||(gu=new Iu),(n=gu).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)}).then(function(){return n}).o(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.ca(function(t){H(e.a,function(e){e(t)})}),t})}function Ru(){this.a={},this.type="inMemory"}function Mu(){if(!function(){var t="Node"==wr();if(!(t=Lu()||t&&jf.INTERNAL.node&&jf.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==wr())throw new C("internal-error","The LocalStorage compatibility library was not found.");throw new C("web-storage-unsupported")}this.a=Lu()||jf.INTERNAL.node.localStorage,this.type="localStorage"}function Lu(){try{var t=s.localStorage,e=Lr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Fu(){this.type="nullStorage"}function Vu(){if(!function(){var t="Node"==wr();if(!(t=Uu()||t&&jf.INTERNAL.node&&jf.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==wr())throw new C("internal-error","The SessionStorage compatibility library was not found.");throw new C("web-storage-unsupported")}this.a=Uu()||jf.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Uu(){try{var t=s.sessionStorage,e=Lr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function ju(){var t={};t.Browser=Hu,t.Node=zu,t.ReactNative=Gu,t.Worker=Ku,this.a=t[wr()]}pu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];H(r,function(e){i.push(Ce().then(function(){return e(t.origin,t.data.data)}))}),xe(i).then(function(r){var i=[];H(r,function(t){i.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})}),H(i,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},yu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},bu.prototype.close=function(){for(;0<this.a.length;)_u(this,this.a[0]);this.b=!0},(t=Iu.prototype).set=function(t,e){var n=this,r=!1;return Cu(this,function(e){return ku((e=Au(xu(e,!0))).get(t))}).then(function(i){return Cu(n,function(o){if(o=Au(xu(o,!0)),i)return i.value=e,ku(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,ku(o.add(s))})}).then(function(){return n.c[t]=e,Ou(n,t)}).oa(function(){r&&n.b--})},t.get=function(t){return Cu(this,function(e){return ku(Au(xu(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.U=function(t){var e=this,n=!1;return Cu(this,function(r){return n=!0,e.b++,ku(Au(xu(r,!0)).delete(t))}).then(function(){return delete e.c[t],Ou(e,t)}).oa(function(){n&&e.b--})},t.ca=function(t){0==this.a.length&&function(t){Du(t),function e(){t.f=setTimeout(function(){t.l=Nu(t).then(function(e){0<e.length&&H(t.a,function(t){t(e)})}).then(function(){e()}).o(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},t.ia=function(t){Q(this.a,function(e){return e==t}),0==this.a.length&&Du(this)},(t=Pu.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.U=function(t){return this.b.then(function(e){return e.U(t)})},t.ca=function(t){this.a.push(t)},t.ia=function(t){Q(this.a,function(e){return e==t})},(t=Ru.prototype).get=function(t){return Ce(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ce()},t.U=function(t){return delete this.a[t],Ce()},t.ca=function(){},t.ia=function(){},(t=Mu.prototype).get=function(t){var e=this;return Ce().then(function(){return Mr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Ce().then(function(){var r=Pr(e);null===r?n.U(t):n.a.setItem(t,r)})},t.U=function(t){var e=this;return Ce().then(function(){e.a.removeItem(t)})},t.ca=function(t){s.window&&an(s.window,"storage",t)},t.ia=function(t){s.window&&ln(s.window,"storage",t)},(t=Fu.prototype).get=function(){return Ce(null)},t.set=function(){return Ce()},t.U=function(){return Ce()},t.ca=function(){},t.ia=function(){},(t=Vu.prototype).get=function(t){var e=this;return Ce().then(function(){return Mr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Ce().then(function(){var r=Pr(e);null===r?n.U(t):n.a.setItem(t,r)})},t.U=function(t){var e=this;return Ce().then(function(){e.a.removeItem(t)})},t.ca=function(){},t.ia=function(){};var qu,Bu,Hu={F:Mu,bb:Vu},zu={F:Mu,bb:Vu},Gu={F:du,bb:Fu},Ku={F:Mu,bb:Fu},Wu={rd:"local",NONE:"none",td:"session"};function $u(){var t=!(Fr(Tr())||!yr()),e=Dr(),n=xr();this.m=t,this.h=e,this.l=n,this.a={},qu||(qu=new ju),t=qu;try{this.g=!ar()&&Br()||!s.indexedDB?new t.a.F:new Pu(br()?new Ru:new t.a.F)}catch(r){this.g=new Ru,this.h=!0}try{this.i=new t.a.bb}catch(r){this.i=new Ru}this.v=new Ru,this.f=w(this.Yb,this),this.b={}}function Qu(){return Bu||(Bu=new $u),Bu}function Yu(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function Xu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Zu(t,e,n){return n=Xu(e,n),"local"==e.F&&(t.b[n]=null),Yu(t,e.F).U(n)}function Ju(t){t.c&&(clearInterval(t.c),t.c=null)}function tc(t){this.a=t,this.b=Qu()}(t=$u.prototype).get=function(t,e){return Yu(this,t.F).get(Xu(t,e))},t.set=function(t,e,n){var r=Xu(t,n),i=this,o=Yu(this,t.F);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.F&&(i.b[r]=e)})},t.addListener=function(t,e,n){t=Xu(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),dt(this.a)&&(Yu(this,"local").ca(this.f),this.h||(ar()||!Br())&&s.indexedDB||!this.l||function(t){Ju(t),t.c=setInterval(function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Qe({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Yb(n))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Xu(t,e),this.a[t]&&(Q(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),dt(this.a)&&(Yu(this,"local").ia(this.f),Ju(this))},t.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Yu(this,"local").ia(this.f):Ju(this),this.m)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.mb(e))},Wt&&ie&&10==ie&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else H(t,w(this.mb,this))},t.mb=function(t){this.a[t]&&H(this.a[t],function(t){t()})};var ec,nc={name:"authEvent",F:"local"};function rc(){this.a=Qu()}function ic(t,e){this.b=oc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===ec&&(ec=s.Int32Array?new Int32Array(fc):fc),this.reset()}S(ic,function(){this.b=-1});for(var oc=64,sc=oc-1,ac=[],uc=0;uc<sc;uc++)ac[uc]=0;var cc=Y(128,ac);function lc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&l^~c&h)+(0|ec[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function hc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(lc(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(lc(t),i=0)}}t.c=i,t.g+=n}ic.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):X(this.h)};var fc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function dc(){ic.call(this,8,pc)}S(dc,ic);var pc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function gc(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new rc,this.g=new tc(this.h),this.f=null,this.b=[],this.a=this.c=null}function mc(t){return new C("invalid-cordova-configuration",t)}function vc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function yc(t){return t.f||(t.f=t.ma().then(function(){return new ye(function(e){t.Ea(function n(r){return e(r),t.Sa(n),!1}),function(t){function e(e){r=!0,i&&i.cancel(),bc(t).then(function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=eo(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Mr(Ln(o=Fn(i),"firebaseError")||null))?T(o):null)?new Fo(r.c,r.b,null,null,o,null,r.T()):new Fo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}vc(t,i)})}var n=new Fo("unknown",null,null,null,new C("no-auth-event")),r=!1,i=En(500).then(function(){return bc(t).then(function(){r||vc(t,n)})}),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Ar("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(Hf){console.error(Hf)}},qo||(qo=new Uo),function(t){var e=qo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Ar("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)})})),t.f}function bc(t){var e=null;return function(t){return t.b.get(nc,t.a).then(function(t){return Vo(t)})}(t.g).then(function(n){return e=n,Zu((n=t.g).b,nc,n.a)}).then(function(){return e})}function wc(t){this.a=t,this.b=Qu()}(t=gc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(vr(void 0)?mr().then(function(){return new ye(function(t,e){var n=s.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):Te(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof Ar("universalLinks.subscribe",s))throw mc("cordova-universal-links-plugin-fix is not installed");if(void 0===Ar("BuildInfo.packageName",s))throw mc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Ar("cordova.plugins.browsertab.openUrl",s))throw mc("cordova-plugin-browsertab is not installed");if("function"!=typeof Ar("cordova.InAppBrowser.open",s))throw mc("cordova-plugin-inappbrowser is not installed")},function(){throw new C("cordova-not-ready")})},t.Ob=function(t,e){return e(new C("operation-not-supported-in-this-environment")),Ce()},t.Mb=function(){return Te(new C("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(t,e,n,r){if(this.c)return Te(new C("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=Ce().then(function(){return Lo(e),yc(i)}).then(function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Fo(e,r,null,o,new C("no-auth-event"),null,i),u=Ar("BuildInfo.packageName",s);if("string"!=typeof u)throw new C("invalid-cordova-configuration");var c=Ar("BuildInfo.displayName",s),l={};if(Tr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Tr().toLowerCase().match(/android/))return Te(new C("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=function(t){var e=new dc;hc(e,t),t=[];var n=8*e.g;hc(e,cc,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(lc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return G(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}(o),l.sessionId=o;var h=fu(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then(function(){var e=t.h;return t.C.a.set(nc,a.w(),e)}).then(function(){var e=Ar("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new C("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=Ar("cordova.plugins.browsertab.openUrl",s)))throw new C("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Ar("cordova.InAppBrowser.open",s)))throw new C("invalid-cordova-configuration");e=Tr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(i,t,e,n,r)}).then(function(){return new ye(function(t,e){u=function(){var e=Ar("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),l=function(){jr()&&c()},o.addEventListener("resume",c=function(){a||(a=En(2e3).then(function(){e(new C("redirect-cancelled-by-user"))}))},!1),Tr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)}).o(function(t){return bc(i).then(function(){throw t})})}).oa(function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Sa(u),i.c=null})},t.Ea=function(t){this.b.push(t),yc(this).o(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Fo("unknown",null,null,null,new C("no-auth-event")),t(e))})},t.Sa=function(t){Q(this.b,function(e){return e==t})};var _c={name:"pendingRedirect",F:"session"};function Ic(t){return Zu(t.b,_c,t.a)}function Sc(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=w(this.s,this),this.b=new Vc,this.C=new Hc,this.g=new wc(Lc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Ec(this.D,this.v,this.m,A,this.J)}function Ec(t,e,n,r,i){var o=jf.SDK_VERSION||null;return vr()?new gc(t,e,n,o,r,i):new uu(t,e,n,o,r,i)}function Cc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o(function(n){throw t.a==e&&t.reset(),n})}function Tc(t){t.a.Xb()&&Cc(t).o(function(e){var n=new Fo("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));Dc(e)&&t.s(n)}),t.a.Tb()||Uc(t.b)}function Ac(t,e){W(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(_c,t.a).then(function(t){return"pending"==t})}(t.g).then(function(e){e?Ic(t.g).then(function(){Cc(t).o(function(e){var n=new Fo("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));Dc(e)&&t.s(n)})}):Tc(t)}).o(function(){Tc(t)})}function xc(t,e){Q(t.h,function(t){return t==e})}Sc.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Ec(this.D,this.v,this.m,null,this.J),this.i={}},Sc.prototype.s=function(t){if(!t)throw new C("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Uc(this.b),e};var kc=new Ur(2e3,1e4),Oc=new Ur(3e4,6e4);function Nc(t,e,n,r,i,o,s){return t.a.Mb(e,n,r,function(){t.f||(t.f=!0,t.a.Ea(t.l))},function(){t.reset()},i,o,s)}function Dc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Pc(t,e,n,r,i){var o;return function(t){return t.b.set(_c,"pending",t.a)}(t.g).then(function(){return t.a.Nb(e,n,r,i).o(function(e){if(Dc(e))throw new C("operation-not-supported-in-this-environment");return o=e,Ic(t.g).then(function(){throw o})}).then(function(){return t.a.$b()?new ye(function(){}):Ic(t.g).then(function(){return t.qa()}).then(function(){}).o(function(){})})})}function Rc(t,e,n,r,i){return t.a.Ob(r,function(t){e.na(n,null,t,i)},kc.get())}Sc.prototype.qa=function(){return this.b.qa()};var Mc={};function Lc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Fc(t,e,n,r){var i=Lc(e,n,r);return Mc[i]||(Mc[i]=new Sc(t,e,n,r)),Mc[i]}function Vc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Uc(t){t.g||(t.g=!0,Bc(t,!1,null,null))}function jc(t){t.g&&!t.i&&Bc(t,!1,null,null)}function qc(t,e){if(t.b=function(){return Ce(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Bc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Te(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):qc(t,n):qc(t,{user:null}),t.f=[],t.c=[]}function Hc(){}function zc(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function Gc(t,e){this.a=e,Wr(this,"verificationId",t)}function Kc(t,e,n,r){return new Po(t).fb(e,n).then(function(t){return new Gc(t,r)})}function Wc(t){var e=qi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new C("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");$r(this,{token:t,expirationTime:qr(1e3*e.exp),authTime:qr(1e3*e.auth_time),issuedAtTime:qr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function $c(t,e,n){var r=e&&e[Yc];if(!r)throw new C("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=pt(e),this.g=n,this.c=new no(null,r),this.b=[];var i=this;H(e[Qc]||[],function(t){(t=Zr(t))&&i.b.push(t)}),Wr(this,"auth",this.a),Wr(this,"session",this.c),Wr(this,"hints",this.b)}Vc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Vc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Bc(this,!0,null,t.a),Ce()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.T(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then(function(e){Bc(t,a,e,null)}).o(function(e){Bc(t,a,null,e)})}(this,t,e):Te(new C("invalid-auth-event")):(Bc(this,!1,null,null),Ce())}else Te(new C("invalid-auth-event"))},Vc.prototype.qa=function(){var t=this;return new ye(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new C("timeout");t.a&&t.a.cancel(),t.a=En(Oc.get()).then(function(){t.b||(t.g=!0,Bc(t,!0,null,e))})}(t))})},Hc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Ce()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then(function(t){e.na(r,t,null,n)}).o(function(t){e.na(r,null,t,n)})}(t,e):Te(new C("invalid-auth-event"))}else Te(new C("invalid-auth-event"))},Gc.prototype.confirm=function(t){return t=Ro(this.verificationId,t),this.a(t)};var Qc="mfaInfo",Yc="mfaPendingCredential";function Xc(t,e,n,r){C.call(this,"multi-factor-auth-required",r,e),this.b=new $c(t,e,n),Wr(this,"resolver",this.b)}function Zc(t,e,n){if(t&&p(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Xc(e,t.serverResponse,n,t.message)}catch(r){}return null}function Jc(){}function tl(t){Wr(this,"factorId",t.fa),this.a=t}function el(t){if(tl.call(this,t),this.a.fa!=Po.PROVIDER_ID)throw new C("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function nl(t,e){for(var n in $e.call(this,t),e)this[n]=e[n]}function rl(t,e){this.a=t,this.b=[],this.c=w(this.yc,this),an(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&H(e.multiFactor.enrolledFactors,function(t){var e=null,r={};if(t){t.uid&&(r[ei]=t.uid),t.displayName&&(r[Jr]=t.displayName),t.enrollmentTime&&(r[ti]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ni]=t.phoneNumber);try{e=new ri(r)}catch(i){}t=e}else t=null;t&&n.push(t)}),il(this,n)}function il(t,e){t.b=e,Wr(t,"enrolledFactors",e)}function ol(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function sl(t,e){t.stop(),t.b=En(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then(function(){return function(){var t=s.document,e=null;return jr()||!t?Ce():new ye(function(n){e=function(){jr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).o(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}()}).then(function(){return t.h()}).then(function(){sl(t,!0)}).o(function(e){t.i(e)&&sl(t,!1)})}function al(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function ul(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function cl(t,e){t.b=ji(e[Ws]||""),t.a=e.refreshToken,ul(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function ll(t,e){this.a=t||null,this.b=e||null,$r(this,{lastSignInTime:qr(e||null),creationTime:qr(t||null)})}function hl(t,e,n,r,i,o){$r(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function fl(t,e,n){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=jf.SDK_VERSION?Cr(jf.SDK_VERSION):null;this.a=new Gs(this.l,N(A),r),t.emulatorConfig&&Js(this.a,t.emulatorConfig),this.b=new al(this.a),wl(this,e[Ws]),cl(this.b,e),Wr(this,"refreshToken",this.b.a),Sl(this,n||{}),bn.call(this),this.R=!1,this.s&&kr()&&(this.i=Fc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(t){return new ol(function(){return t.I(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0})}(this),this.aa=w(this.hb,this);var i=this;this.ya=null,this.Oa=function(t){i.wa(t.h)},this.ja=null,this.Aa=function(t){Js(i.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){gl(i,t.f)},this.ba=null,this.O=new rl(this,n),Wr(this,"multiFactor",this.O)}function dl(t,e){t.ja&&ln(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&an(e,"languageCodeChanged",t.Oa)}function pl(t,e){t.X&&ln(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&an(e,"emulatorConfigChanged",t.Aa)}function gl(t,e){t.$=e,ea(t.a,jf.SDK_VERSION?Cr(jf.SDK_VERSION,t.$):null)}function ml(t,e){t.ba&&ln(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&an(e,"frameworkChanged",t.Ba)}function vl(t){try{return jf.app(t.m).auth()}catch(e){throw new C("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function yl(t){t.D||t.u.b||(t.u.start(),ln(t,"tokenChanged",t.aa),an(t,"tokenChanged",t.aa))}function bl(t){ln(t,"tokenChanged",t.aa),t.u.stop()}function wl(t,e){t.za=e,Wr(t,"_lat",e)}function _l(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return xe(e).then(function(){return t})}function Il(t){t.i&&!t.R&&(t.R=!0,Ac(t.i,t))}function Sl(t,e){$r(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new ll(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function El(){}function Cl(t){return Ce().then(function(){if(t.D)throw new C("app-deleted")})}function Tl(t){return G(t.providerData,function(t){return t.providerId})}function Al(t,e){e&&(xl(t,e.providerId),t.providerData.push(e))}function xl(t,e){Q(t.providerData,function(t){return t.providerId==e})}function kl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Wr(t,e,n)}function Ol(t,e){t!=e&&($r(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Wr(t,"metadata",e.metadata?function(t){return new ll(t.a,t.b)}(e.metadata):new ll),H(e.providerData,function(e){Al(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Wr(t,"refreshToken",t.b.a),il(t.O,e.O.b))}function Nl(t){return t.I().then(function(e){var n=t.isAnonymous;return function(t,e){return Xa(t.a,xa,{idToken:e}).then(w(t.Kc,t))}(t,e).then(function(){return n||kl(t,"isAnonymous",!1),e})})}function Dl(t,e){e[Ws]&&t.za!=e[Ws]&&(cl(t.b,e),t.dispatchEvent(new nl("tokenChanged")),wl(t,e[Ws]),kl(t,"refreshToken",t.b.a))}function Pl(t,e){return Nl(t).then(function(){if(W(Tl(t),e))return _l(t).then(function(){throw new C("provider-already-linked")})})}function Rl(t,e,n){return Qr({user:t,credential:Mo(e),additionalUserInfo:e=Ki(e),operationType:n})}function Ml(t,e){return Dl(t,e),t.reload().then(function(){return t})}function Ll(t,e,n,r,i){if(!kr())return Te(new C("operation-not-supported-in-this-environment"));if(t.h&&!i)return Te(t.h);var o=Gi(n.providerId),s=Lr(t.uid+":::"),a=null;(!Dr()||yr())&&t.s&&n.isOAuthProvider&&(a=fu(t.s,t.l,t.m,e,n,null,s,jf.SDK_VERSION||null,null,null,t.tenantId));var u=dr(a,o&&o.ua,o&&o.ta);return r=r().then(function(){if(Vl(t),!i)return t.I().then(function(){})}).then(function(){return Nc(t.i,u,e,n,s,!!a,t.tenantId)}).then(function(){return new ye(function(n,r){t.na(e,null,new C("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=s,t.c=Rc(t.i,t,e,u,s)})}).then(function(t){return u&&fr(u),t?Qr(t):null}).o(function(t){throw u&&fr(u),t}),Ul(t,r,i)}function Fl(t,e,n,r,i){if(!kr())return Te(new C("operation-not-supported-in-this-environment"));if(t.h&&!i)return Te(t.h);var o=null,s=Lr(t.uid+":::");return r=r().then(function(){if(Vl(t),!i)return t.I().then(function(){})}).then(function(){return t.ga=s,_l(t)}).then(function(e){return t.ha&&(e=(e=t.ha).b.set(Bl,t.w(),e.a)),e}).then(function(){return Pc(t.i,e,n,s,t.tenantId)}).o(function(e){if(o=e,t.ha)return Hl(t.ha);throw o}).then(function(){if(o)throw o}),Ul(t,r,i)}function Vl(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new C("internal-error");throw new C("auth-domain-config-required")}}function Ul(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Te(t.h)):e.o(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new nl("userInvalidated")),t.h=e),e})}(t,e,n);return t.J.push(r),r.oa(function(){$(t.J,r)}),r.o(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Zc(e.w(),vl(t),w(t.jc,t))),n||e})}function jl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ws]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new fl(e,n,t);return t.providerData&&H(t.providerData,function(t){t&&Al(i,Qr(t))}),t.redirectEventId&&(i.ga=t.redirectEventId),i}function ql(t){this.a=t,this.b=Qu()}$c.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then(function(t){var n=pt(e.f);return delete n[Qc],delete n[Yc],mt(n,t),e.g(n)})},S(Xc,C),Jc.prototype.sb=function(t,e,n){return e.type==ro?function(t,e,n,r){return n.Ha().then(function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),mt(n,{phoneVerificationInfo:Do(t.a)}),Xa(e,Ta,n)})}(this,t,e,n):function(t,e,n){return n.Ha().then(function(n){return mt(n={mfaPendingCredential:n},{phoneVerificationInfo:Do(t.a)}),Xa(e,Aa,n)})}(this,t,e)},S(tl,Jc),S(el,tl),S(nl,$e),(t=rl.prototype).yc=function(t){il(this,function(t){var e=[];return H(t.mfaInfo||[],function(t){(t=Zr(t))&&e.push(t)}),e}(t.hd))},t.Rb=function(){return this.a.I().then(function(t){return new no(t,null)})},t.fc=function(t,e){var n=this,r=this.a.a;return this.Rb().then(function(n){return t.sb(r,n,e)}).then(function(t){return Dl(n.a,t),n.a.reload()})},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then(function(t){return Xa(r,Ya,{idToken:t,mfaEnrollmentId:n})}).then(function(t){var r=z(e.b,function(t){return t.uid!=n});return il(e,r),Dl(e.a,t),e.a.reload().o(function(t){if("auth/user-token-expired"!=t.code)throw t})})},t.w=function(){return{multiFactor:{enrolledFactors:G(this.b,function(t){return t.w()})}}},ol.prototype.start=function(){this.a=this.c,sl(this,!0)},ol.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},al.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},al.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Te(new C("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?function(t,e){return function(t,e){return new ye(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?na(t,t.l+"?key="+encodeURIComponent(t.c),function(t){t?t.error?r(Ja(t)):t.access_token&&t.refresh_token?n(t):r(new C("internal-error")):r(new C("network-request-failed"))},"POST",Qn(e).toString(),t.g,t.m.get()):r(new C("internal-error"))})}(t.f,e).then(function(e){return t.b=ji(e.access_token),t.a=e.refresh_token,ul(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}}).o(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):Ce(null):Ce({accessToken:this.b.toString(),refreshToken:this.a})},ll.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},S(fl,bn),fl.prototype.wa=function(t){this.ya=t,Zs(this.a,t)},fl.prototype.la=function(){return this.ya},fl.prototype.Ga=function(){return X(this.$)},fl.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},Wr(fl.prototype,"providerId","firebase"),(t=fl.prototype).reload=function(){var t=this;return Ul(this,Cl(this).then(function(){return Nl(t).then(function(){return _l(t)}).then(El)}))},t.oc=function(t){return this.I(t).then(function(t){return new Wc(t)})},t.I=function(t){var e=this;return Ul(this,Cl(this).then(function(){return e.b.getToken(t)}).then(function(t){if(!t)throw new C("internal-error");return t.accessToken!=e.za&&(wl(e,t.accessToken),e.dispatchEvent(new nl("tokenChanged"))),kl(e,"refreshToken",t.refreshToken),t.accessToken}))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new C("internal-error");Sl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?G(t,function(t){return new hl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)Al(this,e[n]);kl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new nl("userReloaded",{hd:t}))},t.Lc=function(t){return Gr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},t.tb=function(t){var e=this,n=null;return Ul(this,t.c(this.a,this.uid).then(function(t){return Dl(e,t),n=Rl(e,t,"reauthenticate"),e.h=null,e.reload()}).then(function(){return n}),!0)},t.Cc=function(t){return Gr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},t.qb=function(t){var e=this,n=null;return Ul(this,Pl(this,t.providerId).then(function(){return e.I()}).then(function(n){return t.b(e.a,n)}).then(function(t){return n=Rl(e,t,"link"),Ml(e,t)}).then(function(){return n}))},t.Dc=function(t,e){var n=this;return Ul(this,Pl(this,"phone").then(function(){return Kc(vl(n),t,e,w(n.qb,n))}))},t.Mc=function(t,e){var n=this;return Ul(this,Ce().then(function(){return Kc(vl(n),t,e,w(n.tb,n))}),!0)},t.Bb=function(t){var e=this;return Ul(this,this.I().then(function(n){return e.a.Bb(n,t)}).then(function(t){return Dl(e,t),e.reload()}))},t.ed=function(t){var e=this;return Ul(this,this.I().then(function(n){return t.b(e.a,n)}).then(function(t){return Dl(e,t),e.reload()}))},t.Cb=function(t){var e=this;return Ul(this,this.I().then(function(n){return e.a.Cb(n,t)}).then(function(t){return Dl(e,t),e.reload()}))},t.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Cl(this);var e=this;return Ul(this,this.I().then(function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Dl(e,t),kl(e,"displayName",t.displayName||null),kl(e,"photoURL",t.photoUrl||null),H(e.providerData,function(t){"password"===t.providerId&&(Wr(t,"displayName",e.displayName),Wr(t,"photoURL",e.photoURL))}),_l(e)}).then(El))},t.cd=function(t){var e=this;return Ul(this,Nl(this).then(function(n){return W(Tl(e),t)?function(t,e,n){return Xa(t,Sa,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then(function(t){var n={};return H(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),H(Tl(e),function(t){n[t]||xl(e,t)}),n[Po.PROVIDER_ID]||Wr(e,"phoneNumber",null),_l(e)}):_l(e).then(function(){throw new C("no-such-provider")})}))},t.delete=function(){var t=this;return Ul(this,this.I().then(function(e){return Xa(t.a,Ia,{idToken:e})}).then(function(){t.dispatchEvent(new nl("userDeleted"))})).then(function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");dl(t,null),pl(t,null),ml(t,null),t.J=[],t.D=!0,bl(t),Wr(t,"refreshToken",null),t.i&&xc(t.i,t)})},t.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?w(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?w(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?w(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?w(this.Lb,this):null},t.Ec=function(t){var e=this;return Ll(this,"linkViaPopup",t,function(){return Pl(e,t.providerId).then(function(){return _l(e)})},!1)},t.Nc=function(t){return Ll(this,"reauthViaPopup",t,function(){return Ce()},!0)},t.Fc=function(t){var e=this;return Fl(this,"linkViaRedirect",t,function(){return Pl(e,t.providerId)},!1)},t.Oc=function(t){return Fl(this,"reauthViaRedirect",t,function(){return Ce()},!0)},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Ul(this,this.I().then(function(n){return ga(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})}).then(function(t){return o=Rl(i,t,"link"),Ml(i,t)}).then(function(){return o}))},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Ul(this,Ce().then(function(){return so(ma(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)}).then(function(t){return o=Rl(i,t,"reauthenticate"),Dl(i,t),i.h=null,i.reload()}).then(function(){return o}),!0)},t.ub=function(t){var e=this,n=null;return Ul(this,this.I().then(function(e){return n=e,void 0===t||dt(t)?{}:Fi(new Ai(t))}).then(function(t){return e.a.ub(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.Eb=function(t,e){var n=this,r=null;return Ul(this,this.I().then(function(t){return r=t,void 0===e||dt(e)?{}:Fi(new Ai(e))}).then(function(e){return n.a.Eb(r,t,e)}).then(function(t){if(n.email!=t)return n.reload()}).then(function(){}))},t.jc=function(t){var e=null,n=this;return Ul(this,t=so(Ce(t),n.uid).then(function(t){return e=Rl(n,t,"reauthenticate"),Dl(n,t),n.h=null,n.reload()}).then(function(){return e}),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&mt(t,this.metadata.w()),H(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),mt(t,this.O.w()),t};var Bl={name:"redirectUser",F:"session"};function Hl(t){return Zu(t.b,Bl,t.a)}function zl(t){this.a=t,this.b=Qu(),this.c=null,this.f=function(t){var e=Wl("local"),n=Wl("session"),r=Wl("none");return function(t,e,n){var r=Xu(e,n),i=Yu(t,e.F);return t.get(e,n).then(function(o){var a=null;try{a=Mr(s.localStorage.getItem(r))}catch(Hf){}if(a&&!o)return s.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)})}(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(Kl,t.a).then(function(t){return t?Wl(t):e})})})}).then(function(e){return t.c=e,Gl(t,e.F)}).o(function(){t.c||(t.c=e)})}(this),this.b.addListener(Wl("local"),this.a,w(this.g,this))}function Gl(t,e){var n,r=[];for(n in Wu)Wu[n]!==e&&r.push(Zu(t.b,Wl(Wu[n]),t.a));return r.push(Zu(t.b,Kl,t.a)),function(t){return new ye(function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)Ae(t[a],_(o,a),s);else e(i)})}(r)}zl.prototype.g=function(){var t=this,e=Wl("local");Xl(this,function(){return Ce().then(function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null}).then(function(n){if(n)return Gl(t,"local").then(function(){t.c=e})})})};var Kl={name:"persistence",F:"session"};function Wl(t){return{name:"authUser",F:t}}function $l(t,e){return Xl(t,function(){return t.b.set(t.c,e.w(),t.a)})}function Ql(t){return Xl(t,function(){return Zu(t.b,t.c,t.a)})}function Yl(t,e,n){return Xl(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),jl(t||{})})})}function Xl(t,e){return t.f=t.f.then(e,e),t.f}function Zl(t){if(this.l=!1,Wr(this,"settings",new zc),Wr(this,"app",t),!sh(this).options||!sh(this).options.apiKey)throw new C("invalid-api-key");t=jf.SDK_VERSION?Cr(jf.SDK_VERSION):null,this.a=new Gs(sh(this).options&&sh(this).options.apiKey,N(A),t),this.R=[],this.s=[],this.O=[],this.hb=jf.INTERNAL.createSubscribe(w(this.zc,this)),this.X=void 0,this.bc=jf.INTERNAL.createSubscribe(w(this.Ac,this)),ih(this,null),this.i=new zl(sh(this).options.apiKey+":"+sh(this).name),this.D=new ql(sh(this).options.apiKey+":"+sh(this).name),this.$=lh(this,function(t){var e=sh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Bl,t.a).then(function(t){return t&&e&&(t.authDomain=e),jl(t||{})})}(t.D,sh(t).options.authDomain).then(function(e){return(t.m=e)&&(e.ha=t.D),Hl(t.D)});return lh(t,e)}(t).then(function(){return Yl(t.i,e,t.P)}).then(function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then(function(){return $l(t.i,e).then(function(){return e})}).o(function(n){return"auth/network-request-failed"==n.code?e:Ql(t.i)})):null}).then(function(e){ih(t,e||null)});return lh(t,n)}(this)),this.h=lh(this,function(t){return t.$.then(function(){return rh(t)}).o(function(){}).then(function(){if(!t.l)return t.ja()}).o(function(){}).then(function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(Wl("local"),e.a,t.ja)}})}(this)),this.ba=!1,this.ja=w(this.Zc,this),this.Ba=w(this.da,this),this.ya=w(this.mc,this),this.za=w(this.wc,this),this.Aa=w(this.xc,this),this.b=null,function(t){var e=sh(t).options.authDomain,n=sh(t).options.apiKey;e&&kr()&&(t.Oa=t.$.then(function(){if(!t.l){if(t.b=Fc(e,n,sh(t).name,t.P),Ac(t.b,t),ah(t)&&Il(ah(t)),t.m){Il(t.m);var r=t.m;r.wa(t.la()),dl(r,t),gl(r=t.m,t.J),ml(r,t),Js((r=t.m).a,t.P),pl(r,t),t.m=null}return t.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Gc,this),this.u=0,bn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.P){var t=Fn(this.P.url);t=Qr({protocol:t.c,host:t.a,port:t.g,options:Qr({disableWarnings:this.P.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.P=null}function Jl(t){$e.call(this,"languageCodeChanged"),this.h=t}function th(t){$e.call(this,"emulatorConfigChanged"),this.c=t}function eh(t){$e.call(this,"frameworkChanged"),this.f=t}function nh(t){return t.Oa||Te(new C("auth-domain-config-required"))}function rh(t){if(!kr())return Te(new C("operation-not-supported-in-this-environment"));var e=nh(t).then(function(){return t.b.qa()}).then(function(t){return t?Qr(t):null});return lh(t,e)}function ih(t,e){ah(t)&&(function(t,e){Q(t.S,function(t){return t==e})}(ah(t),t.Ba),ln(ah(t),"tokenChanged",t.ya),ln(ah(t),"userDeleted",t.za),ln(ah(t),"userInvalidated",t.Aa),bl(ah(t))),e&&(e.S.push(t.Ba),an(e,"tokenChanged",t.ya),an(e,"userDeleted",t.za),an(e,"userInvalidated",t.Aa),0<t.u&&yl(e)),Wr(t,"currentUser",e),e&&(e.wa(t.la()),dl(e,t),gl(e,t.J),ml(e,t),Js(e.a,t.P),pl(e,t))}function oh(t,e){var n=null,r=null;return lh(t,e.then(function(e){return n=Mo(e),r=Ki(e),function(t,e){var n={};return n.apiKey=sh(t).options.apiKey,n.authDomain=sh(t).options.authDomain,n.appName=sh(t).name,t.P&&(n.emulatorConfig=t.P),t.$.then(function(){return function(t,e,n,r){var i=new fl(t,e);return n&&(i.ha=n),r&&gl(i,r),i.reload().then(function(){return i})}(n,e,t.D,t.Ga())}).then(function(e){return ah(t)&&e.uid==ah(t).uid?(Ol(ah(t),e),t.da(e)):(ih(t,e),Il(e),t.da(e))}).then(function(){ch(t)})}(t,e)},function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Zc(e.w(),t,w(t.kc,t))),n||e}).then(function(){return Qr({user:ah(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function sh(t){return t.app}function ah(t){return t.currentUser}function uh(t){return ah(t)&&ah(t)._lat||null}function ch(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](uh(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](uh(t))}}function lh(t,e){return t.R.push(e),e.oa(function(){$(t.R,e)}),e}function hh(){}function fh(){this.a={},this.b=1e12}zl.prototype.xb=function(t){var e=null,n=this;return function(t){var e=new C("invalid-persistence-type"),n=new C("unsupported-persistence-type");t:{for(r in Wu)if(Wu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(wr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Tu()&&"none"!==t)throw n;break;default:if(!xr()&&"none"!==t)throw n}}(t),Xl(this,function(){return t!=n.c.F?n.b.get(n.c,n.a).then(function(r){return e=r,Gl(n,t)}).then(function(){if(n.c=Wl(t),e)return n.b.set(n.c,e,n.a)}):Ce()})},S(Zl,bn),S(Jl,$e),S(th,$e),S(eh,$e),(t=Zl.prototype).xb=function(t){return lh(this,t=this.i.xb(t))},t.wa=function(t){this.aa===t||this.l||(this.aa=t,Zs(this.a,this.aa),this.dispatchEvent(new Jl(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=s.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new C("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!t&&mr().then(function(){var t=s.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),s.document.body.appendChild(t)})})(e=!!e&&!!e.disableWarnings),this.P={url:t,ec:e},this.settings.ib=!0,Js(this.a,this.P),this.dispatchEvent(new th(this.P))}},t.Gc=function(t){this.J.push(t),ea(this.a,jf.SDK_VERSION?Cr(jf.SDK_VERSION,this.J):null),this.dispatchEvent(new eh(this.J))},t.Ga=function(){return X(this.J)},t.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:sh(this).options.apiKey,authDomain:sh(this).options.authDomain,appName:sh(this).name,currentUser:ah(this)&&ah(this).w()}},t.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?w(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then(function(){return oh(i,pa(i.a,o))})},t.Xc=function(t){if(!kr())return Te(new C("operation-not-supported-in-this-environment"));var e=this,n=Gi(t.providerId),r=Lr(),i=null;(!Dr()||yr())&&sh(this).options.authDomain&&t.isOAuthProvider&&(i=fu(sh(this).options.authDomain,sh(this).options.apiKey,sh(this).name,"signInViaPopup",t,null,r,jf.SDK_VERSION||null,null,null,this.T(),this.P));var o=dr(i,n&&n.ua,n&&n.ta);return lh(this,n=nh(this).then(function(n){return Nc(n,o,"signInViaPopup",t,r,!!i,e.T())}).then(function(){return new ye(function(t,n){e.na("signInViaPopup",null,new C("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=r,e.c=Rc(e.b,e,"signInViaPopup",o,r)})}).then(function(t){return o&&fr(o),t?Qr(t):null}).o(function(t){throw o&&fr(o),t}))},t.Yc=function(t){if(!kr())return Te(new C("operation-not-supported-in-this-environment"));var e=this;return lh(this,nh(this).then(function(){return function(t){return Xl(t,function(){return t.b.set(Kl,t.c.F,t.a)})}(e.i)}).then(function(){return Pc(e.b,"signInViaRedirect",t,void 0,e.T())}))},t.qa=function(){var t=this;return rh(this).then(function(e){return t.b&&jc(t.b.b),e}).o(function(e){throw t.b&&jc(t.b.b),e})},t.dd=function(t){if(!t)return Te(new C("null-user"));if(this.S!=t.tenantId)return Te(new C("tenant-id-mismatch"));var e=this,n={};n.apiKey=sh(this).options.apiKey,n.authDomain=sh(this).options.authDomain,n.appName=sh(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Ws]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new fl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&gl(e,r),Ol(e,t),e}(t,n,e.D,e.Ga());return lh(this,this.h.then(function(){if(sh(e).options.apiKey!=t.l)return r.reload()}).then(function(){return ah(e)&&t.uid==ah(e).uid?(Ol(ah(e),t),e.da(t)):(ih(e,r),Il(r),e.da(r))}).then(function(){ch(e)}))},t.Ab=function(){var t=this;return lh(this,this.h.then(function(){return t.b&&jc(t.b.b),ah(t)?(ih(t,null),Ql(t.i).then(function(){ch(t)})):Ce()}))},t.Zc=function(){var t=this;return Yl(this.i,sh(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=ah(t)&&e){n=ah(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Ol(ah(t),e),ah(t).I();(ah(t)||e)&&(ih(t,e),e&&(Il(e),e.ha=t.D),t.b&&Ac(t.b,t),ch(t))}})},t.da=function(t){return $l(this.i,t)},t.mc=function(){ch(this),this.da(ah(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()},t.kc=function(t){var e=this;return this.h.then(function(){return oh(e,Ce(t))})},t.zc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(ah(e))})},t.Ac=function(t){var e=this;!function(t,e){t.O.push(e),lh(t,t.h.then(function(){!t.l&&W(t.O,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(uh(t)))}))}(this,function(){t.next(ah(e))})},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof t?t(ah(r)):"function"==typeof t.next&&t.next(ah(r))}),this.hb(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){r.X=r.getUid(),"function"==typeof t?t(ah(r)):"function"==typeof t.next&&t.next(ah(r))}),this.bc(t,e,n)},t.nc=function(t){var e=this;return lh(this,this.h.then(function(){return ah(e)?ah(e).I(t).then(function(t){return{accessToken:t}}):null}))},t.Tc=function(t){var e=this;return this.h.then(function(){return oh(e,Xa(e.a,Ga,{token:t}))}).then(function(t){var n=t.user;return kl(n,"isAnonymous",!1),e.da(n),t})},t.Uc=function(t,e){var n=this;return this.h.then(function(){return oh(n,Xa(n.a,Ka,{email:t,password:e}))})},t.dc=function(t,e){var n=this;return this.h.then(function(){return oh(n,Xa(n.a,wa,{email:t,password:e}))})},t.$a=function(t){var e=this;return this.h.then(function(){return oh(e,t.ka(e.a))})},t.Sc=function(t){return Gr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},t.zb=function(){var t=this;return this.h.then(function(){var e=ah(t);if(e&&e.isAnonymous){var n=Qr({providerId:null,isNewUser:!1});return Qr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return oh(t,t.a.zb()).then(function(e){var n=e.user;return kl(n,"isAnonymous",!0),t.da(n),e})})},t.getUid=function(){return ah(this)&&ah(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&ah(this)&&yl(ah(this))},t.Pc=function(t){var e=this;H(this.s,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&ah(this)&&bl(ah(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),lh(this,this.h.then(function(){e.l||W(e.s,t)&&t(uh(e))}))},t.removeAuthTokenListener=function(t){Q(this.s,function(e){return e==t})},t.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(Wl("local"),t.a,this.ja),this.b&&(xc(this.b,this),jc(this.b.b)),Promise.resolve()},t.hc=function(t){return lh(this,function(t,e){return Xa(t,_a,{identifier:e,continueUri:Or()?ur():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.a,t))},t.Bc=function(t){return!!ko(t)},t.wb=function(t,e){var n=this;return lh(this,Ce().then(function(){var t=new Ai(e);if(!t.c)throw new C("argument-error",Oi+" must be true when sending sign in link to email");return Fi(t)}).then(function(e){return n.a.wb(t,e)}).then(function(){}))},t.jd=function(t){return this.Ra(t).then(function(t){return t.data.email})},t.nb=function(t,e){return lh(this,this.a.nb(t,e).then(function(){}))},t.Ra=function(t){return lh(this,this.a.Ra(t).then(function(t){return new ii(t)}))},t.jb=function(t){return lh(this,this.a.jb(t).then(function(){}))},t.vb=function(t,e){var n=this;return lh(this,Ce().then(function(){return void 0===e||dt(e)?{}:Fi(new Ai(e))}).then(function(e){return n.a.vb(t,e)}).then(function(){}))},t.Wc=function(t,e){return lh(this,Kc(this,t,e,w(this.$a,this)))},t.Vc=function(t,e){var n=this;return lh(this,Ce().then(function(){var r=e||ur(),i=xo(t,r);if(!(r=ko(r)))throw new C("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new C("tenant-id-mismatch");return n.$a(i)}))},hh.prototype.render=function(){},hh.prototype.reset=function(){},hh.prototype.getResponse=function(){},hh.prototype.execute=function(){};var dh=null;function ph(t,e){return(e=gh(e))&&t.a[e]||null}function gh(t){return(t=void 0===t?1e12:t)?t.toString():null}function mh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=se(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():an(this.f,"click",this.i)}function vh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function yh(){}function bh(){}fh.prototype.render=function(t,e){return this.a[this.b.toString()]=new mh(t,e),this.b++},fh.prototype.reset=function(t){var e=ph(this,t);t=gh(t),e&&t&&(e.delete(),delete this.a[t])},fh.prototype.getResponse=function(t){return(t=ph(this,t))?t.getResponse():null},fh.prototype.execute=function(t){(t=ph(this,t))&&t.execute()},mh.prototype.getResponse=function(){return vh(this),this.b},mh.prototype.execute=function(){vh(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()},6e4)},500))},mh.prototype.delete=function(){vh(this),this.g=!0,clearTimeout(this.a),this.a=null,ln(this.f,"click",this.i)},Wr(yh,"FACTOR_ID","phone"),bh.prototype.g=function(){return dh||(dh=new fh),Ce(dh)},bh.prototype.c=function(){};var wh=null;function _h(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Ih=new yt(It,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Sh=new Ur(3e4,6e4);_h.prototype.g=function(t){var e=this;return new ye(function(n,r){var i=setTimeout(function(){r(new C("network-request-failed"))},Sh.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new C("internal-error"));delete s[e.a]},Ce(Vs(Tt(Ih,{onload:e.a,hl:t||""}))).o(function(){clearTimeout(i),r(new C("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),n(s.grecaptcha))})},_h.prototype.c=function(){this.b--};var Eh=null;function Ch(t,e,n,r,i,o,a){if(Wr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,a?(wh||(wh=new bh),a=wh):(Eh||(Eh=new _h),a=Eh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[xh])throw new C("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[kh],!s.document)throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!se(e)||!this.i&&se(e).hasChildNodes())throw new C("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Gs(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Th];this.a[Th]=function(t){if(Oh(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Ar(c,s);"function"==typeof e&&e(t)}};var l=this.a[Ah];this.a[Ah]=function(){if(Oh(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=Ar(l,s);"function"==typeof t&&t()}}}var Th="callback",Ah="expired-callback",xh="sitekey",kh="size";function Oh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Nh(t,e){return t.h.push(e),e.oa(function(){$(t.h,e)}),e}function Dh(t){if(t.D)throw new C("internal-error","RecaptchaVerifier instance has been destroyed.")}function Ph(t,e,n){var r=!1;try{this.b=n||jf.app()}catch(s){throw new C("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new C("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(s){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}o=jf.SDK_VERSION?Cr(jf.SDK_VERSION,o):null,Ch.call(this,n,t,e,function(){try{var t=i.b.auth().la()}catch(Hf){t=null}return t},o,N(A),r)}function Rh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new C("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Mh.length)throw new C("internal-error","Argument validator received an unsupported number of arguments.");n=Mh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new C("argument-error",t+" failed: "+r)}(t=Ch.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Nh(this,Ce().then(function(){if(Or()&&!br())return mr();throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.m.g(t.u())}).then(function(e){return t.g=e,Xa(t.s,Ra,{})}).then(function(e){t.a[xh]=e.recaptchaSiteKey}).o(function(e){throw t.f=null,e}))},t.render=function(){Dh(this);var t=this;return Nh(this,this.Ia().then(function(){if(null===t.c){var e=t.v;if(!t.i){var n=se(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!oe&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Ht(s.name),'"'),s.type){o.push(' type="',Ht(s.type),'"');var a={};mt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=fe(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ae(o,s)),2<r.length&&he(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){Dh(this);var t=this;return Nh(this,this.render().then(function(e){return new ye(function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){Q(t.l,function(t){return t==e})}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}})}))},t.reset=function(){Dh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Dh(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=se(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},S(Ph,Ch);var Mh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Lh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Fh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Vh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:p}}function Uh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function jh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function qh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.ka||t&&e.providerId!==t)}}}function Bh(t,e){return p(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Hh(t){return p(t)&&"string"==typeof t.uid}function zh(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Gh(t,e){for(var n in e){var r=e[n].name;t[r]=$h(r,t[n],e[n].j)}}function Kh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:_(function(t){return this[t]},n),set:_(function(t,e,n,r){Rh(t,[n],[r],!0),this[e]=r},r,n,e[n].kb),enumerable:!0})}}function Wh(t,e,n,r){t[e]=$h(e,n,r)}function $h(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Rh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Gh(Zl.prototype,{jb:{name:"applyActionCode",j:[Lh("code")]},Ra:{name:"checkActionCode",j:[Lh("code")]},nb:{name:"confirmPasswordReset",j:[Lh("code"),Lh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Lh("email"),Lh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Lh("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Lh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[zh(Vh(),Uh(),"nextOrObserver"),Uh("opt_error",!0),Uh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[zh(Vh(),Uh(),"nextOrObserver"),Uh("opt_error",!0),Uh("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Lh("email"),zh(Vh("opt_actionCodeSettings",!0),jh(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Lh("email"),Vh("actionCodeSettings")]},xb:{name:"setPersistence",j:[Lh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[qh()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[qh()]},Tc:{name:"signInWithCustomToken",j:[Lh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Lh("email"),Lh("password")]},Vc:{name:"signInWithEmailLink",j:[Lh("email"),Lh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Lh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[zh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof fl)}},jh(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Lh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Lh("url"),Vh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Lh("code")]}}),Kh(Zl.prototype,{lc:{name:"languageCode",kb:zh(Lh(),jh(),"languageCode")},ti:{name:"tenantId",kb:zh(Lh(),jh(),"tenantId")}}),(Zl.Persistence=Wu).LOCAL="local",Zl.Persistence.SESSION="session",Zl.Persistence.NONE="none",Gh(fl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Fh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Fh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[qh()]},qb:{name:"linkWithCredential",j:[qh()]},Dc:{name:"linkWithPhoneNumber",j:[Lh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[qh()]},tb:{name:"reauthenticateWithCredential",j:[qh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Lh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[zh(Vh("opt_actionCodeSettings",!0),jh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Lh(null,!0)]},cd:{name:"unlink",j:[Lh("provider")]},Bb:{name:"updateEmail",j:[Lh("email")]},Cb:{name:"updatePassword",j:[Lh("password")]},ed:{name:"updatePhoneNumber",j:[qh("phone")]},Db:{name:"updateProfile",j:[Vh("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Lh("email"),zh(Vh("opt_actionCodeSettings",!0),jh(null,!0),"opt_actionCodeSettings",!0)]}}),Gh(fh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Gh(hh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Gh(ye.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Kh(zc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Fh("appVerificationDisabledForTesting")}}),Gh(Gc.prototype,{confirm:{name:"confirm",j:[Lh("verificationCode")]}}),Wh(oo,"fromJSON",function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[fo,To,No,co],r=0;r<n.length;r++)if(e=n[r](t))return e;return null},[zh(Lh(),Vh(),"json")]),Wh(Ao,"credential",function(t,e){return new Co(t,e)},[Lh("email"),Lh("password")]),Gh(Co.prototype,{w:{name:"toJSON",j:[Lh(null,!0)]}}),Gh(vo.prototype,{Ca:{name:"addScope",j:[Lh("scope")]},Ka:{name:"setCustomParameters",j:[Vh("customOAuthParameters")]}}),Wh(vo,"credential",yo,[zh(Lh(),Vh(),"token")]),Wh(Ao,"credentialWithLink",xo,[Lh("email"),Lh("emailLink")]),Gh(bo.prototype,{Ca:{name:"addScope",j:[Lh("scope")]},Ka:{name:"setCustomParameters",j:[Vh("customOAuthParameters")]}}),Wh(bo,"credential",wo,[zh(Lh(),Vh(),"token")]),Gh(_o.prototype,{Ca:{name:"addScope",j:[Lh("scope")]},Ka:{name:"setCustomParameters",j:[Vh("customOAuthParameters")]}}),Wh(_o,"credential",Io,[zh(Lh(),zh(Vh(),jh()),"idToken"),zh(Lh(),jh(),"accessToken",!0)]),Gh(So.prototype,{Ka:{name:"setCustomParameters",j:[Vh("customOAuthParameters")]}}),Wh(So,"credential",Eo,[zh(Lh(),Vh(),"token"),Lh("secret",!0)]),Gh(mo.prototype,{Ca:{name:"addScope",j:[Lh("scope")]},credential:{name:"credential",j:[zh(Lh(),zh(Vh(),jh()),"optionsOrIdToken"),zh(Lh(),jh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Vh("customOAuthParameters")]}}),Gh(lo.prototype,{w:{name:"toJSON",j:[Lh(null,!0)]}}),Gh(ao.prototype,{w:{name:"toJSON",j:[Lh(null,!0)]}}),Wh(Po,"credential",Ro,[Lh("verificationId"),Lh("verificationCode")]),Gh(Po.prototype,{fb:{name:"verifyPhoneNumber",j:[zh(Lh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Bh(t.session,ro)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Bh(t.session,io)&&Hh(t.multiFactorHint):t.session&&t.multiFactorUid?Bh(t.session,io)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Gh(Oo.prototype,{w:{name:"toJSON",j:[Lh(null,!0)]}}),Gh(C.prototype,{toJSON:{name:"toJSON",j:[Lh(null,!0)]}}),Gh(Ho.prototype,{toJSON:{name:"toJSON",j:[Lh(null,!0)]}}),Gh(Bo.prototype,{toJSON:{name:"toJSON",j:[Lh(null,!0)]}}),Gh(Xc.prototype,{toJSON:{name:"toJSON",j:[Lh(null,!0)]}}),Gh($c.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}]}}),Gh(rl.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}},Lh("displayName",!0)]},bd:{name:"unenroll",j:[zh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Hh},Lh(),"multiFactorInfoIdentifier")]}}),Gh(Ph.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Wh(yi,"parseLink",Ti,[Lh("link")]),Wh(yh,"assertion",function(t){return new el(t)},[qh("phone")]),function(){if(void 0===jf||!jf.INTERNAL||!jf.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:si,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:oi,VERIFY_AND_CHANGE_EMAIL:ai,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Zl,AuthCredential:oo,Error:C};Wh(t,"EmailAuthProvider",Ao,[]),Wh(t,"FacebookAuthProvider",vo,[]),Wh(t,"GithubAuthProvider",bo,[]),Wh(t,"GoogleAuthProvider",_o,[]),Wh(t,"TwitterAuthProvider",So,[]),Wh(t,"OAuthProvider",mo,[Lh("providerId")]),Wh(t,"SAMLAuthProvider",go,[Lh("providerId")]),Wh(t,"PhoneAuthProvider",Po,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof Zl)}}]),Wh(t,"RecaptchaVerifier",Ph,[zh(Lh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Vh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof jf.app.App)}}]),Wh(t,"ActionCodeURL",yi,[]),Wh(t,"PhoneMultiFactorGenerator",yh,[]),jf.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Zl(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),jf.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:w((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:w(t.nc,t),addAuthTokenListener:w(t.cc,t),removeAuthTokenListener:w(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),jf.registerVersion("@firebase/auth","0.16.6"),jf.INTERNAL.extendNamespace({User:fl})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});let rN=(()=>{class t{constructor(t,e){this.fb=t,this.authService=e,this.user={},this.message="",this.errormessage="",this.classCreated=new La,this.myForm=this.fb.group({className:["",[$l.required]],subject:["",[$l.required]]}),this.getProfile()}getProfile(){let t=jf.auth().currentUser.uid;jf.firestore().collection("users").doc(t).get().then(t=>{this.user=t.data(),this.user.displayName=this.user.firstName+" "+this.user.lastName,this.user.id=t.id}).catch(t=>{console.log(t)})}ngOnInit(){}createClass(t){let e=t.value.className,n=t.value.subject;this.cCode=Math.random().toString(36).substr(2,5),jf.firestore().collection("classes").add({name:this.user.displayName,email:this.user.email,cCode:this.cCode,subject:n,className:e,status:"allow",type:"teacher",owner:jf.auth().currentUser.uid}).then(t=>{console.log(t),this.classCreated.emit(),this.message="Class Created Successfully"}).catch(t=>{console.log(t),this.errormessage="Try Again"})}}return t.\u0275fac=function(e){return new(e||t)(ko(Gh),ko(BO))},t.\u0275cmp=qt({type:t,selectors:[["app-create"]],outputs:{classCreated:"classCreated"},decls:10,vars:6,consts:[[1,"mb-2","mt-2",2,"text-align","center"],[3,"formGroup","ngSubmit"],["type","text","placeholder","Class Name",1,"form-control","mt-1","form_input",3,"formControl"],["type","text","placeholder","Subject",1,"form-control","mt-1","form_input",3,"formControl"],["type","submit",1,"btn","btn-dark","btn-block","mt-2","submit_btn",3,"disabled"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-success"],[1,"alert","alert-danger"]],template:function(t,e){1&t&&(Do(0,"div"),Do(1,"h5",0),as(2,"Create Class"),Po(),Do(3,"form",1),Vo("ngSubmit",function(){return e.createClass(e.myForm)}),Ro(4,"input",2),Ro(5,"input",3),Do(6,"button",4),as(7," Create Class "),Po(),Po(),xo(8,eN,2,1,"div",5),xo(9,nN,2,1,"div",6),Po()),2&t&&(ei(3),Oo("formGroup",e.myForm),ei(1),Oo("formControl",e.myForm.controls.className),ei(1),Oo("formControl",e.myForm.controls.subject),ei(1),Oo("disabled",!e.myForm.valid),ei(2),Oo("ngIf",e.message.length>0),ei(1),Oo("ngIf",e.errormessage.length>0))},directives:[Mh,dh,qh,Bl,fh,Uh,Zc],styles:[".card-title[_ngcontent-%COMP%]{margin-bottom:20px}.form_input[_ngcontent-%COMP%]{padding:25px;font-size:18px}.form_input[_ngcontent-%COMP%]:focus{color:#000;background-color:#f8f8f8}.submit_btn[_ngcontent-%COMP%]{padding:10px;font-size:20px}div[_ngcontent-%COMP%]{font-family:poppins,sans-serif}@media only screen and (max-width:768px){.form_input[_ngcontent-%COMP%]{padding:10px;font-size:14px}.submit_btn[_ngcontent-%COMP%]{padding:10px;font-size:18px}}"]}),t})();function iN(t,e){if(1&t&&(Do(0,"div",8),as(1),Po()),2&t){const t=qo();ei(1),cs(" ",t.message," ")}}function oN(t,e){if(1&t&&(Do(0,"div",9),as(1),Po()),2&t){const t=qo();ei(1),cs(" ",t.errormessage," ")}}let sN=(()=>{class t{constructor(t,e){this.fb=t,this.authService=e,this.user={},this.joined={},this.message="",this.errormessage="",this.classData={},this.studentCreated=new La,this.myForm=this.fb.group({className:["",[$l.required]],subject:["",[$l.required]],cCode:["",[$l.required]]}),this.getProfile()}getProfile(){let t=jf.auth().currentUser.uid;jf.firestore().collection("users").doc(t).get().then(t=>{this.user=t.data(),this.user.displayName=this.user.firstName+" "+this.user.lastName,this.user.id=t.id}).catch(t=>{console.log(t),this.errormessage=t})}ngOnInit(){}createStudent(t){let e=t.value.className,n=t.value.cCode,r=t.value.subject,i=jf.firestore().collection("classes");i.where("cCode","==",n).get().then(t=>{t.empty?this.errormessage="Class Code Invalid Try Again":i.where("cCode","==",n).where("owner","==",jf.auth().currentUser.uid).get().then(t=>{t.empty?jf.firestore().collection("classes").add({name:this.user.displayName,email:this.user.email,cCode:n,subject:r,className:e,status:"restrict",type:"student",owner:jf.auth().currentUser.uid}).then(t=>{console.log(t),this.studentCreated.emit(),this.message="Join Request send Successfully"}).catch(t=>{console.log(t),this.errormessage="Try Again"}):this.errormessage="Already in the Class"})})}}return t.\u0275fac=function(e){return new(e||t)(ko(Gh),ko(BO))},t.\u0275cmp=qt({type:t,selectors:[["app-join"]],outputs:{studentCreated:"studentCreated"},decls:11,vars:7,consts:[[1,"mb-2","mt-2",2,"text-align","center"],[3,"formGroup","ngSubmit"],["type","text","placeholder","Class Code",1,"form-control","mt-1","form_input",3,"formControl"],["type","text","placeholder","Teacher Name",1,"form-control","mt-1","form_input",3,"formControl"],["type","text","placeholder","Subject",1,"form-control","mt-1","form_input",3,"formControl"],["type","submit",1,"btn","btn-success","btn-block","mt-2","submit_btn",3,"disabled"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-success"],[1,"alert","alert-danger"]],template:function(t,e){1&t&&(Do(0,"div"),Do(1,"h5",0),as(2,"Join Class"),Po(),Do(3,"form",1),Vo("ngSubmit",function(){return e.createStudent(e.myForm)}),Ro(4,"input",2),Ro(5,"input",3),Ro(6,"input",4),Do(7,"button",5),as(8," Join Class "),Po(),Po(),xo(9,iN,2,1,"div",6),xo(10,oN,2,1,"div",7),Po()),2&t&&(ei(3),Oo("formGroup",e.myForm),ei(1),Oo("formControl",e.myForm.controls.cCode),ei(1),Oo("formControl",e.myForm.controls.className),ei(1),Oo("formControl",e.myForm.controls.subject),ei(1),Oo("disabled",!e.myForm.valid),ei(2),Oo("ngIf",e.message.length>0),ei(1),Oo("ngIf",e.errormessage.length>0))},directives:[Mh,dh,qh,Bl,fh,Uh,Zc],styles:[".card-title[_ngcontent-%COMP%]{margin-bottom:20px}.form_input[_ngcontent-%COMP%]{padding:25px;font-size:18px}.form_input[_ngcontent-%COMP%]:focus{color:#000;background-color:#f8f8f8}.submit_btn[_ngcontent-%COMP%]{padding:10px;font-size:20px}div[_ngcontent-%COMP%]{font-family:poppins,sans-serif}@media only screen and (max-width:768px){.form_input[_ngcontent-%COMP%]{padding:10px;font-size:14px}.submit_btn[_ngcontent-%COMP%]{padding:10px;font-size:18px}}"]}),t})();function aN(t,e){if(1&t&&(Do(0,"div",1),Do(1,"div",2),Do(2,"div",3),Ro(3,"img",4),Do(4,"button",5),as(5," Edit "),Po(),Po(),Do(6,"div",6),Do(7,"h4"),as(8),Po(),Do(9,"h5"),as(10),Po(),Ro(11,"br"),Do(12,"p"),Do(13,"a",7),as(14,"Go To Classroom "),Ro(15,"i",8),Po(),Po(),Ro(16,"div",9),Po(),Po(),Po()),2&t){const t=qo();ei(4),Ho("routerLink","/edit/",t.studentData.cCode,""),ei(4),us(t.studentData.subject),ei(2),us(t.studentData.className),ei(3),Ho("routerLink","/teacher/",t.studentData.cCode,"")}}let uN=(()=>{class t{constructor(){this.studentData={},this.user={}}ngOnInit(){this.studentData=this.class.data(),this.user=jf.auth().currentUser}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=qt({type:t,selectors:[["app-joinclass"]],inputs:{class:"class"},decls:1,vars:1,consts:[["class","container-fluid class_card mt-4",4,"ngIf"],[1,"container-fluid","class_card","mt-4"],[1,"row"],[1,"col-5","left_card"],["src","/assets/class_icon.jpg",1,"class_img"],[1,"btn","btn-primary","mt-3","btn-block",3,"routerLink"],[1,"col-7","right_card","align-items-center"],[1,"card-link",3,"routerLink"],[1,"fas","fa-angle-double-right"],[1,"d-flex","justify-content-center","align-item-center"]],template:function(t,e){1&t&&xo(0,aN,17,4,"div",0),2&t&&Oo("ngIf",e.user&&e.user.uid==e.studentData.owner&&"allow"==e.studentData.status)},directives:[Zc,bO,wO],styles:["div[_ngcontent-%COMP%]{font-family:poppins,sans-serif}.class_card[_ngcontent-%COMP%]{background-color:#f8f8f8;box-shadow:2px 2px 5px grey,-2px -2px 5px #d3d3d3;border-radius:10px;padding:10px}.left_card[_ngcontent-%COMP%]{text-align:center;border:solid #789;border-width:0 1px 0 0}.class_img[_ngcontent-%COMP%]{width:100px;height:100px;filter:hue-rotate(180deg)}.right_card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px;color:#5959ff;text-align:center}.card-link[_ngcontent-%COMP%]:hover{letter-spacing:1px;transition:letter-spacing .5s}.right_card[_ngcontent-%COMP%]{padding:20px}.right_card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:16px;color:#ff8a8a}@media only screen and (max-width:800px){.class_img[_ngcontent-%COMP%]{width:80px;height:80px}.right_card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:15px}.right_card[_ngcontent-%COMP%]{padding:12px}.card-link[_ngcontent-%COMP%], .right_card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:12px}}"]}),t})();function cN(t,e){if(1&t&&(Do(0,"div",1),Do(1,"div",2),Do(2,"div",3),Ro(3,"img",4),Do(4,"button",5),as(5," Edit "),Po(),Po(),Do(6,"div",6),Do(7,"h4"),as(8),Po(),Do(9,"h5"),as(10),Po(),Ro(11,"br"),Do(12,"p"),Do(13,"a",7),as(14,"Go To Classroom "),Ro(15,"i",8),Po(),Po(),Ro(16,"div",9),Po(),Po(),Po()),2&t){const t=qo();ei(4),Ho("routerLink","/edit/",t.classData.cCode,""),ei(4),ls("",t.classData.className,"(",t.classData.subject,")"),ei(2),cs("Class Code: ",t.classData.cCode,""),ei(3),Ho("routerLink","/teacher/",t.classData.cCode,"")}}let lN=(()=>{class t{constructor(){this.onDelete=new La,this.classData={},this.user={}}ngOnInit(){this.classData=this.class.data(),this.user=jf.auth().currentUser}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=qt({type:t,selectors:[["app-my-class"]],inputs:{class:"class"},outputs:{onDelete:"onDelete"},decls:1,vars:1,consts:[["class","container-fluid class_card mt-4",4,"ngIf"],[1,"container-fluid","class_card","mt-4"],[1,"row"],[1,"col-5","left_card"],["src","/assets/class_icon.jpg",1,"class_img"],[1,"btn","btn-primary","mt-3","btn-block",3,"routerLink"],[1,"col-7","right_card","align-items-center"],[1,"card-link",3,"routerLink"],[1,"fas","fa-angle-double-right"],[1,"d-flex","justify-content-center","align-item-center"]],template:function(t,e){1&t&&xo(0,cN,17,5,"div",0),2&t&&Oo("ngIf",e.user&&e.user.uid==e.classData.owner&&"teacher"==e.classData.type)},directives:[Zc,bO,wO],styles:["div[_ngcontent-%COMP%]{font-family:poppins,sans-serif}.class_card[_ngcontent-%COMP%]{background-color:#fff;box-shadow:2px 2px 5px grey,-2px -2px 5px #d3d3d3;border-radius:10px;padding:10px}.left_card[_ngcontent-%COMP%]{text-align:center;border:solid #789;border-width:0 1px 0 0}.class_img[_ngcontent-%COMP%]{width:100px;height:100px}.right_card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px;color:#5959ff;text-align:center}.card-link[_ngcontent-%COMP%]:hover{letter-spacing:1px;transition:letter-spacing .5s}.right_card[_ngcontent-%COMP%]{padding:20px}.right_card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:16px;color:#ff8a8a}@media only screen and (max-width:800px){.class_img[_ngcontent-%COMP%]{width:80px;height:80px}.right_card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:15px}.right_card[_ngcontent-%COMP%]{padding:12px}.card-link[_ngcontent-%COMP%], .right_card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:12px}}"]}),t})();function hN(t,e){1&t&&Ro(0,"app-joinclass"),2&t&&Xo(e.$implicit)}function fN(t,e){1&t&&Ro(0,"app-my-class"),2&t&&Xo(e.$implicit)}function dN(t,e){if(1&t&&(Do(0,"div",31),as(1),Po()),2&t){const t=qo();ei(1),cs(" ",t.leaveSuccess," ")}}function pN(t,e){if(1&t){const t=Mo();Do(0,"tr"),Do(1,"td"),as(2),Po(),Do(3,"td"),as(4),Po(),Do(5,"td"),as(6),Po(),Do(7,"td"),Do(8,"button",32),Vo("click",function(){const e=Ae(t).$implicit;return qo().leave(e.id)}),as(9," Exit "),Po(),Po(),Po()}if(2&t){const t=e.$implicit;Xo(t),ei(2),us(t.data().cCode),ei(2),us(t.data().className),ei(2),us(t.data().subject)}}let gN=(()=>{class t{constructor(){this.user={},this.classes=[],this.students=[],this.requestSend=[],this.leaveSuccess="",this.user=jf.auth().currentUser,this.getClasses(),this.getStudents(),jf.firestore().collection("classes").where("type","==","student").where("status","==","restrict").where("owner","==",this.user.uid).get().then(t=>{this.requestSend=t.docs,this.totalreq=this.requestSend.length}).catch(t=>{console.log(t)})}ngOnInit(){}getClasses(){jf.firestore().collection("classes").where("type","==","teacher").get().then(t=>{this.classes=t.docs}).catch(t=>{console.log(t)})}getStudents(){jf.firestore().collection("classes").where("type","==","student").get().then(t=>{this.students=t.docs}).catch(t=>{console.log(t)})}onStudentCreated(){this.getStudents(),this.students=[]}onClassCreated(){this.getClasses(),this.classes=[]}onDelete(){this.classes=[],this.getClasses()}leave(t){jf.firestore().collection("classes").doc(t).delete().then(()=>{this.leaveSuccess="Class Exited Successfully"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=qt({type:t,selectors:[["app-class"]],decls:54,vars:5,consts:[[1,"container","mt-2","mb-5"],[1,"row","mb-5","mt-5"],[1,"col-md-6","bg-light"],["data-toggle","collapse","href","#collapseExample2","role","button","aria-expanded","false","aria-controls","collapseExample2",1,"btn","btn-dark","btn-block","btn_drop","mt-2"],[1,"fas","fa-chevron-down"],["id","collapseExample2",1,"collapse"],[3,"class",4,"ngFor","ngForOf"],[1,"mt-5","mb-5",2,"text-align","center"],["data-toggle","collapse","href","#collapseExample1","role","button","aria-expanded","false","aria-controls","collapseExample1",1,"btn","btn-primary","btn-block","mt-2","btn_drop"],["id","collapseExample1",1,"collapse"],["id","nav-tab","role","tablist",1,"nav","nav-tabs"],["id","nav-home-tab","data-toggle","tab","href","#nav-home","role","tab","aria-controls","nav-home","aria-selected","true",1,"nav-link","active"],["id","nav-profile-tab","data-toggle","tab","href","#nav-profile","role","tab","aria-controls","nav-profile","aria-selected","false",1,"nav-link"],["id","nav-tabContent",1,"tab-content"],["id","nav-home","role","tabpanel","aria-labelledby","nav-home-tab",1,"tab-pane","fade","active","show"],[1,"container"],[1,"row"],[1,"col-md-6"],[3,"classCreated"],[3,"studentCreated"],[2,"width","100%"],[2,"width","80%","margin-left","10%"],[2,"width","60%","margin-left","20%"],[2,"width","40%","margin-left","30%"],[2,"width","20%","margin-left","40%"],["id","nav-profile","role","tabpanel","aria-labelledby","nav-profile-tab",1,"tab-pane","fade"],[1,"mt-4",2,"text-align","center"],["class","alert alert-success",4,"ngIf"],[1,"table-responsive"],[1,"table","table-bordered","mt-2","mb-3",2,"font-size","12px"],["scope","col"],[1,"alert","alert-success"],[1,"btn","btn-secondary","btn-block",3,"click"]],template:function(t,e){1&t&&(Do(0,"div",0),Do(1,"div",1),Do(2,"div",2),Do(3,"p"),Do(4,"a",3),as(5," My Joined Classes "),Ro(6,"i",4),Po(),Po(),Do(7,"div",5),xo(8,hN,1,2,"app-joinclass",6),Do(9,"h4",7),as(10,"Join Classes"),Po(),Po(),Po(),Do(11,"div",2),Do(12,"p"),Do(13,"a",8),as(14," My Created Classes "),Ro(15,"i",4),Po(),Po(),Do(16,"div",9),xo(17,fN,1,2,"app-my-class",6),Do(18,"h4",7),as(19,"Create Classes"),Po(),Po(),Po(),Po(),Do(20,"nav"),Do(21,"div",10),Do(22,"a",11),as(23,"Create/Join"),Po(),Do(24,"a",12),as(25),Po(),Po(),Po(),Do(26,"div",13),Do(27,"div",14),Do(28,"div",15),Do(29,"div",16),Do(30,"div",17),Do(31,"app-create",18),Vo("classCreated",function(){return e.onClassCreated()}),Po(),Po(),Do(32,"div",17),Do(33,"app-join",19),Vo("studentCreated",function(){return e.onStudentCreated()}),Po(),Po(),Po(),Po(),Ro(34,"hr",20),Ro(35,"hr",21),Ro(36,"hr",22),Ro(37,"hr",23),Ro(38,"hr",24),Po(),Do(39,"div",25),Do(40,"h4",26),as(41,"Requests Send"),Po(),xo(42,dN,2,1,"div",27),Do(43,"div",28),Do(44,"table",29),Do(45,"tr"),Do(46,"th",30),as(47,"Class Code"),Po(),Do(48,"th",30),as(49,"Teacher"),Po(),Do(50,"th",30),as(51,"Subject"),Po(),Ro(52,"th",30),Po(),xo(53,pN,10,5,"tr",6),Po(),Po(),Po(),Po(),Po()),2&t&&(ei(8),Oo("ngForOf",e.students),ei(9),Oo("ngForOf",e.classes),ei(8),cs("Requests Sent (",e.totalreq,")"),ei(17),Oo("ngIf",e.leaveSuccess.length>0),ei(11),Oo("ngForOf",e.requestSend))},directives:[Yc,rN,sN,Zc,uN,lN],styles:[".btn_drop[_ngcontent-%COMP%]{padding:10px;font-size:20px;border-radius:0}.btn_drop[_ngcontent-%COMP%]:hover{letter-spacing:2px;transition:letter-spacing .5s}.btn_add[_ngcontent-%COMP%]{width:120px;height:80px;box-shadow:2px 2px 5px grey,-2px -2px 5px #d3d3d3;font-size:20px;text-align:center;background-color:#6877ff;color:#fff}div[_ngcontent-%COMP%]{font-family:poppins,sans-serif}.btn_add[_ngcontent-%COMP%]:hover{letter-spacing:2px;transition:letter-spacing .5s}"]}),t})();function mN(t,e){if(1&t&&(Do(0,"div",15),as(1),Po()),2&t){const t=qo();ei(1),cs(" ",t.message," ")}}let vN=(()=>{class t{constructor(){this.user={},this.getProfile()}ngOnInit(){}getProfile(){let t=jf.auth().currentUser.uid;jf.firestore().collection("users").doc(t).get().then(t=>{this.user=t.data(),this.user.displayName=this.user.firstName+" "+this.user.lastName,this.user.id=t.id}).catch(t=>{console.log(t)})}update(){this.message="Updating Profile...",jf.auth().currentUser.updateProfile({displayName:this.user.displayName,photoURL:this.user.photoURL}).then(()=>{let t=jf.auth().currentUser.uid;jf.firestore().collection("users").doc(t).update({firstName:this.user.firstName,lastName:this.user.lastName}).then(()=>{this.message="Profile Updated Successfully."}).catch(t=>{console.log(t)})}).catch(t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=qt({type:t,selectors:[["app-profile"]],decls:27,vars:5,consts:[[1,"container"],[1,"row"],[1,"col-md-4"],[1,"img-circle",3,"src"],[1,"img_text"],[1,"col-md-8","mt-5"],[1,"form-group","row"],[1,"col-md-5"],["type","text","placeholder","First Name",1,"form-control","form_input",3,"ngModel","ngModelChange"],[1,"col-md-7"],["type","text","placeholder","Last Name",1,"form-control","form_input",3,"ngModel","ngModelChange"],[1,"col-md-6"],["type","email","readonly","",1,"form-control","form_input",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","btn-block","submit_btn","mt-3",3,"click"],["class","alert alert-success btn-block mt-2 fade show pull-left","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-success","btn-block","mt-2","fade","show","pull-left"]],template:function(t,e){1&t&&(Do(0,"div",0),Do(1,"h1"),as(2,"Profile"),Po(),Do(3,"div",1),Do(4,"div",2),Ro(5,"img",3),Do(6,"p",4),as(7,"Profile Image (By Default)"),Po(),Po(),Do(8,"div",5),Do(9,"div",6),Do(10,"div",7),Do(11,"h4"),as(12,"First Name"),Po(),Do(13,"input",8),Vo("ngModelChange",function(t){return e.user.firstName=t}),Po(),Po(),Do(14,"div",9),Do(15,"h4"),as(16,"Last Name"),Po(),Do(17,"input",10),Vo("ngModelChange",function(t){return e.user.lastName=t}),Po(),Po(),Po(),Do(18,"div",6),Do(19,"div",11),Do(20,"h4"),as(21,"Email"),Po(),Do(22,"input",12),Vo("ngModelChange",function(t){return e.user.email=t}),Po(),Po(),Do(23,"div",11),Do(24,"button",13),Vo("click",function(){return e.update()}),as(25," Update "),Po(),Po(),Po(),Po(),Po(),xo(26,mN,2,1,"div",14),Po()),2&t&&(ei(5),Oo("src",e.user.photoURL,lr),ei(8),Oo("ngModel",e.user.firstName),ei(4),Oo("ngModel",e.user.lastName),ei(5),Oo("ngModel",e.user.email),ei(4),Oo("ngIf",e.message))},directives:[Bl,fh,Rh,Zc],styles:["div[_ngcontent-%COMP%]{font-family:poppins,sans-serif}.container[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px;margin-top:25px}.img-circle[_ngcontent-%COMP%]{width:80%}.img_text[_ngcontent-%COMP%]{font-size:20px;margin-top:20px}.form_input[_ngcontent-%COMP%]{padding:25px;font-size:18px;margin-bottom:15px}.form_input[_ngcontent-%COMP%]:focus{color:#000;background-color:#f8f8f8}.submit_btn[_ngcontent-%COMP%]{padding:15px;font-size:25px}@media only screen and (max-width:800px){.img-circle[_ngcontent-%COMP%]{width:150px;height:auto}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:30px}.img_text[_ngcontent-%COMP%]{font-size:12px}.form_input[_ngcontent-%COMP%]{padding:15px;font-size:15px}.submit_btn[_ngcontent-%COMP%]{padding:10px;font-size:18px}}"]}),t})();function yN(t,e){1&t&&(Do(0,"div",2),as(1," You are not the user of this class\n"),Po())}function bN(t,e){if(1&t&&(Do(0,"div",47),Do(1,"div",48),Do(2,"h1"),as(3),Po(),Ro(4,"hr",28),Do(5,"div",4),Do(6,"div",49),Do(7,"h4"),as(8),Po(),Po(),Do(9,"div",49),Do(10,"h4"),Do(11,"span"),as(12),Po(),Po(),Po(),Po(),Ro(13,"hr",28),Do(14,"div",4),Do(15,"div",50),Do(16,"h4"),as(17),Po(),Po(),Po(),Po(),Po()),2&t){const t=e.$implicit;Xo(t),ei(3),ls(" ",t.data().subject," (",t.data().className,") "),ei(5),cs(" ",t.data().email," "),ei(4),cs("( ",t.data().cCode," )"),ei(5),us(t.data().name)}}function wN(t,e){if(1&t&&(Do(0,"div",4),xo(1,bN,18,7,"div",46),Po()),2&t){const t=qo(2);ei(1),Oo("ngForOf",t.teacherClass)}}function _N(t,e){if(1&t&&(Do(0,"div",47),Do(1,"div",48),Do(2,"h1"),as(3),Po(),Ro(4,"hr",28),Do(5,"div",4),Do(6,"div",51),Do(7,"h4"),as(8),Po(),Po(),Ro(9,"div",51),Po(),Ro(10,"hr",28),Do(11,"div",4),Do(12,"div",50),Do(13,"h4"),as(14),Po(),Po(),Po(),Po(),Po()),2&t){const t=e.$implicit,n=qo(3);Xo(t),ei(3),ls(" ",t.data().subject," (",t.data().className,") "),ei(5),cs(" ",n.temail," "),ei(6),cs("You: ",t.data().name,"")}}function IN(t,e){if(1&t&&(Do(0,"div",4),xo(1,_N,15,6,"div",46),Po()),2&t){const t=qo(2);ei(1),Oo("ngForOf",t.currentStudent)}}function SN(t,e){if(1&t&&(Do(0,"div",56),as(1),Po()),2&t){const t=qo(3);ei(1),cs(" ",t.addNotice," ")}}function EN(t,e){if(1&t){const t=Mo();Do(0,"div",4),Do(1,"div",52),Do(2,"h6",43),as(3,"Share With Class"),Po(),xo(4,SN,2,1,"div",13),Do(5,"form",53),Vo("ngSubmit",function(){Ae(t);const e=qo(2);return e.createNotice(e.noticeForm)}),Do(6,"textarea",54),as(7,"              "),Po(),Do(8,"button",55),as(9," Send "),Po(),Po(),Po(),Po()}if(2&t){const t=qo(2);ei(4),Oo("ngIf",t.addNotice.length>0),ei(1),Oo("formGroup",t.noticeForm),ei(1),Oo("formControl",t.noticeForm.controls.content),ei(2),Oo("disabled",!t.noticeForm.valid)}}function CN(t,e){if(1&t&&(Do(0,"div",56),as(1),Po()),2&t){const t=qo(2);ei(1),cs(" ",t.deleteNotice1," ")}}function TN(t,e){if(1&t){const t=Mo();Do(0,"button",60),Vo("click",function(){Ae(t);const e=qo().$implicit;return qo(2).deleteNotice(e.id)}),as(1," Remove "),Po()}}function AN(t,e){if(1&t&&(Do(0,"div",57),Do(1,"p"),as(2),Po(),Do(3,"p",58),as(4),Pa(5,"date"),xo(6,TN,2,0,"button",59),Po(),Po()),2&t){const t=e.$implicit,n=qo(2);Xo(t),ei(2),us(t.data().content),ei(2),cs(" ",Ra(5,5,t.data().created.toDate(),"MMM dd, yyyy (h:mm a)")," "),ei(2),Oo("ngIf","teacher"==n.currentUser)}}function xN(t,e){if(1&t&&(Do(0,"a",61),as(1),Po()),2&t){const t=qo(2);ei(1),cs("Req (",t.totalrequests,")")}}function kN(t,e){if(1&t&&(Do(0,"div",62),as(1),Po()),2&t){const t=qo(2);ei(1),cs(" ",t.deleteSt," ")}}function ON(t,e){if(1&t){const t=Mo();Do(0,"button",70),Vo("click",function(){Ae(t);const e=qo(2).$implicit;return qo(2).deleteStudent(e.id)}),as(1," Remove "),Po()}}function NN(t,e){if(1&t&&(Do(0,"div"),xo(1,ON,2,0,"button",69),Po()),2&t){const t=e.$implicit,n=qo(3);Xo(t),ei(1),Oo("ngIf","teacher"==n.currentUser)}}function DN(t,e){if(1&t&&(Do(0,"div",63),Do(1,"div",64),Do(2,"div",65),Do(3,"div",66),Ro(4,"img",67),xo(5,NN,2,3,"div",36),Po(),Do(6,"div",68),Do(7,"h4"),Do(8,"b"),as(9),Po(),Po(),Ro(10,"hr",28),Do(11,"h5"),as(12),Po(),Po(),Po(),Po(),Po()),2&t){const t=e.$implicit,n=qo(2);Xo(t),ei(5),Oo("ngForOf",n.teacherClass),ei(4),us(t.data().name),ei(3),us(t.data().email)}}function PN(t,e){if(1&t&&(Do(0,"div",56),as(1),Po()),2&t){const t=qo(3);ei(1),cs(" ",t.addMaterial," ")}}function RN(t,e){if(1&t){const t=Mo();Do(0,"div"),Do(1,"div",4),Do(2,"div",71),Do(3,"h6"),as(4,"Add Material"),Po(),Do(5,"form",53),Vo("ngSubmit",function(){Ae(t);const e=qo(2);return e.createMaterial(e.materialForm)}),Do(6,"div",4),Do(7,"div",63),Do(8,"h6",72),as(9,"Material Description"),Po(),Ro(10,"input",73),Po(),Do(11,"div",63),Do(12,"h6",72),as(13,"Material Link"),Po(),Ro(14,"input",74),Do(15,"button",75),as(16," Add "),Po(),xo(17,PN,2,1,"div",13),Po(),Po(),Po(),Po(),Po(),Po()}if(2&t){const t=qo(2);ei(5),Oo("formGroup",t.materialForm),ei(5),Oo("formControl",t.materialForm.controls.material_des),ei(4),Oo("formControl",t.materialForm.controls.material_link),ei(1),Oo("disabled",!t.materialForm.valid),ei(2),Oo("ngIf",t.addMaterial.length>0)}}function MN(t,e){if(1&t&&(Do(0,"div",76),as(1),Po()),2&t){const t=qo(2);ei(1),cs(" ",t.deleteSuccess," ")}}function LN(t,e){if(1&t){const t=Mo();Do(0,"button",79),Vo("click",function(){Ae(t);const e=qo().$implicit;return qo(2).deletematerial(e.id)}),as(1," Remove "),Po()}}function FN(t,e){if(1&t&&(Do(0,"tr"),Do(1,"td"),as(2),Po(),Do(3,"td",40),Do(4,"a",77),as(5,"View"),Po(),xo(6,LN,2,0,"button",78),Po(),Po()),2&t){const t=e.$implicit,n=qo(2);Xo(t),ei(2),us(t.data().desc),ei(2),Bo("href",t.data().link,lr),ei(2),Oo("ngIf","teacher"==n.currentUser)}}function VN(t,e){if(1&t&&(Do(0,"div",56),as(1),Po()),2&t){const t=qo(3);ei(1),cs(" ",t.Assignment," ")}}function UN(t,e){if(1&t){const t=Mo();Do(0,"div",80),Do(1,"h6",40),as(2,"Create Assignment"),Po(),Do(3,"form",53),Vo("ngSubmit",function(){Ae(t);const e=qo(2);return e.createAssignment(e.assignmentForm)}),Do(4,"div",4),Do(5,"div",63),Do(6,"small",40),as(7,"Assignment Name"),Po(),Ro(8,"input",81),Po(),Do(9,"div",63),Do(10,"small",40),as(11,"Due Date"),Po(),Ro(12,"input",82),Po(),Po(),Ro(13,"textarea",83),Do(14,"button",84),as(15," Create Assignment "),Po(),Po(),xo(16,VN,2,1,"div",13),Po()}if(2&t){const t=qo(2);ei(3),Oo("formGroup",t.assignmentForm),ei(5),Oo("formControl",t.assignmentForm.controls.name),ei(4),Oo("formControl",t.assignmentForm.controls.currentDate),ei(1),Oo("formControl",t.assignmentForm.controls.desc),ei(1),Oo("disabled",!t.assignmentForm.valid),ei(2),Oo("ngIf",t.Assignment.length>0)}}function jN(t,e){if(1&t&&(Do(0,"div",85),Do(1,"h6"),as(2),Po(),Ro(3,"hr"),Do(4,"p",86),as(5),Po(),Ro(6,"hr"),Do(7,"div",4),Do(8,"div",49),Do(9,"p"),Do(10,"b"),as(11,"Due Date: "),Po(),as(12),Po(),Po(),Do(13,"div",49),Do(14,"p",87),Do(15,"b"),as(16,"Created On: "),Po(),as(17),Pa(18,"date"),Po(),Po(),Po(),Do(19,"div",4),Ro(20,"div",49),Do(21,"div",49),Do(22,"button",88),as(23," View Details "),Po(),Po(),Po(),Po()),2&t){const t=e.$implicit;Xo(t),ei(2),us(t.data().name),ei(3),us(t.data().desc),ei(7),us(t.data().dueDate),ei(5),cs(" ",Ra(18,7,t.data().createDate.toDate(),"MMM dd, yyyy (h:mm a)")," "),ei(5),Ho("routerLink","/assignment/",t.data().assignmentId,"")}}function qN(t,e){if(1&t&&(Do(0,"div",56),as(1),Po()),2&t){const t=qo(2);ei(1),cs(" ",t.allowMessage," ")}}function BN(t,e){if(1&t){const t=Mo();Do(0,"tr"),Do(1,"td"),as(2),Po(),Do(3,"td"),as(4),Po(),Do(5,"td"),Do(6,"button",89),Vo("click",function(){const e=Ae(t).$implicit;return qo(2).allowStudent(e.id)}),as(7," Allow "),Po(),Po(),Po()}if(2&t){const t=e.$implicit;Xo(t),ei(2),us(t.data().name),ei(2),us(t.data().email)}}function HN(t,e){if(1&t&&(Do(0,"div",3),Do(1,"div",4),Ro(2,"div",5),Do(3,"div",6),xo(4,wN,2,1,"div",7),xo(5,IN,2,1,"div",7),Do(6,"div",8),xo(7,EN,10,4,"div",7),Do(8,"div",9),Do(9,"div",10),Do(10,"p"),Do(11,"button",11),as(12," All Notices "),Ro(13,"i",12),Po(),Po(),xo(14,CN,2,1,"div",13),Ro(15,"br"),Do(16,"div",14),xo(17,AN,7,8,"div",15),Do(18,"p",16),as(19,"Notices Appear Here"),Po(),Po(),Po(),Po(),Po(),Do(20,"div",17),Do(21,"div",10),Do(22,"nav"),Do(23,"div",18),Do(24,"a",19),as(25),Po(),Do(26,"a",20),as(27,"Content"),Po(),Do(28,"a",21),as(29,"Assign"),Po(),xo(30,xN,2,1,"a",22),Po(),Po(),Do(31,"div",23),Do(32,"div",24),Do(33,"div",25),Do(34,"h6",26),as(35),Po(),Ro(36,"br"),xo(37,kN,2,1,"div",27),Ro(38,"hr",28),xo(39,DN,13,5,"div",29),Po(),Po(),Do(40,"div",30),xo(41,RN,18,5,"div",31),Do(42,"div",32),Do(43,"h6"),as(44,"Materials Added"),Po(),Do(45,"table",33),xo(46,MN,2,1,"div",34),Do(47,"thead"),Do(48,"tr"),Do(49,"th",35),as(50,"Description"),Po(),Do(51,"th",35),as(52,"Link"),Po(),Po(),Po(),xo(53,FN,7,5,"tr",36),Po(),Po(),Po(),Do(54,"div",37),xo(55,UN,17,6,"div",38),Do(56,"div",39),Do(57,"div",10),Do(58,"h4",40),as(59,"Assignments Appear Here"),Po(),xo(60,jN,24,10,"div",41),Po(),Po(),Po(),Do(61,"div",42),Do(62,"h6",43),as(63,"Requests"),Po(),xo(64,qN,2,1,"div",13),Ro(65,"hr"),Do(66,"div",44),Do(67,"table",45),Do(68,"tr"),Do(69,"th",35),as(70,"Name"),Po(),Do(71,"th",35),as(72,"Email"),Po(),Ro(73,"th",35),Po(),xo(74,BN,8,4,"tr",36),Po(),Po(),Po(),Po(),Po(),Po(),Po(),Po(),Po()),2&t){const t=qo();ei(4),Oo("ngIf","teacher"==t.currentUser),ei(1),Oo("ngIf","student"==t.currentUser),ei(2),Oo("ngIf","teacher"==t.currentUser),ei(7),Oo("ngIf",t.deleteNotice1.length>0),ei(3),Oo("ngForOf",t.notices),ei(8),cs("People (",t.totalStudents,")"),ei(5),Oo("ngIf","teacher"==t.currentUser),ei(5),cs(" Students (",t.totalStudents,") "),ei(2),Oo("ngIf",t.deleteSt.length>0),ei(2),Oo("ngForOf",t.studentClass),ei(2),Oo("ngIf","teacher"==t.currentUser),ei(5),Oo("ngIf",t.deleteSuccess.length>0),ei(7),Oo("ngForOf",t.material),ei(2),Oo("ngIf","teacher"==t.currentUser),ei(5),Oo("ngForOf",t.assignment_list),ei(4),Oo("ngIf",t.allowMessage.length>0),ei(10),Oo("ngForOf",t.requests)}}let zN=(()=>{class t{constructor(t,e,n,r){this.activatedRoute=t,this.ngZone=e,this.fb=n,this.authService=r,this.assignments=[],this.teacherClass=[],this.studentClass=[],this.currentUserClasses=[],this.requests=[],this.material=[],this.status=!0,this.current1=[],this.notices=[],this.assignment_list=[],this.currentStudent=[],this.addMaterial="",this.deleteSuccess="",this.allowMessage="",this.addNotice="",this.deleteNotice1="",this.Assignment="",this.deleteSt="",this.user={},this.class={},this.classId=" ",this.materialForm=this.fb.group({material_des:["",[$l.required]],material_link:["",[$l.required]]}),this.noticeForm=this.fb.group({content:["",[$l.required]]}),this.assignmentForm=this.fb.group({name:["",[$l.required]],desc:["",[$l.required]],currentDate:["",[$l.required]]});let i=jf.auth().currentUser.uid;this.currentUserID=i;let o=this.activatedRoute.snapshot.paramMap.get("classId");this.classId=o,jf.firestore().collection("classes").where("owner","==",i).where("status","==","allow").get().then(t=>{this.currentUserClasses=t.docs;for(let e of this.currentUserClasses)e=e.data().cCode,this.current1.push(e);this.status=-1!=this.current1.indexOf(this.classId)}).catch(t=>{console.log(t)}),jf.firestore().collection("classes").where("status","==","restrict").where("cCode","==",o).get().then(t=>{this.requests=t.docs,this.totalrequests=this.requests.length}).catch(t=>{console.log(t)}),jf.firestore().collection("classes").where("cCode","==",o).where("owner","==",i).get().then(t=>{this.currentUserClasses=t.docs;for(let e of this.currentUserClasses)this.currentUser=e.data().type,this.currentName=e.data().name}).catch(t=>{console.log(t)}),jf.firestore().collection("notices").orderBy("created","desc").where("cCode","==",o).get().then(t=>{this.notices=t.docs}).catch(t=>{console.log(t)}),jf.firestore().collection("classes").where("cCode","==",o).where("type","==","teacher").get().then(t=>{this.teacherClass=t.docs;for(let e of this.teacherClass)this.temail=e.data().email}).catch(t=>{console.log(t)}),jf.firestore().collection("materials").where("cCode","==",o).get().then(t=>{this.material=t.docs}).catch(t=>{console.log(t)}),jf.firestore().collection("assignments").orderBy("createDate","desc").where("cCode","==",o).where("type","==","teacher").get().then(t=>{this.assignment_list=t.docs}).catch(t=>{console.log(t)}),jf.firestore().collection("classes").where("cCode","==",o).where("type","==","student").where("status","==","allow").get().then(t=>{this.studentClass=t.docs,this.totalStudents=this.studentClass.length}).catch(t=>{console.log(t)}),jf.firestore().collection("classes").where("cCode","==",o).where("type","==","student").where("owner","==",i).get().then(t=>{this.currentStudent=t.docs}).catch(t=>{console.log(t)})}ngOnInit(){}createMaterial(t){let e=t.value.material_des,n=t.value.material_link;jf.firestore().collection("materials").add({desc:e,link:n,cCode:this.classId,type:"teacher",owner:jf.auth().currentUser.uid}).then(t=>{console.log(t),this.addMaterial="Material Added Successfully. Refresh the page."}).catch(t=>{console.log(t)})}createAssignment(t){let e=t.value.desc,n=t.value.name,r=t.value.currentDate,i=Math.random().toString(36).substr(2,5);jf.firestore().collection("assignments").add({user:this.currentName,desc:e,name:n,assignmentId:i,cCode:this.classId,type:"teacher",dueDate:r,createDate:jf.firestore.FieldValue.serverTimestamp(),owner:jf.auth().currentUser.uid}).then(t=>{console.log(t),this.Assignment="Assignment Created Successfully. Refresh the page."}).catch(t=>{console.log(t)})}createNotice(t){let e=t.value.content;jf.firestore().collection("notices").add({content:e,owner:this.currentUserID,cCode:this.classId,type:"teacher",created:jf.firestore.FieldValue.serverTimestamp()}).then(t=>{console.log(t),this.addNotice="Posted Successfully.  Refresh the page."}).catch(t=>{console.log(t)})}deletematerial(t){jf.firestore().collection("materials").doc(t).delete().then(()=>{this.deleteSuccess="Material removed Successfully. Refresh the page. "})}allowStudent(t){jf.firestore().collection("classes").doc(t).update({status:"allow"}).then(()=>{this.allowMessage="Allowed Successfully"}).catch(t=>{console.log(t)})}deleteNotice(t){jf.firestore().collection("notices").doc(t).delete().then(()=>{this.deleteNotice1="Notice  removed Successfully. Refresh the page."})}deleteStudent(t){jf.firestore().collection("classes").doc(t).delete().then(()=>{this.deleteSt="Student Remove Successfully. Refresh the page."})}}return t.\u0275fac=function(e){return new(e||t)(ko(Yx),ko(bu),ko(Gh),ko(BO))},t.\u0275cmp=qt({type:t,selectors:[["app-teacher"]],decls:2,vars:2,consts:[["class","container mt-5 mb-5",4,"ngIf"],["class","container",4,"ngIf"],[1,"container","mt-5","mb-5"],[1,"container"],[1,"row"],[1,"col-lg-1"],[1,"col-lg-10"],["class","row",4,"ngIf"],[1,"container-fluid"],[1,"row","mt-2"],[1,"col-md-12"],["type","button","data-toggle","collapse","data-target","#collapseExample","aria-expanded","false","aria-controls","collapseExample",1,"btn","btn-dark","btn-block"],[1,"fas","fa-chevron-down"],["class","alert alert-success",4,"ngIf"],["id","collapseExample",1,"collapse","mb-4","mt-2",2,"font-size","14px"],["class","card card-body p-2 mt-1",3,"class",4,"ngFor","ngForOf"],[1,"mt-3",2,"text-align","center"],[1,"row",2,"margin-bottom","200px"],["id","nav-tab","role","tablist",1,"nav","nav-tabs","d-flex","justify-content-center"],["id","nav-home-tab","data-toggle","tab","href","#nav-home","role","tab","aria-controls","nav-home","aria-selected","true",1,"nav-link","active"],["id","nav-profile-tab","data-toggle","tab","href","#nav-profile","role","tab","aria-controls","nav-profile","aria-selected","false",1,"nav-link"],["id","nav-contact-tab","data-toggle","tab","href","#nav-contact","role","tab","aria-controls","nav-contact","aria-selected","false",1,"nav-link"],["class","nav-link","id","nav-req-tab","data-toggle","tab","href","#nav-req","role","tab","aria-controls","nav-req","aria-selected","false",4,"ngIf"],["id","nav-tabContent",1,"tab-content"],["id","nav-home","role","tabpanel","aria-labelledby","nav-home-tab",1,"tab-pane","fade","show","active"],[1,"row","class_students"],[1,"student_text","mt-4"],["class","alert alert-success mt-2 mb-4",4,"ngIf"],[1,"hr_line"],["class","col-md-6",3,"class",4,"ngFor","ngForOf"],["id","nav-profile","role","tabpanel","aria-labelledby","nav-profile-tab",1,"tab-pane","fade"],[4,"ngIf"],[1,"container-fluid","mt-2",2,"text-align","center"],[1,"table","table-bordered","mt-1"],["class","alert alert-warning",4,"ngIf"],["scope","col"],[3,"class",4,"ngFor","ngForOf"],["id","nav-contact","role","tabpanel","aria-labelledby","nav-contact-tab",1,"tab-pane","fade"],["class","mt-4",4,"ngIf"],[1,"row","mt-4","mb-4"],[2,"text-align","center"],["class","Assign mt-3",3,"class",4,"ngFor","ngForOf"],["id","nav-req","role","tabpanel","aria-labelledby","nav-req-tab",1,"tab-pane","fade"],[1,"mt-2","mb-2"],[1,"table-responsive"],[1,"table","table-bordered"],["class","col-md-12 mb-3",3,"class",4,"ngFor","ngForOf"],[1,"col-md-12","mb-3"],[1,"teacher_head"],[1,"col-sm-6"],[1,"col-12"],[1,"col-6"],[1,"col-md-12","bg-light"],[3,"formGroup","ngSubmit"],["rows","3","placeholder","Type and share with everyone...",1,"mt-3","form-control",3,"formControl"],[1,"btn","btn-primary","btn-block","mt-2","mb-3",3,"disabled"],[1,"alert","alert-success"],[1,"card","card-body","p-2","mt-1"],[2,"color","rgb(73, 73, 248)"],["class","btn btn-danger float-right","style","font-size: 14px",3,"click",4,"ngIf"],[1,"btn","btn-danger","float-right",2,"font-size","14px",3,"click"],["id","nav-req-tab","data-toggle","tab","href","#nav-req","role","tab","aria-controls","nav-req","aria-selected","false",1,"nav-link"],[1,"alert","alert-success","mt-2","mb-4"],[1,"col-md-6"],[1,"container-fluid","p-1"],[1,"row","student_card"],[1,"col-3","student_logo"],["src","/assets/user logo.png"],[1,"col-9","student_detail"],["class","btn btn-danger view_btn p-1","style","font-size: 10px",3,"click",4,"ngIf"],[1,"btn","btn-danger","view_btn","p-1",2,"font-size","10px",3,"click"],[1,"col-md-12","mt-4",2,"text-align","center"],[1,"mt-2"],["type","text","placeholder","Explaination of Material",1,"form-control","add_con",3,"formControl"],["type","text","placeholder","Link of Material",1,"form-control","add_con",3,"formControl"],["type","submit",1,"btn","btn-primary","btn-block","mt-2","mb-3",3,"disabled"],[1,"alert","alert-warning"],["target","_blank",1,"btn","btn-success","mt-1","ml-2",2,"font-size","11px",3,"href"],["class","btn btn-danger mt-1 ml-2","style","font-size: 11px",3,"click",4,"ngIf"],[1,"btn","btn-danger","mt-1","ml-2",2,"font-size","11px",3,"click"],[1,"mt-4"],["type","text","placeholder","Assgnment Name",1,"form-control","mt-2",3,"formControl"],["type","date",1,"form-control","mt-2",3,"formControl"],["rows","4","placeholder","Assignment Description",1,"form-control","mt-2",3,"formControl"],[1,"btn","btn-block","btn-info","mt-2","mb-2",3,"disabled"],[1,"Assign","mt-3"],[2,"font-size","12px"],[2,"color","rgb(79, 79, 196)"],[1,"btn","btn-primary","btn-block",3,"routerLink"],[1,"btn","btn-success","btn-block",3,"click"]],template:function(t,e){1&t&&(xo(0,yN,2,0,"div",0),xo(1,HN,75,17,"div",1)),2&t&&(Oo("ngIf",!e.status),ei(1),Oo("ngIf",e.status))},directives:[Zc,Yc,Mh,dh,qh,Bl,fh,Uh,bO],pipes:[el],styles:[".teacher_head[_ngcontent-%COMP%]{width:100%;border-radius:10px;text-align:center;padding:40px;box-shadow:2px 2px 5px grey,-2px -2px 5px #d3d3d3;letter-spacing:1.5px}div[_ngcontent-%COMP%]{font-family:poppins,sans-serif}.teacher_head[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:left;font-size:25px;margin-bottom:15px;font-weight:700}.teacher_head[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:22px;text-align:left}.teacher_head[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.hr_line[_ngcontent-%COMP%]{background-color:#5e69ff;border-width:2px;width:100%}.student_text[_ngcontent-%COMP%]{font-size:36px;line-height:36px;letter-spacing:1px;margin-top:10px;margin-bottom:10px;margin-left:20px}.student_logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:auto}.student_logo[_ngcontent-%COMP%]{padding:10px;text-align:center;border:solid grey;border-width:0 1px 0 0}.student_detail[_ngcontent-%COMP%]{padding:10px}.student_detail[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:22px}.student_detail[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:19px}.student_card[_ngcontent-%COMP%]{padding:20px;box-shadow:1px 1px 3px grey,-1px -1px 3px #d3d3d3;border-radius:10px}.student_main_card[_ngcontent-%COMP%]{padding:40px}.view_btn[_ngcontent-%COMP%]{border-radius:50px;font-size:12px}.nav-tabs[_ngcontent-%COMP%]{margin:auto;letter-spacing:2px;font-size:25px;padding:10px}.nav-link[_ngcontent-%COMP%]{background-color:#fefefe}.add_con[_ngcontent-%COMP%], .Assign[_ngcontent-%COMP%]{padding:20px}.Assign[_ngcontent-%COMP%]{border-radius:10px;box-shadow:2px 2px 5px grey,-2px -2px 5px #d3d3d3}@media only screen and (max-width:1000px){.nav-tabs[_ngcontent-%COMP%]{font-size:14px;letter-spacing:0;padding:0}.nav-link[_ngcontent-%COMP%]{padding:5px}.teacher_head[_ngcontent-%COMP%]{letter-spacing:0;padding:15px}.teacher_head[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px;margin-bottom:5px;font-weight:600}.teacher_head[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px}.teacher_head[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600}.hr_line[_ngcontent-%COMP%]{border-width:1px}.student_detail[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:15px}.student_detail[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:12px}.student_logo[_ngcontent-%COMP%]{padding:0}.student_card[_ngcontent-%COMP%], .student_main_card[_ngcontent-%COMP%]{padding:5px}}"]}),t})();function GN(t,e){if(1&t){const t=Mo();Do(0,"button",20),Vo("click",function(){Ae(t);const e=qo(2);return e.deleteStudent(e.currentID)}),as(1," Exit Class "),Po()}}function KN(t,e){1&t&&(Do(0,"p",21),as(1," Remove All Students in the Class to Exit the class. "),Po())}function WN(t,e){if(1&t){const t=Mo();Do(0,"button",20),Vo("click",function(){Ae(t);const e=qo(2);return e.deleteStudent(e.currentID)}),as(1," Leave Class "),Po()}}function $N(t,e){1&t&&(Do(0,"h6"),as(1,"Teacher Name"),Po())}function QN(t,e){1&t&&(Do(0,"h6"),as(1,"Class Name"),Po())}function YN(t,e){if(1&t&&(Do(0,"div",22),as(1),Po()),2&t){const t=qo(2);ei(1),cs(" ",t.deleteSt," ")}}function XN(t,e){if(1&t&&(Do(0,"div",23),as(1),Po()),2&t){const t=qo(2);ei(1),cs(" ",t.message," ")}}function ZN(t,e){if(1&t){const t=Mo();Do(0,"div"),Do(1,"div",2),Do(2,"h1"),as(3,"Edit Class Details"),Po(),Do(4,"div",3),Do(5,"div",4),Ro(6,"img",5),Do(7,"p",6),as(8,"Class Image (By Default)"),Po(),xo(9,GN,2,0,"button",7),xo(10,KN,2,0,"p",8),xo(11,WN,2,0,"button",7),Po(),Do(12,"div",9),Do(13,"div",10),Do(14,"div",11),Do(15,"h6"),as(16,"Class Code"),Po(),Do(17,"input",12),Vo("ngModelChange",function(e){return Ae(t),qo().jcCode=e}),Po(),Po(),Do(18,"div",13),Do(19,"h6"),as(20,"Your Name"),Po(),Do(21,"input",14),Vo("ngModelChange",function(e){return Ae(t),qo().jname=e}),Po(),Po(),Po(),Do(22,"div",10),Do(23,"div",15),xo(24,$N,2,0,"h6",0),xo(25,QN,2,0,"h6",0),Do(26,"input",16),Vo("ngModelChange",function(e){return Ae(t),qo().jcName=e}),Po(),Po(),Do(27,"div",15),Do(28,"h6"),as(29,"Subject"),Po(),Do(30,"input",16),Vo("ngModelChange",function(e){return Ae(t),qo().jsubject=e}),Po(),Po(),Ro(31,"div",15),Do(32,"div",15),Do(33,"button",17),Vo("click",function(){return Ae(t),qo().updateClassDetatils()}),as(34," Update "),Po(),xo(35,YN,2,1,"div",18),Po(),Po(),Po(),Po(),xo(36,XN,2,1,"div",19),Po(),Po()}if(2&t){const t=qo();ei(9),Oo("ngIf","teacher"==t.jtype&&t.lengthStudent<1),ei(1),Oo("ngIf","teacher"==t.jtype&&t.lengthStudent<1),ei(1),Oo("ngIf","student"==t.jtype),ei(6),Oo("ngModel",t.jcCode),ei(4),Oo("ngModel",t.jname),ei(3),Oo("ngIf","student"==t.jtype),ei(1),Oo("ngIf","teacher"==t.jtype),ei(1),Oo("ngModel",t.jcName),ei(4),Oo("ngModel",t.jsubject),ei(5),Oo("ngIf",t.deleteSt.length>0),ei(1),Oo("ngIf",t.message)}}function JN(t,e){1&t&&(Do(0,"div",24),as(1," You are not the member of this class\n"),Po())}let tD=(()=>{class t{constructor(t,e){this.activatedRoute=t,this.ngZone=e,this.user={},this.classId=" ",this.currentStudent=[],this.currentUserClasses=[],this.status=!0,this.current1=[],this.totalStudents=[],this.deleteSt="";let n=this.activatedRoute.snapshot.paramMap.get("classId");this.classId=n;let r=jf.auth().currentUser.uid;jf.firestore().collection("classes").where("owner","==",r).get().then(t=>{this.currentUserClasses=t.docs;for(let e of this.currentUserClasses)e=e.data().cCode,this.current1.push(e);this.status=-1!=this.current1.indexOf(this.classId)}).catch(t=>{console.log(t)}),jf.firestore().collection("classes").where("cCode","==",n).where("type","==","student").get().then(t=>{this.totalStudents=t.docs,this.lengthStudent=this.totalStudents.length}).catch(t=>{console.log(t)}),jf.firestore().collection("classes").where("cCode","==",n).where("owner","==",r).get().then(t=>{this.currentStudent=t.docs;for(let e of this.currentStudent)this.currentID=e.id,this.jcCode=e.data().cCode,this.jname=e.data().name,this.jcName=e.data().className,this.jsubject=e.data().subject,this.jtype=e.data().type,this.currentClassId=e.id}).catch(t=>{console.log(t)})}ngOnInit(){}updateClassDetatils(){this.message="Updateding Class Details.",jf.firestore().collection("classes").doc(this.currentClassId).update({name:this.jname,className:this.jcName,subject:this.jsubject}).then(()=>{this.message="Class Details Updated Successfully."}).catch(t=>{console.log(t)})}deleteStudent(t){jf.firestore().collection("classes").doc(t).delete().then(()=>{this.deleteSt="Class left successfully. Refresh the page."})}}return t.\u0275fac=function(e){return new(e||t)(ko(Yx),ko(bu))},t.\u0275cmp=qt({type:t,selectors:[["app-edit"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","container mt-5 mb-5",4,"ngIf"],[1,"container"],[1,"row"],[1,"col-md-4"],["src","/assets/class_icon.jpg",1,"img-circle"],[1,"img_text"],["class","btn btn-danger btn-block submit_btn mt-3",3,"click",4,"ngIf"],["style","color: red",4,"ngIf"],[1,"col-md-8","mt-5"],[1,"form-group","row"],[1,"col-md-5"],["type","text","readonly","",1,"form-control","form_input",3,"ngModel","ngModelChange"],[1,"col-md-7"],["type","text","placeholder","Name",1,"form-control","form_input",3,"ngModel","ngModelChange"],[1,"col-md-6"],["type","text",1,"form-control","form_input",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","btn-block","submit_btn","mt-3",3,"click"],["class","alert alert-success mt-2 mb-5",4,"ngIf"],["class","alert alert-success btn-block mt-2 fade show pull-left","role","alert",4,"ngIf"],[1,"btn","btn-danger","btn-block","submit_btn","mt-3",3,"click"],[2,"color","red"],[1,"alert","alert-success","mt-2","mb-5"],["role","alert",1,"alert","alert-success","btn-block","mt-2","fade","show","pull-left"],[1,"container","mt-5","mb-5"]],template:function(t,e){1&t&&(xo(0,ZN,37,11,"div",0),xo(1,JN,2,0,"div",1)),2&t&&(Oo("ngIf",e.status),ei(1),Oo("ngIf",!e.status))},directives:[Zc,Bl,fh,Rh],styles:["div[_ngcontent-%COMP%]{font-family:poppins,sans-serif}.container[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px;margin-top:25px}.img-circle[_ngcontent-%COMP%]{width:80%}.img_text[_ngcontent-%COMP%]{font-size:20px;margin-top:20px}.form_input[_ngcontent-%COMP%]{padding:25px;font-size:18px;margin-bottom:15px}.form_input[_ngcontent-%COMP%]:focus{color:#000;background-color:#f8f8f8}.submit_btn[_ngcontent-%COMP%]{padding:15px;font-size:25px}@media only screen and (max-width:800px){.img-circle[_ngcontent-%COMP%]{width:150px;height:auto}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:30px}.img_text[_ngcontent-%COMP%]{font-size:12px}.form_input[_ngcontent-%COMP%]{padding:15px;font-size:15px}.submit_btn[_ngcontent-%COMP%]{padding:10px;font-size:18px}}"]}),t})(),eD=(()=>{class t{constructor(t){this.router=t}canActivate(t,e){return new Promise((t,e)=>{jf.auth().onAuthStateChanged(e=>{e?t(!0):(this.router.navigate(["/home"]),t(!1))})})}}return t.\u0275fac=function(e){return new(e||t)(Jn(yO))},t.\u0275prov=lt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function nD(t,e){1&t&&(Do(0,"div",3),as(1," You are not the user of this class\n"),Po())}function rD(t,e){1&t&&(Do(0,"div",4),as(1," Teacher Removed this Assignment\n"),Po())}function iD(t,e){if(1&t&&(Do(0,"div",15),as(1),Po()),2&t){const t=qo(4);ei(1),cs(" ",t.deleteAssignment," ")}}function oD(t,e){if(1&t){const t=Mo();Do(0,"div",10),Do(1,"div",11),Do(2,"b"),as(3),Po(),Po(),Do(4,"div",11),Do(5,"button",13),Vo("click",function(){Ae(t);const e=qo().$implicit;return qo(2).removeAssign(e.id)}),as(6," Remove Assignment "),Po(),xo(7,iD,2,1,"div",14),Po(),Po()}if(2&t){const t=qo(3);ei(3),cs("Total Students ( ",t.totalStudents," )"),ei(4),Oo("ngIf",t.deleteAssignment.length>0)}}function sD(t,e){if(1&t&&(Do(0,"div",9),Do(1,"h4"),as(2),Po(),Ro(3,"hr"),Do(4,"p"),as(5),Po(),Ro(6,"hr"),Do(7,"div",10),Do(8,"div",11),Do(9,"h6"),Do(10,"b"),as(11,"Due Date: "),Po(),as(12),Po(),Po(),Do(13,"div",11),Do(14,"p"),Do(15,"b"),as(16,"Created On: "),Po(),as(17),Pa(18,"date"),Po(),Po(),Po(),xo(19,oD,8,2,"div",12),Po()),2&t){const t=e.$implicit,n=qo(2);Xo(t),ei(2),us(t.data().name),ei(3),us(t.data().desc),ei(7),us(t.data().dueDate),ei(5),cs(" ",Ra(18,7,t.data().createDate.toDate(),"MMM dd, yyyy (h:mm a)")," "),ei(2),Oo("ngIf","teacher"==n.currentUser)}}function aD(t,e){if(1&t&&(Do(0,"div",26),as(1),Po()),2&t){const t=qo(4);ei(1),cs(" ",t.submitMessage," ")}}function uD(t,e){if(1&t){const t=Mo();Do(0,"div",19),Do(1,"h4",20),as(2,"Submit Assignment"),Po(),Do(3,"form",21),Vo("ngSubmit",function(){Ae(t);const e=qo(3);return e.subAssignment(e.submitAssignment)}),Ro(4,"input",22),Ro(5,"textarea",23),Do(6,"button",24),as(7," Submit Assignment "),Po(),xo(8,aD,2,1,"div",25),Po(),Po()}if(2&t){const t=qo(3);ei(3),Oo("formGroup",t.submitAssignment),ei(1),Oo("formControl",t.submitAssignment.controls.link),ei(1),Oo("formControl",t.submitAssignment.controls.desc),ei(1),Oo("disabled",!t.submitAssignment.valid),ei(2),Oo("ngIf",t.submitMessage.length>0)}}function cD(t,e){if(1&t&&(Do(0,"div",34),as(1),Po()),2&t){const t=qo(5);ei(1),cs(" ",t.deleteAssignment," ")}}function lD(t,e){if(1&t){const t=Mo();Do(0,"div",29),Do(1,"h4",30),as(2," Assingment Submitted "),Po(),Do(3,"p"),as(4,"Link"),Po(),Do(5,"a",31),as(6),Po(),Ro(7,"hr"),Do(8,"p"),as(9),Po(),Ro(10,"hr"),Do(11,"p",32),as(12),Pa(13,"date"),Po(),Do(14,"button",13),Vo("click",function(){const e=Ae(t).$implicit;return qo(4).removeAssign(e.id)}),as(15," Remove Assignment "),Po(),xo(16,cD,2,1,"div",33),Po()}if(2&t){const t=e.$implicit,n=qo(4);Xo(t),ei(5),Bo("href",t.data().name,lr),ei(1),us(t.data().name),ei(3),us(t.data().desc),ei(3),cs(" Submitted On: ",Ra(13,7,t.data().createDate.toDate(),"MMM dd, yyyy (h:mm a)")," "),ei(4),Oo("ngIf",n.deleteAssignment.length>0)}}function hD(t,e){if(1&t&&(Do(0,"div",27),xo(1,lD,17,10,"div",28),Po()),2&t){const t=qo(3);ei(1),Oo("ngForOf",t.submit)}}function fD(t,e){if(1&t&&(Do(0,"div",16),xo(1,uD,9,5,"div",17),xo(2,hD,2,1,"div",18),Po()),2&t){const t=qo(2);ei(1),Oo("ngIf",t.assignmentSubmit<1),ei(1),Oo("ngIf",t.assignmentSubmit>0)}}function dD(t,e){if(1&t&&(Do(0,"div",38),Do(1,"h4"),as(2),Po(),Do(3,"p"),Do(4,"b"),as(5,"Link: "),Po(),Do(6,"a",31),as(7),Po(),Po(),Do(8,"p"),as(9,"Description: "),Ro(10,"br"),as(11),Po(),Do(12,"p",32),as(13),Pa(14,"date"),Po(),Po()),2&t){const t=e.$implicit;Xo(t),ei(2),cs("Student: ",t.data().user,""),ei(4),Bo("href",t.data().name,lr),ei(1),us(t.data().name),ei(4),us(t.data().desc),ei(2),cs(" Submitted On: ",Ra(14,7,t.data().createDate.toDate(),"MMM dd, yyyy (h:mm a)")," ")}}function pD(t,e){if(1&t&&(Do(0,"div",35),Do(1,"h4",36),as(2),Po(),xo(3,dD,15,10,"div",37),Po()),2&t){const t=qo(2);ei(2),cs(" Submitted By ( ",t.submitlength," ) "),ei(1),Oo("ngForOf",t.submitby)}}function gD(t,e){if(1&t&&(Do(0,"div"),Do(1,"div",5),xo(2,sD,20,10,"div",6),xo(3,fD,3,2,"div",7),Po(),xo(4,pD,4,2,"div",8),Po()),2&t){const t=qo();ei(2),Oo("ngForOf",t.assignments),ei(1),Oo("ngIf","student"==t.currentUser),ei(1),Oo("ngIf","teacher"==t.currentUser)}}const mD=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:tN},{path:"login",component:WO},{path:"create",component:rN,canActivate:[eD]},{path:"class",component:gN,canActivate:[eD]},{path:"teacher",redirectTo:"class",canActivate:[eD]},{path:"teacher/:classId",component:zN,canActivate:[eD]},{path:"profile",component:vN,canActivate:[eD]},{path:"edit/:classId",component:tD,canActivate:[eD]},{path:"assignment/:assignmentId",component:(()=>{class t{constructor(t,e,n,r){this.activatedRoute=t,this.ngZone=e,this.fb=n,this.authService=r,this.assignments=[],this.studentClass=[],this.current=[],this.currentUserClasses=[],this.submitMessage="",this.dueDate=Date(),this.submit=[],this.submitby=[],this.deleteAssignment="",this.teacherA=[],this.status=!0,this.current1=[],this.submitAssignment=this.fb.group({link:["",[$l.required]],desc:["",[$l.required]]});let i=jf.auth().currentUser.uid;this.currentUserID=i;let o=this.activatedRoute.snapshot.paramMap.get("assignmentId");this.assignmentId=o,jf.firestore().collection("assignments").where("owner","==",i).where("type","==","student").where("assignmentId","==",o).get().then(t=>{this.submit=t.docs,this.assignmentSubmit=this.submit.length}).catch(t=>{console.log(t)}),jf.firestore().collection("assignments").where("type","==","student").where("assignmentId","==",o).get().then(t=>{this.submitby=t.docs,this.submitlength=this.submitby.length}).catch(t=>{console.log(t)}),jf.firestore().collection("assignments").where("assignmentId","==",o).where("type","==","teacher").get().then(t=>{this.assignments=t.docs;for(let e of this.assignments)this.currentClass=e.data().cCode,this.dueDate=e.data().dueDate;jf.firestore().collection("classes").where("owner","==",i).where("status","==","allow").get().then(t=>{this.currentUserClasses=t.docs;for(let e of this.currentUserClasses)e=e.data().cCode,this.current1.push(e);this.status=-1!=this.current1.indexOf(this.currentClass)}).catch(t=>{console.log(t)}),jf.firestore().collection("classes").where("cCode","==",this.currentClass).where("type","==","student").where("status","==","allow").get().then(t=>{this.studentClass=t.docs,this.totalStudents=this.studentClass.length}).catch(t=>{console.log(t)}),jf.firestore().collection("assignments").where("assignmentId","==",o).where("type","==","teacher").get().then(t=>{this.teacherA=t.docs,this.teacherS=this.teacherA.length}).catch(t=>{console.log(t)}),jf.firestore().collection("classes").where("cCode","==",this.currentClass).where("owner","==",i).get().then(t=>{this.current=t.docs;for(let e of this.current)this.currentUser=e.data().type,this.currentName=e.data().name}).catch(t=>{console.log(t)})}).catch(t=>{console.log(t)})}ngOnInit(){}subAssignment(t){let e=t.value.desc,n=t.value.link;jf.firestore().collection("assignments").add({user:this.currentName,desc:e,name:n,assignmentId:this.assignmentId,cCode:this.currentClass,type:"student",createDate:jf.firestore.FieldValue.serverTimestamp(),owner:jf.auth().currentUser.uid}).then(t=>{console.log(t),this.submitMessage="Posted Successfully.  Refresh the page."}).catch(t=>{console.log(t)})}removeAssign(t){jf.firestore().collection("assignments").doc(t).delete().then(()=>{this.deleteAssignment="Assignment removed Successfully. Refresh the page."})}}return t.\u0275fac=function(e){return new(e||t)(ko(Yx),ko(bu),ko(Gh),ko(BO))},t.\u0275cmp=qt({type:t,selectors:[["app-assignment"]],decls:3,vars:3,consts:[["class","container mt-5 mb-5",4,"ngIf"],["class","container mt-5 mt-5",4,"ngIf"],[4,"ngIf"],[1,"container","mt-5","mb-5"],[1,"container","mt-5","mt-5"],[1,"container"],["class","Assign mt-3",3,"class",4,"ngFor","ngForOf"],["class","row mt-5",4,"ngIf"],["class","container mt-5",4,"ngIf"],[1,"Assign","mt-3"],[1,"row"],[1,"col-sm-6"],["class","row",4,"ngIf"],[1,"btn","btn-block","btn-danger",3,"click"],["class","alert alert-success",4,"ngIf"],[1,"alert","alert-success"],[1,"row","mt-5"],["class","col-md-12",4,"ngIf"],["class","col-md-12 mb-5",4,"ngIf"],[1,"col-md-12"],[1,"mt-2","mb-2",2,"text-align","center"],[3,"formGroup","ngSubmit"],["type","text","placeholder","Link of Assignment File",1,"form-control",3,"formControl"],["placeholder","Assignment Description",1,"mt-3","form-control",3,"formControl"],[1,"btn","btn-success","btn-block","mt-4",3,"disabled"],["class","alert alert-success mt-2",4,"ngIf"],[1,"alert","alert-success","mt-2"],[1,"col-md-12","mb-5"],["class","Assign container-fluid",3,"class",4,"ngFor","ngForOf"],[1,"Assign","container-fluid"],[1,"mt-4","mb-3",2,"text-align","center"],["target","_blank",3,"href"],[2,"font-size","12px"],["class","alert alert-success mt-2 mb-5",4,"ngIf"],[1,"alert","alert-success","mt-2","mb-5"],[1,"container","mt-5"],[1,"mb-3",2,"text-align","center"],["class","Assign",3,"class",4,"ngFor","ngForOf"],[1,"Assign"]],template:function(t,e){1&t&&(xo(0,nD,2,0,"div",0),xo(1,rD,2,0,"div",1),xo(2,gD,5,3,"div",2)),2&t&&(Oo("ngIf",!e.status),ei(1),Oo("ngIf",e.teacherS<1),ei(1),Oo("ngIf",e.status&&e.teacherS>0))},directives:[Zc,Yc,Mh,dh,qh,Bl,fh,Uh],pipes:[el],styles:[".Assign[_ngcontent-%COMP%]{padding:20px;border-radius:10px;box-shadow:2px 2px 5px grey,-2px -2px 5px #d3d3d3}"]}),t})(),canActivate:[eD]},{path:"**",redirectTo:"home"}];let vD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Gt({type:t}),t.\u0275inj=ht({imports:[[PO.forRoot(mD)],PO]}),t})();function yD(t,e){1&t&&(Do(0,"li",11),Do(1,"a",12),as(2,"Home"),Po(),Po())}function bD(t,e){1&t&&(Do(0,"li",11),Do(1,"a",13),as(2,"Class"),Po(),Po())}function wD(t,e){1&t&&(Do(0,"li",11),Do(1,"a",14),as(2,"My Profile"),Po(),Po())}function _D(t,e){1&t&&(Do(0,"li",15),Do(1,"button",16),as(2," Login "),Po(),Po())}function ID(t,e){if(1&t){const t=Mo();Do(0,"li",17),Do(1,"a",18),Vo("click",function(){return Ae(t),qo().logout()}),as(2,"Log out"),Po(),Po()}}let SD=(()=>{class t{constructor(){this.loggedIn=!1,this.user=jf.auth().currentUser,this.loggedIn=!!this.user,jf.auth().onAuthStateChanged(t=>{this.user=t,this.loggedIn=!!t})}ngOnInit(){}logout(){jf.auth().signOut()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=qt({type:t,selectors:[["app-menu"]],decls:15,vars:5,consts:[[1,"navbar","navbar-expand-lg"],[1,"navbar-brand"],[1,"fas","fa-laptop","mr-2"],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"fas","fa-bars"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],["class","nav-item","routerLinkActive","active","data-toggle","collapse","data-target",".navbar-collapse",4,"ngIf"],[1,"navbar-nav","ml-auto"],["class","nav-item right","routerLinkActive","active","data-toggle","collapse","data-target",".navbar-collapse",4,"ngIf"],["class","nav-item right",4,"ngIf"],["routerLinkActive","active","data-toggle","collapse","data-target",".navbar-collapse",1,"nav-item"],["routerLink","/home",1,"nav-link"],["routerLink","/class",1,"nav-link"],["routerLink","/profile",1,"nav-link"],["routerLinkActive","active","data-toggle","collapse","data-target",".navbar-collapse",1,"nav-item","right"],["routerLink","/login",1,"btn","btn-outline-light","px-5"],[1,"nav-item","right"],["routerLink","/",1,"nav-link",3,"click"]],template:function(t,e){1&t&&(Do(0,"nav",0),Do(1,"a",1),Ro(2,"i",2),Do(3,"i"),as(4,"Classroom "),Po(),Po(),Do(5,"button",3),Ro(6,"i",4),Po(),Do(7,"div",5),Do(8,"ul",6),xo(9,yD,3,0,"li",7),xo(10,bD,3,0,"li",7),xo(11,wD,3,0,"li",7),Po(),Do(12,"ul",8),xo(13,_D,3,0,"li",9),xo(14,ID,3,0,"li",10),Po(),Po(),Po()),2&t&&(ei(9),Oo("ngIf",!e.loggedIn),ei(1),Oo("ngIf",e.loggedIn),ei(1),Oo("ngIf",e.loggedIn),ei(2),Oo("ngIf",!e.loggedIn),ei(1),Oo("ngIf",e.loggedIn))},directives:[Zc,IO,wO,bO],styles:[".login[_ngcontent-%COMP%]{width:30%}.nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:20px;color:#fff}.nav-item[_ngcontent-%COMP%]:hover{letter-spacing:1px;transition:letter-spacing .5s}.btn[_ngcontent-%COMP%]{border-radius:50px;font-size:20px}.navbar[_ngcontent-%COMP%]{background-color:#385cff;box-shadow:0 2px 5px #a2b2ff;margin-bottom:10px;color:#fff;font-family:Poppins,sans-serif}.fas[_ngcontent-%COMP%]{font-size:25px;color:#fff}.navbar-toggler[_ngcontent-%COMP%]:focus{outline:none}"]}),t})(),ED=(()=>{class t{constructor(){this.title="Classroom"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=qt({type:t,selectors:[["app-root"]],decls:3,vars:0,consts:[["rel","stylesheet","href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"]],template:function(t,e){1&t&&(Ro(0,"link",0),Ro(1,"app-menu"),Ro(2,"router-outlet"))},directives:[SD,SO],styles:["h1[_ngcontent-%COMP%]{color:#00f}h1[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{text-align:center;font-size:40px}p[_ngcontent-%COMP%]{color:#000}@media only screen and (max-width:1440px){h1[_ngcontent-%COMP%]{font-size:32px;line-height:40px}h2[_ngcontent-%COMP%]{font-size:30px;line-height:36px}h3[_ngcontent-%COMP%]{font-size:28px;line-height:33px}h4[_ngcontent-%COMP%]{font-size:26px;line-height:30px}h5[_ngcontent-%COMP%]{font-size:24px;line-height:28px}h6[_ngcontent-%COMP%]{font-size:22px;line-height:26px}a[_ngcontent-%COMP%], li[_ngcontent-%COMP%], p[_ngcontent-%COMP%], td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]{font-size:18px;line-height:24px}}@media only screen and (max-width:1200px){h1[_ngcontent-%COMP%]{font-size:28px;line-height:32px}h2[_ngcontent-%COMP%]{font-size:26px;line-height:30px}h3[_ngcontent-%COMP%]{font-size:24px;line-height:28px}h4[_ngcontent-%COMP%]{font-size:22px;line-height:26px}h5[_ngcontent-%COMP%]{font-size:20px;line-height:24px}h6[_ngcontent-%COMP%]{font-size:18px;line-height:22px}a[_ngcontent-%COMP%], li[_ngcontent-%COMP%], p[_ngcontent-%COMP%], td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]{font-size:16px;line-height:20px}}@media only screen and (max-width:992px){h1[_ngcontent-%COMP%]{font-size:24px;line-height:24px}h2[_ngcontent-%COMP%]{font-size:22px;line-height:23px}h3[_ngcontent-%COMP%]{font-size:20px;line-height:22px}h4[_ngcontent-%COMP%]{font-size:19px;line-height:21px}h5[_ngcontent-%COMP%]{font-size:18px;line-height:20px}h6[_ngcontent-%COMP%]{font-size:16px;line-height:19px}a[_ngcontent-%COMP%], li[_ngcontent-%COMP%], p[_ngcontent-%COMP%], td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]{font-size:14px;line-height:16px}}@media only screen and (max-width:768px){h1[_ngcontent-%COMP%]{font-size:22px;line-height:18px}h2[_ngcontent-%COMP%]{font-size:20px;line-height:17px}h3[_ngcontent-%COMP%]{font-size:18px;line-height:16px}h4[_ngcontent-%COMP%]{font-size:16px;line-height:15px}h5[_ngcontent-%COMP%]{font-size:14px;line-height:14px}h6[_ngcontent-%COMP%]{font-size:13px;line-height:13px}a[_ngcontent-%COMP%], li[_ngcontent-%COMP%], p[_ngcontent-%COMP%], td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]{font-size:12px;line-height:11px}}"]}),t})();jf.initializeApp({apiKey:"AIzaSyBbHCQQ-TybD3ShtYEIY3Eeubm1Gp_nEb0",authDomain:"signup-cbcaa.firebaseapp.com",databaseURL:"https://signup-cbcaa.firebaseio.com",projectId:"signup-cbcaa",storageBucket:"signup-cbcaa.appspot.com",messagingSenderId:"966010309771",appId:"1:966010309771:web:c62d432e2c2a1805b5d88e",measurementId:"G-ZYJHV8VVZR"});let CD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Gt({type:t,bootstrap:[ED]}),t.\u0275inj=ht({providers:[],imports:[[Ml,vD,Hh,zh]]}),t})();(function(){if(Du)throw new Error("Cannot enable prod mode after platform setup.");Nu=!1})(),Pl().bootstrapModule(CD).catch(t=>console.error(t))}},function(t){"use strict";t(t.s=682)}]);