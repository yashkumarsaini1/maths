!function(){function t(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(t,e)||r(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=r(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function n(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||r(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o(t){var e="function"==typeof Map?new Map:void 0;return(o=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return a(t,arguments,p(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),c(r,t)})(t)}function a(t,e,n){return(a=d()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&c(i,n.prototype),i}).apply(null,arguments)}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=d();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t,e,n){return e&&g(t.prototype,e),n&&g(t,n),t}(self.webpackChunkassignment1=self.webpackChunkassignment1||[]).push([[179],{8255:function(t){function e(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=function(){return[]},e.resolve=e,e.id=8255,t.exports=e},682:function(r,i,c){"use strict";function d(t){return"function"==typeof t}var g=!1,y={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else g&&console.log("RxJS: Back to a better error behavior. Thank you. <3");g=t},get useDeprecatedSynchronousErrorHandling(){return g}};function b(t){setTimeout(function(){throw t},0)}var w={closed:!0,next:function(t){},error:function(t){if(y.useDeprecatedSynchronousErrorHandling)throw t;b(t)},complete:function(){}},_=Array.isArray||function(t){return t&&"number"==typeof t.length};function k(t){return null!==t&&"object"==typeof t}var I=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map(function(t,e){return"".concat(e+1,") ").concat(t.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),S=function(){var t=function(){function t(e){v(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return m(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._ctorUnsubscribe,i=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var a=0;a<n.length;++a)n[a].remove(this);if(d(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(tT){e=tT instanceof I?E(tT.errors):[tT]}}if(_(o))for(var s=-1,u=o.length;++s<u;){var c=o[s];if(k(c))try{c.unsubscribe()}catch(tT){e=e||[],tT instanceof I?e=e.concat(E(tT.errors)):e.push(tT)}}if(e)throw new I(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}();return t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function E(t){return t.reduce(function(t,e){return t.concat(e instanceof I?e.errors:e)},[])}var C="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),T=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;switch(v(this,n),(o=e.call(this)).syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=w;break;case 1:if(!t){o.destination=w;break}if("object"==typeof t){t instanceof n?(o.syncErrorThrowable=t.syncErrorThrowable,o.destination=t,t.add(f(o))):(o.syncErrorThrowable=!0,o.destination=new A(f(o),t));break}default:o.syncErrorThrowable=!0,o.destination=new A(f(o),t,r,i)}return o}return m(n,[{key:C,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,s(p(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i}}]),n}(S),A=function(t){u(n,t);var e=l(n);function n(t,r,i,o){var a,s;v(this,n),(a=e.call(this))._parentSubscriber=t;var u=f(a);return d(r)?s=r:r&&(s=r.next,i=r.error,o=r.complete,r!==w&&(d((u=Object.create(r)).unsubscribe)&&a.add(u.unsubscribe.bind(u)),u.unsubscribe=a.unsubscribe.bind(f(a)))),a._context=u,a._next=s,a._error=i,a._complete=o,a}return m(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;y.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=y.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):b(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;b(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};y.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),y.useDeprecatedSynchronousErrorHandling)throw n;b(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!y.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return y.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(b(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(T),x="function"==typeof Symbol&&Symbol.observable||"@@observable";function O(t){return t}var N=function(){var t=function(){function t(e){v(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return m(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var r=this.operator,i=function(t,e,n){if(t){if(t instanceof T)return t;if(t[C])return t[C]()}return t||e||n?new T(t,e,n):new T(w)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||y.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),y.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){y.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,i=e.isStopped;if(n||i)return!1;t=r&&r instanceof T?r:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=D(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}},r,e)})}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:x,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:(0===(r=e).length?O:1===r.length?r[0]:function(t){return r.reduce(function(t,e){return e(t)},t)})(this);var r}},{key:"toPromise",value:function(t){var e=this;return new(t=D(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})}}]),t}();return t.create=function(e){return new t(e)},t}();function D(t){if(t||(t=y.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var P=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),R=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this)).subject=t,i.subscriber=r,i.closed=!1,i}return m(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(S),M=function(t){u(n,t);var e=l(n);function n(t){var r;return v(this,n),(r=e.call(this,t)).destination=t,r}return n}(T),L=function(){var t=function(t){u(n,t);var e=l(n);function n(){var t;return v(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return m(n,[{key:C,value:function(){return new M(this)}},{key:"lift",value:function(t){var e=new F(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new P;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new P;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new P;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new P;return s(p(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new P;return this.hasError?(t.error(this.thrownError),S.EMPTY):this.isStopped?(t.complete(),S.EMPTY):(this.observers.push(t),new R(this,t))}},{key:"asObservable",value:function(){var t=new N;return t.source=this,t}}]),n}(N);return t.create=function(t,e){return new F(t,e)},t}(),F=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this)).destination=t,i.source=r,i}return m(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):S.EMPTY}}]),n}(L);function V(t){return t&&"function"==typeof t.schedule}function U(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new j(t,e))}}var j=function(){function t(e,n){v(this,t),this.project=e,this.thisArg=n}return m(t,[{key:"call",value:function(t,e){return e.subscribe(new q(t,this.project,this.thisArg))}}]),t}(),q=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this,t)).project=r,o.count=0,o.thisArg=i||f(o),o}return m(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(T),B=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}};var H="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",z=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function G(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var K=function(t){if(t&&"function"==typeof t[x])return n=t,function(t){var e=n[x]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(z(t))return B(t);if(G(t))return function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,b),e}}(t);if(t&&"function"==typeof t[H])return e=t,function(t){for(var n=e[H]();;){var r=void 0;try{r=n.next()}catch(i){return t.error(i),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t};var e,n,r=k(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(r," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))};function W(t,e){return new N(function(n){var r=new S,i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function Q(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[x]}(t))return function(t,e){return new N(function(n){var r=new S;return r.add(e.schedule(function(){var i=t[x]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r})}(t,e);if(G(t))return function(t,e){return new N(function(n){var r=new S;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r})}(t,e);if(z(t))return W(t,e);if(function(t){return t&&"function"==typeof t[H]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new N(function(n){var r,i=new S;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(function(){r=t[H](),i.add(e.schedule(function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}}))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof N?t:new N(K(t))}var Y=function(t){u(n,t);var e=l(n);function n(t){var r;return v(this,n),(r=e.call(this)).parent=t,r}return m(n,[{key:"_next",value:function(t){this.parent.notifyNext(t)}},{key:"_error",value:function(t){this.parent.notifyError(t),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(T),X=function(t){u(n,t);var e=l(n);function n(){return v(this,n),e.apply(this,arguments)}return m(n,[{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyError",value:function(t){this.destination.error(t)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(T);function Z(t,e){if(!e.closed){if(t instanceof N)return t.subscribe(e);var n;try{n=K(t)(e)}catch(r){e.error(r)}return n}}function J(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(r){return r.pipe(J(function(n,r){return Q(t(n,r)).pipe(U(function(t,i){return e(n,t,r,i)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new $(t,n))})}var $=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;v(this,t),this.project=e,this.concurrent=n}return m(t,[{key:"call",value:function(t,e){return e.subscribe(new tt(t,this.project,this.concurrent))}}]),t}(),tt=function(t){u(n,t);var e=l(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return v(this,n),(i=e.call(this,t)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return m(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=new Y(this),n=this.destination;n.add(e);var r=Z(t,e);r!==e&&n.add(r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyComplete",value:function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(X);function et(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return J(O,t)}function nt(t,e){return e?W(t,e):new N(B(t))}function rt(){return function(t){return t.lift(new ot(t))}}var it,ot=function(){function t(e){v(this,t),this.connectable=e}return m(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new at(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),at=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).connectable=r,i}return m(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(T),st=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this)).source=t,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return m(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new S).add(this.source.subscribe(new ct(this.getSubject(),this))),t.closed&&(this._connection=null,t=S.EMPTY)),t}},{key:"refCount",value:function(){return rt()(this)}}]),n}(N),ut={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(it=st.prototype)._subscribe},_isComplete:{value:it._isComplete,writable:!0},getSubject:{value:it.getSubject},connect:{value:it.connect},refCount:{value:it.refCount}},ct=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).connectable=r,i}return m(n,[{key:"_error",value:function(t){this._unsubscribe(),s(p(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),s(p(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(M);function lt(){return new L}function ht(t){for(var e in t)if(t[e]===ht)return e;throw Error("Could not find renamed property on target object.")}function ft(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function dt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(dt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return"".concat(t.overriddenName);if(t.name)return"".concat(t.name);var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function pt(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var vt=ht({__forward_ref__:ht});function gt(t){return t.__forward_ref__=gt,t.toString=function(){return dt(this())},t}function mt(t){return yt(t)?t():t}function yt(t){return"function"==typeof t&&t.hasOwnProperty(vt)&&t.__forward_ref__===gt}var bt=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,function(t,e){return"".concat(t?"NG0".concat(t,": "):"").concat(e)}(t,r))).code=t,i}return n}(o(Error));function wt(t){return"string"==typeof t?t:null==t?"":String(t)}function _t(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():wt(t)}function kt(t,e){var n=e?" in ".concat(e):"";throw new bt("201","No provider for ".concat(_t(t)," found").concat(n))}function It(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function St(t){return{providers:t.providers||[],imports:t.imports||[]}}function Et(t){return Ct(t,xt)||Ct(t,Nt)}function Ct(t,e){return t.hasOwnProperty(e)?t[e]:null}function Tt(t){return t&&(t.hasOwnProperty(Ot)||t.hasOwnProperty(Dt))?t[Ot]:null}var At,xt=ht({"\u0275prov":ht}),Ot=ht({"\u0275inj":ht}),Nt=ht({ngInjectableDef:ht}),Dt=ht({ngInjectorDef:ht}),Pt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function Rt(t){var e=At;return At=t,e}function Mt(t,e,n){var r=Et(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Pt.Optional?null:void 0!==e?e:void kt(dt(t),"Injector")}function Lt(t){return{toString:t}.toString()}var Ft=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),Vt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),Ut="undefined"!=typeof globalThis&&globalThis,jt="undefined"!=typeof window&&window,qt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Bt="undefined"!=typeof global&&global,Ht=Ut||Bt||jt||qt,zt={},Gt=[],Kt=ht({"\u0275cmp":ht}),Wt=ht({"\u0275dir":ht}),Qt=ht({"\u0275pipe":ht}),Yt=ht({"\u0275mod":ht}),Xt=ht({"\u0275loc":ht}),Zt=ht({"\u0275fac":ht}),Jt=ht({__NG_ELEMENT_ID__:ht}),$t=0;function te(t){return Lt(function(){var e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Ft.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Gt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Vt.Emulated,id:"c",styles:t.styles||Gt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=$t++,n.inputs=oe(t.inputs,e),n.outputs=oe(t.outputs),i&&i.forEach(function(t){return t(n)}),n.directiveDefs=r?function(){return("function"==typeof r?r():r).map(ee)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(ne)}:null,n})}function ee(t){return se(t)||function(t){return t[Wt]||null}(t)}function ne(t){return function(t){return t[Qt]||null}(t)}var re={};function ie(t){var e={type:t.type,bootstrap:t.bootstrap||Gt,declarations:t.declarations||Gt,imports:t.imports||Gt,exports:t.exports||Gt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&Lt(function(){re[t.id]=t.type}),e}function oe(t,e){if(null==t)return zt;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var ae=te;function se(t){return t[Kt]||null}function ue(t,e){var n=t[Yt]||null;if(!n&&!0===e)throw new Error("Type ".concat(dt(t)," does not have '\u0275mod' property."));return n}function ce(t){return Array.isArray(t)&&"object"==typeof t[1]}function le(t){return Array.isArray(t)&&!0===t[1]}function he(t){return 0!=(8&t.flags)}function fe(t){return 2==(2&t.flags)}function de(t){return 1==(1&t.flags)}function pe(t){return null!==t.template}function ve(t,e){return t.hasOwnProperty(Zt)?t[Zt]:null}var ge,me=function(){function t(e,n,r){v(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return m(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function ye(){return be}function be(t){return t.type.prototype.ngOnChanges&&(t.setInput=_e),we}function we(){var t=ke(this),e=null==t?void 0:t.current;if(e){var n=t.previous;if(n===zt)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function _e(t,e,n,r){var i=ke(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:zt,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new me(u&&u.currentValue,e,a===zt),t[r]=e}function ke(t){return t.__ngSimpleChanges__||null}function Ie(t){return!!t.listen}ye.ngInherit=!0;var Se={createRenderer:function(t,e){return void 0!==ge?ge:"undefined"!=typeof document?document:void 0}};function Ee(t){for(;Array.isArray(t);)t=t[0];return t}function Ce(t,e){return Ee(e[t])}function Te(t,e){return Ee(e[t.index])}function Ae(t,e){return t.data[e]}function xe(t,e){var n=e[t];return ce(n)?n:n[0]}function Oe(t){return 4==(4&t[2])}function Ne(t){return 128==(128&t[2])}function De(t,e){return null==e?null:t[e]}function Pe(t){t[18]=0}function Re(t,e){t[5]+=e;for(var n=t,r=t[3];null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}var Me={lFrame:nn(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Le(){return Me.bindingsEnabled}function Fe(){return Me.lFrame.lView}function Ve(){return Me.lFrame.tView}function Ue(t){return Me.lFrame.contextLView=t,t[8]}function je(){for(var t=qe();null!==t&&64===t.type;)t=t.parent;return t}function qe(){return Me.lFrame.currentTNode}function Be(t,e){var n=Me.lFrame;n.currentTNode=t,n.isParent=e}function He(){return Me.lFrame.isParent}function ze(){return Me.isInCheckNoChangesMode}function Ge(t){Me.isInCheckNoChangesMode=t}function Ke(){return Me.lFrame.bindingIndex}function We(){return Me.lFrame.bindingIndex++}function Qe(t){var e=Me.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Ye(t){Me.lFrame.currentDirectiveIndex=t}function Xe(){return Me.lFrame.currentQueryIndex}function Ze(t){Me.lFrame.currentQueryIndex=t}function Je(t){var e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function $e(t,e,n){if(n&Pt.SkipSelf){for(var r=e,i=t;!(null!==(r=r.parent)||n&Pt.Host||(r=Je(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}var o=Me.lFrame=en();return o.currentTNode=e,o.lView=t,!0}function tn(t){var e=en(),n=t[1];Me.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function en(){var t=Me.lFrame,e=null===t?null:t.child;return null===e?nn(t):e}function nn(t){var e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function rn(){var t=Me.lFrame;return Me.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var on=rn;function an(){var t=rn();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function sn(){return Me.lFrame.selectedIndex}function un(t){Me.lFrame.selectedIndex=t}function cn(){var t=Me.lFrame;return Ae(t.tView,t.selectedIndex)}function ln(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n].type.prototype,o=i.ngAfterContentInit,a=i.ngAfterContentChecked,s=i.ngAfterViewInit,u=i.ngAfterViewChecked,c=i.ngOnDestroy;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),u&&((t.viewHooks||(t.viewHooks=[])).push(n,u),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,u)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function hn(t,e,n){pn(t,e,3,n)}function fn(t,e,n,r){(3&t[2])===n&&pn(t,e,n,r)}function dn(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function pn(t,e,n,r){for(var i=null!=r?r:-1,o=e.length-1,a=0,s=void 0!==r?65535&t[18]:0;s<o;s++)if("number"==typeof e[s+1]){if(a=e[s],null!=r&&a>=r)break}else e[s]<0&&(t[18]+=65536),(a<i||-1==i)&&(vn(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function vn(t,e,n,r){var i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}var gn=function t(e,n,r){v(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function mn(t,e,n){for(var r=Ie(t),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?t.setAttribute(e,s,u,a):e.setAttributeNS(a,s,u)}else{var c=o,l=n[++i];bn(c)?r&&t.setProperty(e,c,l):r?t.setAttribute(e,c,l):e.setAttribute(c,l),i++}}return i}function yn(t){return 3===t||4===t||6===t}function bn(t){return 64===t.charCodeAt(0)}function wn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,r=0;r<e.length;r++){var i=e[r];"number"==typeof i?n=i:0===n||_n(t,n,i,null,-1===n||2===n?e[++r]:null)}return t}function _n(t,e,n,r,i){var o=0,a=t.length;if(-1===e)a=-1;else for(;o<t.length;){var s=t[o++];if("number"==typeof s){if(s===e){a=-1;break}if(s>e){a=o-1;break}}}for(;o<t.length;){var u=t[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function kn(t){return-1!==t}function In(t){return 32767&t}function Sn(t,e){for(var n=t>>16,r=e;n>0;)r=r[15],n--;return r}var En=!0;function Cn(t){var e=En;return En=t,e}var Tn=0;function An(t,e){var n=On(t,e);if(-1!==n)return n;var r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,xn(r.data,t),xn(e,null),xn(r.blueprint,null));var i=Nn(t,e),o=t.injectorIndex;if(kn(i))for(var a=In(i),s=Sn(i,e),u=s[1].data,c=0;c<8;c++)e[o+c]=s[a+c]|u[a+c];return e[o+8]=i,o}function xn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function On(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Nn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=0,r=null,i=e;null!==i;){var o=i[1],a=o.type;if(null===(r=2===a?o.declTNode:1===a?i[6]:null))return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Dn(t,e,n){!function(t,e,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Jt)&&(r=n[Jt]),null==r&&(r=n[Jt]=Tn++);var i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Pn(t,e,n){if(n&Pt.Optional)return t;kt(e,"NodeInjector")}function Rn(t,e,n,r){if(n&Pt.Optional&&void 0===r&&(r=null),0==(n&(Pt.Self|Pt.Host))){var i=t[9],o=Rt(void 0);try{return i?i.get(e,r,n&Pt.Optional):Mt(e,r,n&Pt.Optional)}finally{Rt(o)}}return Pn(r,e,n)}function Mn(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Pt.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t.hasOwnProperty(Jt)?t[Jt]:void 0;return"number"==typeof e?e>=0?255&e:Fn:e}(n);if("function"==typeof o){if(!$e(e,t,r))return r&Pt.Host?Pn(i,n,r):Rn(e,n,r,i);try{var a=o(r);if(null!=a||r&Pt.Optional)return a;kt(n)}finally{on()}}else if("number"==typeof o){var s=null,u=On(t,e),c=-1,l=r&Pt.Host?e[16][6]:null;for((-1===u||r&Pt.SkipSelf)&&(-1!==(c=-1===u?Nn(t,e):e[u+8])&&Bn(r,!1)?(s=e[1],u=In(c),e=Sn(c,e)):u=-1);-1!==u;){var h=e[1];if(qn(o,u,h.data)){var f=Vn(u,e,n,s,r,l);if(f!==Ln)return f}-1!==(c=e[u+8])&&Bn(r,e[1].data[u+8]===l)&&qn(o,u,e)?(s=h,u=In(c),e=Sn(c,e)):u=-1}}}return Rn(e,n,r,i)}var Ln={};function Fn(){return new Hn(je(),Fe())}function Vn(t,e,n,r,i,o){var a=e[1],s=a.data[t+8],u=Un(s,a,n,null==r?fe(s)&&En:r!=a&&0!=(3&s.type),i&Pt.Host&&o===s);return null!==u?jn(e,a,u,s):Ln}function Un(t,e,n,r,i){for(var o=t.providerIndexes,a=e.data,s=1048575&o,u=t.directiveStart,c=o>>20,l=i?s+c:t.directiveEnd,h=r?s:s+c;h<l;h++){var f=a[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=a[u];if(d&&pe(d)&&d.type===n)return u}return null}function jn(t,e,n,r){var i=t[n],o=e.data;if(i instanceof gn){var a=i;a.resolving&&function(t,e){throw new bt("200","Circular dependency in DI detected for ".concat(t))}(_t(o[n]));var s=Cn(a.canSeeViewProviders);a.resolving=!0;var u=a.injectImpl?Rt(a.injectImpl):null;$e(t,r,Pt.Default);try{i=t[n]=a.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r=e.type.prototype,i=r.ngOnChanges,o=r.ngOnInit,a=r.ngDoCheck;if(i){var s=be(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,o),a&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,a))}(n,o[n],e)}finally{null!==u&&Rt(u),Cn(s),a.resolving=!1,on()}}return i}function qn(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Bn(t,e){return!(t&Pt.Self||t&Pt.Host&&e)}var Hn=function(){function t(e,n){v(this,t),this._tNode=e,this._lView=n}return m(t,[{key:"get",value:function(t,e){return Mn(this._tNode,this._lView,t,void 0,e)}}]),t}();function zn(t){return Lt(function(){for(var e=t.prototype.constructor,n=e[Zt]||Gn(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;i&&i!==r;){var o=i[Zt]||Gn(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return function(t){return new t}})}function Gn(t){return yt(t)?function(){var e=Gn(mt(t));return e&&e()}:ve(t)}function Kn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(yn(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}return null}(je(),t)}function Wn(t,e,n){return Lt(function(){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=a(i,e);return s.annotation=o,s;function s(t,e,n){for(var r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Qn=function(){function t(e,n){v(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=It({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return m(t,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),t}(),Yn=new Qn("AnalyzeForEntryComponents"),Xn=Function;function Zn(t,e){void 0===e&&(e=t);for(var n=0;n<t.length;n++){var r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),Zn(r,e)):e!==t&&e.push(r)}return e}function Jn(t,e){t.forEach(function(t){return Array.isArray(t)?Jn(t,e):e(t)})}function $n(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function tr(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function er(t,e,n){var r=rr(t,e);return r>=0?t[1|r]=n:function(t,e,n,r){var i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r=~r,e,n),r}function nr(t,e){var n=rr(t,e);if(n>=0)return t[1|n]}function rr(t,e){return function(t,e,n){for(var r=0,i=t.length>>1;i!==r;){var o=r+(i-r>>1),a=t[o<<1];if(e===a)return o<<1;a>e?i=o:r=o+1}return~(i<<1)}(t,e)}var ir,or={},ar=/\n/gm,sr=ht({provide:String,useValue:ht});function ur(t){var e=ir;return ir=t,e}function cr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pt.Default;if(void 0===ir)throw new Error("inject() must be called from an injection context");return null===ir?Mt(t,void 0,e):ir.get(t,e&Pt.Optional?null:void 0,e)}function lr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pt.Default;return(At||cr)(mt(t),e)}function hr(t){for(var e=[],n=0;n<t.length;n++){var r=mt(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=Pt.Default,a=0;a<r.length;a++){var s=r[a],u=s.__NG_DI_FLAG__;"number"==typeof u?-1===u?i=s.token:o|=u:i=s}e.push(lr(i,o))}else e.push(lr(r))}return e}function fr(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}var dr=fr(Wn("Inject",function(t){return{token:t}}),-1),pr=fr(Wn("Optional"),8),vr=fr(Wn("SkipSelf"),4),gr=function(){function t(e){v(this,t),this.changingThisBreaksApplicationSecurity=e}return m(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity," (see https://g.co/ng/security#xss)")}}]),t}();function mr(t){return t instanceof gr?t.changingThisBreaksApplicationSecurity:t}var yr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,br=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,wr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function _r(t){var e,n,r=(e=Fe())&&e[12];return r?r.sanitize(wr.URL,t)||"":function(t,e){var n=function(t){return t instanceof gr&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===e}(t,"URL")?mr(t):(n=wt(t),(n=String(n)).match(yr)||n.match(br)?n:"unsafe:"+n)}function kr(t,e){t.__ngContext__=e}function Ir(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Sr(t){return t.ngDebugContext}function Er(t){return t.ngOriginalError}function Cr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var Tr=function(){function t(){v(this,t),this._console=console}return m(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Cr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?Sr(t)?Sr(t):this._findContext(Er(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=Er(t);e&&Er(e);)e=Er(e);return e}}]),t}(),Ar=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ht);function xr(t){return t instanceof Function?t():t}var Or=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Nr(t,e){return(void 0)(t,e)}function Dr(t){var e=t[3];return le(e)?e[3]:e}function Pr(t){return Mr(t[13])}function Rr(t){return Mr(t[4])}function Mr(t){for(;null!==t&&!le(t);)t=t[4];return t}function Lr(t,e,n,r,i){if(null!=r){var o,a=!1;le(r)?o=r:ce(r)&&(a=!0,r=r[0]);var s=Ee(r);0===t&&null!==n?null==i?Hr(e,n,s):Br(e,n,s,i||null,!0):1===t&&null!==n?Br(e,n,s,i||null,!0):2===t?function(t,e,n){var r=Gr(t,e);r&&function(t,e,n,r){Ie(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,s,a):3===t&&e.destroyNode(s),null!=o&&function(t,e,n,r,i){var o=n[7];o!==Ee(n)&&Lr(e,t,r,o,i);for(var a=10;a<n.length;a++){var s=n[a];Zr(s[1],s,t,e,r,o)}}(e,t,o,n,i)}}function Fr(t,e,n){return Ie(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Vr(t,e){var n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Re(i,-1)),n.splice(r,1)}function Ur(t,e){if(!(t.length<=10)){var n,r=10+e,i=t[r];if(i){var o=i[17];null!==o&&o!==t&&Vr(o,i),e>0&&(t[r-1][4]=i[4]);var a=tr(t,10+e);Zr(i[1],n=i,n[11],2,null,null),n[0]=null,n[6]=null;var s=a[19];null!==s&&s.detachView(a[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function jr(t,e){if(!(256&e[2])){var n=e[11];Ie(n)&&n.destroyNode&&Zr(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return qr(t[1],t);for(;e;){var n=null;if(ce(e))n=e[13];else{var r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)ce(e)&&qr(e[1],e),e=e[3];null===e&&(e=t),ce(e)&&qr(e[1],e),n=e&&e[4]}e=n}}(e)}}function qr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var r=0;r<n.length;r+=2){var i=e[n[r]];if(!(i instanceof gn)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2){var s=i[o[a]],u=o[a+1];try{u.call(s)}finally{}}else try{o.call(i)}finally{}}}}(t,e),function(t,e){var n=t.cleanup,r=e[7],i=-1;if(null!==n)for(var o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){var a=n[o+1],s="function"==typeof a?a(e):Ee(e[a]),u=r[i=n[o+2]],c=n[o+3];"boolean"==typeof c?s.removeEventListener(n[o],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{var l=r[i=n[o+1]];n[o].call(l)}if(null!==r){for(var h=i+1;h<r.length;h++)(0,r[h])();e[7]=null}}(t,e),1===e[1].type&&Ie(e[11])&&e[11].destroy();var n=e[17];if(null!==n&&le(e[3])){n!==e[3]&&Vr(n,e);var r=e[19];null!==r&&r.detachView(t)}}}function Br(t,e,n,r,i){Ie(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Hr(t,e,n){Ie(t)?t.appendChild(e,n):e.appendChild(n)}function zr(t,e,n,r,i){null!==r?Br(t,e,n,r,i):Hr(t,e,n)}function Gr(t,e){return Ie(t)?t.parentNode(e):e.parentNode}function Kr(t,e,n,r){var i=function(t,e,n){return function(t,e,n){for(var r=e;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){var i=t.data[r.directiveStart].encapsulation;if(i===Vt.None||i===Vt.Emulated)return null}return Te(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],a=function(t,e,n){return function(t,e,n){return 40&t.type?Te(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(var s=0;s<n.length;s++)zr(o,i,n[s],a,!1);else zr(o,i,n,a,!1)}function Wr(t,e){if(null!==e){var n=e.type;if(3&n)return Te(e,t);if(4&n)return Yr(-1,t[e.index]);if(8&n){var r=e.child;if(null!==r)return Wr(t,r);var i=t[e.index];return le(i)?Yr(-1,i):Ee(i)}if(32&n)return Nr(e,t)()||Ee(t[e.index]);var o=Qr(t,e);return null!==o?Array.isArray(o)?o[0]:Wr(Dr(t[16]),o):Wr(t,e.next)}return null}function Qr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Yr(t,e){var n=10+t+1;if(n<e.length){var r=e[n],i=r[1].firstChild;if(null!==i)return Wr(r,i)}return e[7]}function Xr(t,e,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;if(a&&0===e&&(s&&kr(Ee(s),r),n.flags|=4),64!=(64&n.flags))if(8&u)Xr(t,e,n.child,r,i,o,!1),Lr(e,t,i,s,o);else if(32&u){for(var c=Nr(n,r),l=void 0;l=c();)Lr(e,t,i,l,o);Lr(e,t,i,s,o)}else 16&u?Jr(t,e,r,n,i,o):Lr(e,t,i,s,o);n=a?n.projectionNext:n.next}}function Zr(t,e,n,r,i,o){Xr(n,r,t.firstChild,e,i,o,!1)}function Jr(t,e,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)Lr(e,t,i,s[u],o);else Xr(t,e,s,a[3],i,o,!0)}function $r(t,e,n){Ie(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ti(t,e,n){Ie(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function ei(t,e,n){for(var r=t.length;;){var i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function ni(t,e,n){for(var r=0;r<t.length;){var i=t[r++];if(n&&"class"===i){if(-1!==ei((i=t[r]).toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ri(t){return 4===t.type&&"ng-template"!==t.value}function ii(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function oi(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(yn(t[e]))return e;return t.length}(i),a=!1,s=0;s<e.length;s++){var u=e[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!ii(t,u,n)||""===u&&1===e.length){if(ai(r))return!1;a=!0}}else{var c=8&r?u:e[++s];if(8&r&&null!==t.attrs){if(!ni(t.attrs,c,n)){if(ai(r))return!1;a=!0}continue}var l=si(8&r?"class":u,i,ri(t),n);if(-1===l){if(ai(r))return!1;a=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==ei(f,c,0)||2&r&&c!==h){if(ai(r))return!1;a=!0}}}}else{if(!a&&!ai(r)&&!ai(u))return!1;if(a&&ai(u))continue;a=!1,r=u|1&r}}return ai(r)||a}function ai(t){return 0==(1&t)}function si(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var a=e[i];if(a===t)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=e[++i];"string"==typeof s;)s=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ui(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r++)if(oi(t,e[r],n))return!0;return!1}function ci(t,e){return t?":not("+e.trim()+")":e}function li(t){for(var e=t[0],n=1,r=2,i="",o=!1;n<t.length;){var a=t[n];if("string"==typeof a)if(2&r){var s=t[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||ai(a)||(e+=ci(o,i),i=""),r=a,o=o||!ai(r);n++}return""!==i&&(e+=ci(o,i)),e}var hi={};function fi(t){di(Ve(),Fe(),sn()+t,ze())}function di(t,e,n,r){if(!r)if(3==(3&e[2])){var i=t.preOrderCheckHooks;null!==i&&hn(e,i,n)}else{var o=t.preOrderHooks;null!==o&&fn(e,o,0,n)}un(n)}function pi(t,e){return t<<17|e<<2}function vi(t){return t>>17&32767}function gi(t){return 2|t}function mi(t){return(131068&t)>>2}function yi(t,e){return-131069&t|e<<2}function bi(t){return 1|t}function wi(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var a=t.data[o];Ze(i),a.contentQueries(2,e[o],o)}}}function _i(t,e,n,r,i,o,a,s,u,c){var l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Pe(l),l[3]=l[15]=t,l[8]=n,l[10]=a||t&&t[10],l[11]=s||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function ki(t,e,n,r,i){var o,a,s=t.data[e];if(null===s)s=function(t,e,n,r,i){var o=qe(),a=He(),s=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=s),null!==o&&(a?null==o.child&&null!==s.parent&&(o.child=s):null===o.next&&(o.next=s)),s}(t,e,n,r,i),Me.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;var u=(o=Me.lFrame,a=o.currentTNode,o.isParent?a:a.parent);s.injectorIndex=null===u?-1:u.injectorIndex}return Be(s,!0),s}function Ii(t,e,n,r){if(0===n)return-1;for(var i=e.length,o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Si(t,e,n){tn(e);try{var r=t.viewQuery;null!==r&&$i(1,r,n);var i=t.template;null!==i&&Ti(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&wi(t,e),t.staticViewQueries&&$i(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)Qi(t,e[n])}(e,o)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),a}finally{e[2]&=-5,an()}}function Ei(t,e,n,r){var i=e[2];if(256!=(256&i)){tn(e);var o=ze();try{Pe(e),Me.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ti(t,e,n,2,r);var a=3==(3&i);if(!o)if(a){var s=t.preOrderCheckHooks;null!==s&&hn(e,s,null)}else{var u=t.preOrderHooks;null!==u&&fn(e,u,0,null),dn(e,0)}if(function(t){for(var e=Pr(t);null!==e;e=Rr(e))if(e[2])for(var n=e[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&Re(o,1),i[2]|=1024}}(e),function(t){for(var e=Pr(t);null!==e;e=Rr(e))for(var n=10;n<e.length;n++){var r=e[n],i=r[1];Ne(r)&&Ei(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&wi(t,e),!o)if(a){var c=t.contentCheckHooks;null!==c&&hn(e,c)}else{var l=t.contentHooks;null!==l&&fn(e,l,1),dn(e,1)}!function(t,e){var n,r,i,o=t.hostBindingOpCodes;if(null!==o)try{for(var a=0;a<o.length;a++){var s=o[a];if(s<0)un(~s);else{var u=s,c=o[++a],l=o[++a];n=c,r=u,i=void 0,(i=Me.lFrame).bindingIndex=i.bindingRootIndex=n,Ye(r),l(2,e[u])}}}finally{un(-1)}}(t,e);var h=t.components;null!==h&&function(t,e){for(var n=0;n<e.length;n++)Ki(t,e[n])}(e,h);var f=t.viewQuery;if(null!==f&&$i(2,f,r),!o)if(a){var d=t.viewCheckHooks;null!==d&&hn(e,d)}else{var p=t.viewHooks;null!==p&&fn(e,p,2),dn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Re(e[3],-1))}finally{an()}}}function Ci(t,e,n,r){var i=e[10],o=!ze(),a=Oe(e);try{o&&!a&&i.begin&&i.begin(),a&&Si(t,e,r),Ei(t,e,n,r)}finally{o&&!a&&i.end&&i.end()}}function Ti(t,e,n,r,i){var o=sn(),a=2&r;try{un(-1),a&&e.length>20&&di(t,e,20,ze()),n(r,i)}finally{un(o)}}function Ai(t,e,n){Le()&&(function(t,e,n,r){var i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||An(n,e),kr(r,e);for(var a=n.initialInputs,s=i;s<o;s++){var u=t.data[s],c=pe(u);c&&Bi(e,n,u);var l=jn(e,t,s,n);kr(l,e),null!==a&&Hi(0,s-i,l,u,0,a),c&&(xe(n.index,e)[8]=l)}}(t,e,n,Te(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=n.index,a=Me.lFrame.currentDirectiveIndex;try{un(o);for(var s=r;s<i;s++){var u=t.data[s],c=e[s];Ye(s),null===u.hostBindings&&0===u.hostVars&&null===u.hostAttrs||Fi(u,c)}}finally{un(-1),Ye(a)}}(t,e,n))}function xi(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Te,r=e.localNames;if(null!==r)for(var i=e.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(e,t):t[a];t[i++]=s}}function Oi(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ni(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ni(t,e,n,r,i,o,a,s,u,c){var l=20+r,h=l+i,f=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:hi);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:s,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Di(t,e,n,r){var i=eo(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&no(t).push(r,i.length-1))}function Pi(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ri(t,e,n,r,i,o,a,s){var u,c,l=Te(e,n),h=e.inputs;!s&&null!=h&&(u=h[r])?(io(t,n,u,r,i),fe(e)&&function(t,e){var n=xe(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(c=r)?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c,i=null!=a?a(i,e.value||"",r):i,Ie(o)?o.setProperty(l,r,i):bn(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function Mi(t,e,n,r){var i=!1;if(Le()){var o=function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];ui(n,a.selectors,!1)&&(i||(i=[]),Dn(An(n,e),t,a.type),pe(a)?(Vi(t,n),i.unshift(a)):i.push(a))}return i}(t,e,n),a=null===r?null:{"":-1};if(null!==o){i=!0,ji(n,t.data.length,o.length);for(var s=0;s<o.length;s++){var u=o[s];u.providersResolver&&u.providersResolver(u)}for(var c=!1,l=!1,h=Ii(t,e,o.length,null),f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=wn(n.mergedAttrs,d.hostAttrs),qi(t,n,e,h,d),Ui(h,d,a),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128);var p=d.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),c=!0),l||!p.ngOnChanges&&!p.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),l=!0),h++}!function(t,e){for(var n=e.directiveEnd,r=t.data,i=e.attrs,o=[],a=null,s=null,u=e.directiveStart;u<n;u++){var c=r[u],l=c.inputs,h=null===i||ri(e)?null:zi(l,i);o.push(h),a=Pi(l,u,a),s=Pi(c.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=s}(t,n)}a&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new bt("301","Export of name '".concat(e[i+1],"' not found!"));r.push(e[i],o)}}(n,r,a)}return n.mergedAttrs=wn(n.mergedAttrs,n.attrs),i}function Li(t,e,n,r,i,o){var a=o.hostBindings;if(a){var s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);var u=~e.index;(function(t){for(var e=t.length;e>0;){var n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=u&&s.push(u),s.push(r,i,a)}}function Fi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Vi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Ui(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;pe(e)&&(n[""]=t)}}function ji(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function qi(t,e,n,r,i){t.data[r]=i;var o=i.factory||(i.factory=ve(i.type)),a=new gn(o,pe(i),null);t.blueprint[r]=a,n[r]=a,Li(t,e,0,r,Ii(t,n,i.hostVars,hi),i)}function Bi(t,e,n){var r=Te(e,t),i=Oi(n),o=t[10],a=Yi(t,_i(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=a}function Hi(t,e,n,r,i,o){var a=o[e];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var c=a[u++],l=a[u++],h=a[u++];null!==s?r.setInput(n,h,c,l):n[l]=h}}function zi(t,e){for(var n=null,r=0;r<e.length;){var i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Gi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Ki(t,e){var n=xe(e,t);if(Ne(n)){var r=n[1];80&n[2]?Ei(r,n,r.template,n[8]):n[5]>0&&Wi(n)}}function Wi(t){for(var e=Pr(t);null!==e;e=Rr(e))for(var n=10;n<e.length;n++){var r=e[n];if(1024&r[2]){var i=r[1];Ei(i,r,i.template,r[8])}else r[5]>0&&Wi(r)}var o=t[1].components;if(null!==o)for(var a=0;a<o.length;a++){var s=xe(o[a],t);Ne(s)&&s[5]>0&&Wi(s)}}function Qi(t,e){var n=xe(e,t),r=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Si(r,n,n[8])}function Yi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Xi(t){for(;t;){t[2]|=64;var e=Dr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Zi(t,e,n){var r=e[10];r.begin&&r.begin();try{Ei(t,e,t.template,n)}catch(i){throw ro(e,i),i}finally{r.end&&r.end()}}function Ji(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=Ir(n),i=r[1];Ci(i,r,i.template,n)}}(t[8])}function $i(t,e,n){Ze(0),e(t,n)}var to=Promise.resolve(null);function eo(t){return t[7]||(t[7]=[])}function no(t){return t.cleanup||(t.cleanup=[])}function ro(t,e){var n=t[9],r=n?n.get(Tr,null):null;r&&r.handleError(e)}function io(t,e,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=e[a],c=t.data[a];null!==c.setInput?c.setInput(u,i,r,s):u[s]=i}}function oo(t,e,n){var r=Ce(e,t);!function(t,e,n){Ie(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function ao(t,e,n){var r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(var a=0;a<e.length;a++){var s=e[a];"number"==typeof s?o=s:1==o?i=pt(i,s):2==o&&(r=pt(r,s+": "+e[++a]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var so,uo=new Qn("INJECTOR",-1),co=function(){function t(){v(this,t)}return m(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:or;if(e===or){var n=new Error("NullInjectorError: No provider for ".concat(dt(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),lo=new Qn("Set Injector scope."),ho={},fo={};function po(){return void 0===so&&(so=new co),so}function vo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new go(t,n,e||po(),r)}var go=function(){function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;v(this,t),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&Jn(n,function(t){return i.processProvider(t,e,n)}),Jn([e],function(t){return i.processInjectorType(t,[],a)}),this.records.set(uo,bo(void 0,this));var s=this.records.get(lo);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof e?null:dt(e))}return m(t,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(t){return t.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:or,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pt.Default;this.assertNotDestroyed();var r,i=ur(this);try{if(!(n&Pt.SkipSelf)){var o=this.records.get(t);if(void 0===o){var a=("function"==typeof(r=t)||"object"==typeof r&&r instanceof Qn)&&Et(t);o=a&&this.injectableDefInScope(a)?bo(mo(t),ho):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&Pt.Self?po():this.parent).get(t,e=n&Pt.Optional&&e===or?null:e)}catch(tT){if("NullInjectorError"===tT.name){if((tT.ngTempTokenPath=tT.ngTempTokenPath||[]).unshift(dt(t)),i)throw tT;return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=dt(e);if(Array.isArray(e))i=e.map(dt).join(" -> ");else if("object"==typeof e){var o=[];for(var a in e)if(e.hasOwnProperty(a)){var s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):dt(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(ar,"\n  "))}("\n"+t.message,i,"R3InjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(tT,t,0,this.source)}throw tT}finally{ur(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach(function(e){return t.get(e)})}},{key:"toString",value:function(){var t=[];return this.records.forEach(function(e,n){return t.push(dt(n))}),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var r=this;if(!(t=mt(t)))return!1;var i=Tt(t),o=null==i&&t.ngModule||void 0,a=void 0===o?t:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=Tt(o)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(a);try{Jn(i.imports,function(t){r.processInjectorType(t,e,n)&&(void 0===u&&(u=[]),u.push(t))})}finally{}if(void 0!==u)for(var c=function(t){var e=u[t],n=e.ngModule,i=e.providers;Jn(i,function(t){return r.processProvider(t,n,i||Gt)})},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(a);var h=ve(a)||function(){return new a};this.records.set(a,bo(h,ho));var f=i.providers;if(null!=f&&!s){var d=t;Jn(f,function(t){return r.processProvider(t,d,f)})}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var r=_o(t=mt(t))?t:mt(t&&t.provide),i=function(t,e,n){return wo(t)?bo(void 0,t.useValue):bo(yo(t),ho)}(t);if(_o(t)||!0!==t.multi)this.records.get(r);else{var o=this.records.get(r);o||((o=bo(void 0,ho,!0)).factory=function(){return hr(o.multi)},this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,i)}},{key:"hydrate",value:function(t,e){var n;return e.value===ho&&(e.value=fo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){if(!t.providedIn)return!1;var e=mt(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}]),t}();function mo(t){var e=Et(t),n=null!==e?e.factory:ve(t);if(null!==n)return n;if(t instanceof Qn)throw new Error("Token ".concat(dt(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=function(t,e){for(var n=[],r=0;r<t;r++)n.push("?");return n}(e);throw new Error("Can't resolve all parameters for ".concat(dt(t),": (").concat(n.join(", "),")."))}var r=function(t){var e=t&&(t[xt]||t[Nt]);if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function yo(t,e,r){var i,o;if(_o(t)){var s=mt(t);return ve(s)||mo(s)}if(wo(t))i=function(){return mt(t.useValue)};else if((o=t)&&o.useFactory)i=function(){return t.useFactory.apply(t,n(hr(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))i=function(){return lr(mt(t.useExisting))};else{var u=mt(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return ve(u)||mo(u);i=function(){return a(u,n(hr(t.deps)))}}return i}function bo(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function wo(t){return null!==t&&"object"==typeof t&&sr in t}function _o(t){return"function"==typeof t}var ko=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=vo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)},Io=function(){var t=function(){function t(){v(this,t)}return m(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?ko(t,e,""):ko(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=or,t.NULL=new co,t.\u0275prov=It({token:t,providedIn:"any",factory:function(){return lr(uo)}}),t.__NG_ELEMENT_ID__=-1,t}();function So(t,e){ln(Ir(t)[1],je())}function Eo(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,r=[t];e;){var i=void 0;if(pe(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);var o=t;o.inputs=Co(t.inputs),o.declaredInputs=Co(t.declaredInputs),o.outputs=Co(t.outputs);var a=i.hostBindings;a&&xo(t,a);var s=i.viewQuery,u=i.contentQueries;if(s&&To(t,s),u&&Ao(t,u),ft(t.inputs,i.inputs),ft(t.declaredInputs,i.declaredInputs),ft(t.outputs,i.outputs),pe(i)&&i.data.animation){var c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}var l=i.features;if(l)for(var h=0;h<l.length;h++){var f=l[h];f&&f.ngInherit&&f(t),f===Eo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,r=t.length-1;r>=0;r--){var i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=wn(i.hostAttrs,n=wn(n,i.hostAttrs))}}(r)}function Co(t){return t===zt?{}:t===Gt?[]:t}function To(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,r){e(t,r),n(t,r)}:e}function Ao(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,r,i){e(t,r,i),n(t,r,i)}:e}function xo(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,r){e(t,r),n(t,r)}:e}var Oo=null;function No(){if(!Oo){var t=Ht.Symbol;if(t&&t.iterator)Oo=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Oo=r)}}return Oo}var Do=function(){function t(e){v(this,t),this.wrapped=e}return m(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function Po(t){return!!Ro(t)&&(Array.isArray(t)||!(t instanceof Map)&&No()in t)}function Ro(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Mo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Lo(t,e,n,r){var i=Mo(t,e,n);return Mo(t,e+1,r)||i}function Fo(t,e,n,r){var i=Fe();return Mo(i,We(),e)&&(Ve(),function(t,e,n,r,i,o){var a=Te(t,e);!function(t,e,n,r,i,o,a){if(null==o)Ie(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{var s=null==a?wt(o):a(o,r||"",i);Ie(t)?t.setAttribute(e,i,s,n):n?e.setAttributeNS(n,i,s):e.setAttribute(i,s)}}(e[11],a,o,t.value,n,r,i)}(cn(),i,t,e,n,r)),Fo}function Vo(t,e,n,r){return Mo(t,We(),n)?e+wt(n)+r:hi}function Uo(t,e,n,r,i,o,a,s){var u=Fe(),c=Ve(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,a,s,u){var c=e.consts,l=ki(e,t,4,a||null,De(c,s));Mi(e,n,l,De(c,u)),ln(e,l);var h=l.tViews=Ni(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,a):c.data[l];Be(h,!1);var f=u[11].createComment("");Kr(c,u,f,h),kr(f,u),Yi(u,u[l]=Gi(f,u,f,h)),de(h)&&Ai(c,u,h),null!=a&&xi(u,h,s)}function jo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pt.Default,n=Fe();return null===n?lr(t,e):Mn(je(),n,mt(t),e)}function qo(t,e,n){var r=Fe();return Mo(r,We(),e)&&Ri(Ve(),cn(),r,t,e,r[11],n,!1),qo}function Bo(t,e,n,r,i){var o=i?"class":"style";io(t,n,e.inputs[o],o,r)}function Ho(t,e,n,r){var i=Fe(),o=Ve(),a=20+t,s=i[11],u=i[a]=Fr(s,e,Me.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,a){var s=e.consts,u=ki(e,t,2,i,De(s,o));return Mi(e,n,u,De(s,a)),null!==u.attrs&&ao(u,u.attrs,!1),null!==u.mergedAttrs&&ao(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(a,o,i,0,e,n,r):o.data[a];Be(c,!0);var l=c.mergedAttrs;null!==l&&mn(s,u,l);var h=c.classes;null!==h&&ti(s,u,h);var f=c.styles;null!==f&&$r(s,u,f),64!=(64&c.flags)&&Kr(o,i,u,c),0===Me.lFrame.elementDepthCount&&kr(u,i),Me.lFrame.elementDepthCount++,de(c)&&(Ai(o,i,c),function(t,e,n){if(he(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}(o,c,i)),null!==r&&xi(i,c)}function zo(){var t=je();He()?Me.lFrame.isParent=!1:Be(t=t.parent,!1);var e=t;Me.lFrame.elementDepthCount--;var n=Ve();n.firstCreatePass&&(ln(n,t),he(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Bo(n,e,Fe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Bo(n,e,Fe(),e.stylesWithoutHost,!1)}function Go(t,e,n,r){Ho(t,e,n,r),zo()}function Ko(){return Fe()}function Wo(t){return!!t&&"function"==typeof t.then}var Qo=function(t){return!!t&&"function"==typeof t.subscribe};function Yo(t,e,n,r){var i=Fe(),o=Ve(),a=je();return function(t,e,n,r,i,o,a,s){var u=de(r),c=t.firstCreatePass&&no(t),l=eo(e),h=!0;if(3&r.type||s){var f=Te(r,e),d=s?s(f):f,p=l.length,v=s?function(t){return s(Ee(t[r.index]))}:r.index;if(Ie(n)){var g=null;if(!s&&u&&(g=function(t,e,n,r){var i=t.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=e[7],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}(t,e,i,r.index)),null!==g)(g.__ngLastListenerFn__||g).__ngNextListenerFn__=o,g.__ngLastListenerFn__=o,h=!1;else{o=Zo(r,e,0,o,!1);var m=n.listen(d,i,o);l.push(o,m),c&&c.push(i,v,p,p+1)}}else o=Zo(r,e,0,o,!0),d.addEventListener(i,o,a),l.push(o),c&&c.push(i,v,p,a)}else o=Zo(r,e,0,o,!1);var y,b=r.outputs;if(h&&null!==b&&(y=b[i])){var w=y.length;if(w)for(var _=0;_<w;_+=2){var k=e[y[_]][y[_+1]].subscribe(o),I=l.length;l.push(o,k),c&&c.push(i,r.index,I,-(I+1))}}}(o,i,i[11],a,t,e,!!n,r),Yo}function Xo(t,e,n,r){try{return!1!==n(r)}catch(i){return ro(t,i),!1}}function Zo(t,e,n,r,i){return function n(o){if(o===Function)return r;var a=2&t.flags?xe(t.index,e):e;0==(32&e[2])&&Xi(a);for(var s=Xo(e,0,r,o),u=n.__ngNextListenerFn__;u;)s=Xo(e,0,u,o)&&s,u=u.__ngNextListenerFn__;return i&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function Jo(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(Me.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Me.lFrame.contextLView))[8]}(t)}function $o(t,e,n){return ta(t,"",e,"",n),$o}function ta(t,e,n,r,i){var o=Fe(),a=Vo(o,e,n,r);return a!==hi&&Ri(Ve(),cn(),o,t,a,o[11],i,!1),ta}function ea(t,e,n,r,i){for(var o=t[n+1],a=null===e,s=r?vi(o):mi(o),u=!1;0!==s&&(!1===u||a);){var c=t[s+1];na(t[s],e)&&(u=!0,t[s+1]=r?bi(c):gi(c)),s=r?vi(c):mi(c)}u&&(t[n+1]=r?gi(o):bi(o))}function na(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&rr(t,e)>=0}var ra={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ia(t){return t.substring(ra.key,ra.keyEnd)}function oa(t,e){var n=ra.textEnd;return n===e?-1:(e=ra.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,ra.key=e,n),aa(t,e,n))}function aa(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function sa(t,e){return function(t,e,n,r){var i=Fe(),o=Ve(),a=Qe(2);o.firstUpdatePass&&ha(o,t,a,!0),e!==hi&&Mo(i,a,e)&&pa(o,o.data[sn()],i,i[11],t,i[a+1]=function(t,e){return null==t||"object"==typeof t&&(t=dt(mr(t))),t}(e),!0,a)}(t,e),sa}function ua(t){!function(t,e,n,r){var i=Ve(),o=Qe(2);i.firstUpdatePass&&ha(i,null,o,!0);var a=Fe();if(n!==hi&&Mo(a,o,n)){var s=i.data[sn()];if(ma(s,!0)&&!la(i,o)){var u=s.classesWithoutHost;null!==u&&(n=pt(u,n||"")),Bo(i,s,a,n,!0)}else!function(t,e,n,r,i,o,a,s){i===hi&&(i=Gt);for(var u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;null!==l||null!==h;){var f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0,p=void 0,v=null;l===h?(u+=2,c+=2,f!==d&&(v=h,p=d)):null===h||null!==l&&l<h?(u+=2,v=l):(c+=2,v=h,p=d),null!==v&&pa(t,e,n,r,v,p,!0,s),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,s,a,a[11],a[o+1],a[o+1]=function(t,e,n){if(null==n||""===n)return Gt;var r=[],i=mr(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(var a in i)i.hasOwnProperty(a)&&t(r,a,i[a]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,o)}}(er,ca,t)}function ca(t,e){for(var n=function(t){return function(t){ra.key=0,ra.keyEnd=0,ra.value=0,ra.valueEnd=0,ra.textEnd=t.length}(t),oa(t,aa(t,0,ra.textEnd))}(e);n>=0;n=oa(e,n))er(t,ia(e),!0)}function la(t,e){return e>=t.expandoStartIndex}function ha(t,e,n,r){var i=t.data;if(null===i[n+1]){var o=i[sn()],a=la(t,n);ma(o,r)&&null===e&&!a&&(e=!1),e=function(t,e,n,r){var i=function(t){var e=Me.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t),o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=da(n=fa(null,t,e,n,r),e.attrs,r),o=null);else{var a=e.directiveStylingLast;if(-1===a||t[a]!==i)if(n=fa(i,t,e,n,r),null===o){var s=function(t,e,n){var r=n?e.classBindings:e.styleBindings;if(0!==mi(r))return t[vi(r)]}(t,e,r);void 0!==s&&Array.isArray(s)&&function(t,e,n,r){t[vi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,s=da(s=fa(null,t,e,s[1],r),e.attrs,r))}else o=function(t,e,n){for(var r,i=e.directiveEnd,o=1+e.directiveStylingLast;o<i;o++)r=da(r,t[o].hostAttrs,n);return da(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){var a=o?e.classBindings:e.styleBindings,s=vi(a),u=mi(a);t[r]=n;var c,l=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||rr(h,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var f=vi(t[s+1]);t[r+1]=pi(f,s),0!==f&&(t[f+1]=yi(t[f+1],r)),t[s+1]=131071&t[s+1]|r<<17}else t[r+1]=pi(s,0),0!==s&&(t[s+1]=yi(t[s+1],r)),s=r;else t[r+1]=pi(u,0),0===s?s=r:t[u+1]=yi(t[u+1],r),u=r;l&&(t[r+1]=gi(t[r+1])),ea(t,c,r,!0),ea(t,c,r,!1),function(t,e,n,r,i){var o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&rr(o,e)>=0&&(n[r+1]=bi(n[r+1]))}(e,c,t,r,o),a=pi(s,u),o?e.classBindings=a:e.styleBindings=a}(i,o,e,n,a,r)}}function fa(t,e,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=da(r,(o=e[s]).hostAttrs,i),o!==t);)s++;return null!==t&&(n.directiveStylingLast=s),r}function da(t,e,n){var r=n?1:2,i=-1;if(null!==e)for(var o=0;o<e.length;o++){var a=e[o];"number"==typeof a?i=a:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),er(t,a,!!n||e[++o]))}return void 0===t?null:t}function pa(t,e,n,r,i,o,a,s){if(3&e.type){var u=t.data,c=u[s+1];ga(1==(1&c)?va(u,e,n,i,mi(c),a):void 0)||(ga(o)||2==(2&c)&&(o=va(u,null,n,i,s,a)),function(t,e,n,r,i){var o=Ie(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{var a=-1===r.indexOf("-")?void 0:Or.DashCase;if(null==i)o?t.removeStyle(n,r,a):n.style.removeProperty(r);else{var s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),a|=Or.Important),o?t.setStyle(n,r,i,a):n.style.setProperty(r,i,s?"important":"")}}}(r,a,Ce(sn(),n),i,o))}}function va(t,e,n,r,i,o){for(var a,s=null===e;i>0;){var u=t[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[i+1];f===hi&&(f=h?Gt:void 0);var d=h?nr(f,r):l===r?f:void 0;if(c&&!ga(d)&&(d=nr(u,r)),ga(d)&&(a=d,s))return a;var p=t[i+1];i=s?vi(p):mi(p)}if(null!==e){var v=o?e.residualClasses:e.residualStyles;null!=v&&(a=nr(v,r))}return a}function ga(t){return void 0!==t}function ma(t,e){return 0!=(t.flags&(e?16:32))}function ya(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Fe(),r=Ve(),i=t+20,o=r.firstCreatePass?ki(r,i,1,e,null):r.data[i],a=n[i]=function(t,e){return Ie(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Kr(r,n,a,o),Be(o,!1)}function ba(t){return wa("",t,""),ba}function wa(t,e,n){var r=Fe(),i=Vo(r,t,e,n);return i!==hi&&oo(r,sn(),i),wa}function _a(t,e,n,r,i){var o=Fe(),a=function(t,e,n,r,i,o){var a=Lo(t,Ke(),n,i);return Qe(2),a?e+wt(n)+r+wt(i)+o:hi}(o,t,e,n,r,i);return a!==hi&&oo(o,sn(),a),_a}function ka(t,e,n){var r=Fe();return Mo(r,We(),e)&&Ri(Ve(),cn(),r,t,e,r[11],n,!0),ka}var Ia=void 0,Sa=["en",[["a","p"],["AM","PM"],Ia],[["AM","PM"],Ia,Ia],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ia,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ia,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ia,"{1} 'at' {0}",Ia],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],Ea={};function Ca(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=Ta(e);if(n)return n;var r=e.split("-")[0];if(n=Ta(r))return n;if("en"===r)return Sa;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function Ta(t){return t in Ea||(Ea[t]=Ht.ng&&Ht.ng.common&&Ht.ng.common.locales&&Ht.ng.common.locales[t]),Ea[t]}var Aa=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});function xa(t){var e;null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: ".concat("Expected localeId to be defined"," [Expected=> null != ").concat(e," <=Actual]"))}(0,e),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}function Oa(t,e,n,r,i){if(t=mt(t),Array.isArray(t))for(var o=0;o<t.length;o++)Oa(t[o],e,n,r,i);else{var a=Ve(),s=Fe(),u=_o(t)?t:mt(t.provide),c=yo(t),l=je(),h=1048575&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>20;if(_o(t)||!t.multi){var p=new gn(c,i,jo),v=Pa(u,e,i?h:h+d,f);-1===v?(Dn(An(l,s),a,u),Na(a,t,e.length),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{var g=Pa(u,e,h+d,f),m=Pa(u,e,h,h+d),y=g>=0&&n[g],b=m>=0&&n[m];if(i&&!b||!i&&!y){Dn(An(l,s),a,u);var w=function(t,e,n,r,i){var o=new gn(t,n,jo);return o.multi=[],o.index=e,o.componentProviders=0,Da(o,i,r&&!n),o}(i?Ma:Ra,n.length,i,r,c);!i&&b&&(n[m].providerFactory=w),Na(a,t,e.length,0),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(w),s.push(w)}else Na(a,t,g>-1?g:m,Da(n[i?m:g],c,!i&&r));!i&&r&&b&&n[m].componentProviders++}}}function Na(t,e,n,r){var i=_o(e);if(i||e.useClass){var o=(e.useClass||e).prototype.ngOnDestroy;if(o){var a=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){var s=a.indexOf(n);-1===s?a.push(n,[r,o]):a[s+1].push(r,o)}else a.push(n,o)}}}function Da(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Pa(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function Ra(t,e,n,r){return La(this.multi,[])}function Ma(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=jn(n,n[1],this.providerFactory.index,r);La(o,i=s.slice(0,a));for(var u=a;u<s.length;u++)i.push(s[u])}else La(o,i=[]);return i}function La(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function Fa(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(t,e,n){var r=Ve();if(r.firstCreatePass){var i=pe(t);Oa(n,r.data,r.blueprint,i,!0),Oa(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}}var Va=function t(){v(this,t)},Ua=function(){function t(){v(this,t)}return m(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(dt(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),ja=function(){var t=function t(){v(this,t)};return t.NULL=new Ua,t}();function qa(){}function Ba(t,e){return new za(Te(t,e))}var Ha=function(){return Ba(je(),Fe())},za=function(){var t=function t(e){v(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=Ha,t}();function Ga(t){return t instanceof za?t.nativeElement:t}var Ka=function t(){v(this,t)},Wa=function(){var t=function t(){v(this,t)};return t.__NG_ELEMENT_ID__=function(){return Qa()},t}(),Qa=function(){var t=Fe(),e=xe(je().index,t);return function(t){return t[11]}(ce(e)?e:t)},Ya=function(){var t=function t(){v(this,t)};return t.\u0275prov=It({token:t,providedIn:"root",factory:function(){return null}}),t}(),Xa=new function t(e){v(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}("12.0.1"),Za=function(){function t(){v(this,t)}return m(t,[{key:"supports",value:function(t){return Po(t)}},{key:"create",value:function(t){return new $a(t)}}]),t}(),Ja=function(t,e){return e},$a=function(){function t(e){v(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Ja}return m(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<rs(n,r,i)?e:n,a=rs(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}a!==s&&t(o,a,s)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!Po(t))throw new Error("Error trying to diff '".concat(dt(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)r=t[s],i=this._trackByFn(s,r),null!==o&&Object.is(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Object.is(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[No()]();!(r=i.next()).done;)e(r.value)}(t,function(t){i=e._trackByFn(n,t),null!==o&&Object.is(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),Object.is(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new ts(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ns),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ns),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}]),t}(),ts=function t(e,n){v(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},es=function(){function t(){v(this,t),this._head=null,this._tail=null}return m(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),ns=function(){function t(){v(this,t),this.map=new Map}return m(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new es,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),t}();function rs(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var is=function(){function t(){v(this,t)}return m(t,[{key:"supports",value:function(t){return t instanceof Map||Ro(t)}},{key:"create",value:function(){return new os}}]),t}(),os=function(){function t(){v(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return m(t,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||Ro(t)))throw new Error("Error trying to diff '".concat(dt(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new as(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})}}]),t}(),as=function t(e){v(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null};function ss(){return new us([new Za])}var us=function(){var t=function(){function t(e){v(this,t),this.factories=e}return m(t,[{key:"find",value:function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){return t.create(e,n||ss())},deps:[[t,new vr,new pr]]}}}]),t}();return t.\u0275prov=It({token:t,providedIn:"root",factory:ss}),t}();function cs(){return new ls([new is])}var ls=function(){var t=function(){function t(e){v(this,t),this.factories=e}return m(t,[{key:"find",value:function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){return t.create(e,n||cs())},deps:[[t,new vr,new pr]]}}}]),t}();return t.\u0275prov=It({token:t,providedIn:"root",factory:cs}),t}();function hs(t,e,r,i){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==r;){var a=e[r.index];if(null!==a&&i.push(Ee(a)),le(a))for(var s=10;s<a.length;s++){var u=a[s],c=u[1].firstChild;null!==c&&hs(u[1],u,c,i)}var l=r.type;if(8&l)hs(t,e,r.child,i);else if(32&l)for(var h=Nr(r,e),f=void 0;f=h();)i.push(f);else if(16&l){var d=Qr(e,r);if(Array.isArray(d))i.push.apply(i,n(d));else{var p=Dr(e[16]);hs(p[1],p,d,i,!0)}}r=o?r.projectionNext:r.next}return i}var fs=function(){function t(e,n){v(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}return m(t,[{key:"rootNodes",get:function(){var t=this._lView,e=t[1];return hs(e,t,e.firstChild,[])}},{key:"context",get:function(){return this._lView[8]},set:function(t){this._lView[8]=t}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var t=this._lView[3];if(le(t)){var e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Ur(t,n),tr(e,n))}this._attachedToViewContainer=!1}jr(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){Di(this._lView[1],this._lView,null,t)}},{key:"markForCheck",value:function(){Xi(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){Zi(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){Ge(!0);try{Zi(t,e,n)}finally{Ge(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,Zr(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}]),t}(),ds=function(t){u(n,t);var e=l(n);function n(t){var r;return v(this,n),(r=e.call(this,t))._view=t,r}return m(n,[{key:"detectChanges",value:function(){Ji(this._view)}},{key:"checkNoChanges",value:function(){!function(t){Ge(!0);try{Ji(t)}finally{Ge(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(fs),ps=function(t){return function(t,e,n){if(fe(t)&&!n){var r=xe(t.index,e);return new fs(r,r)}return 47&t.type?new fs(e[16],e):null}(je(),Fe(),16==(16&t))},vs=function(){var t=function t(){v(this,t)};return t.__NG_ELEMENT_ID__=ps,t}(),gs=[new is],ms=new us([new Za]),ys=new ls(gs),bs=function(){return ks(je(),Fe())},ws=function(){var t=function t(){v(this,t)};return t.__NG_ELEMENT_ID__=bs,t}(),_s=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this))._declarationLView=t,o._declarationTContainer=r,o.elementRef=i,o}return m(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=_i(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Si(e,n,t),new fs(n)}}]),n}(ws);function ks(t,e){return 4&t.type?new _s(e,t,Ba(t,e)):null}var Is=function t(){v(this,t)},Ss=function t(){v(this,t)},Es=function(){return Os(je(),Fe())},Cs=function(){var t=function t(){v(this,t)};return t.__NG_ELEMENT_ID__=Es,t}(),Ts=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this))._lContainer=t,o._hostTNode=r,o._hostLView=i,o}return m(n,[{key:"element",get:function(){return Ba(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new Hn(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var t=Nn(this._hostTNode,this._hostLView);if(kn(t)){var e=Sn(t,this._hostLView),n=In(t);return new Hn(e[1].data[n+8],e)}return new Hn(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){var e=As(this._lContainer);return null!==e&&e[t]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){var a=o.get(Is,null);a&&(i=a)}var s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}},{key:"insert",value:function(t,e){var r=t._lView,i=r[1];if(le(r[3])){var o=this.indexOf(t);if(-1!==o)this.detach(o);else{var a=r[3],s=new n(a,a[6],a[3]);s.detach(s.indexOf(t))}}var u=this._adjustIndex(e),c=this._lContainer;!function(t,e,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],$n(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;var a=e[17];null!==a&&n!==a&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(a,e);var s=e[19];null!==s&&s.insertView(t),e[2]|=128}(i,r,c,u);var l=Yr(u,c),h=r[11],f=Gr(h,c[7]);return null!==f&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Zr(t,r,n,1,i,o)}(i,c[6],h,r,f,l),t.attachToViewContainerRef(),$n(xs(c),u,t),t}},{key:"move",value:function(t,e){return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=As(this._lContainer);return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){var e=this._adjustIndex(t,-1),n=Ur(this._lContainer,e);n&&(tr(xs(this._lContainer),e),jr(n[1],n))}},{key:"detach",value:function(t){var e=this._adjustIndex(t,-1),n=Ur(this._lContainer,e);return n&&null!=tr(xs(this._lContainer),e)?new fs(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}}]),n}(Cs);function As(t){return t[8]}function xs(t){return t[8]||(t[8]=[])}function Os(t,e){var n,r=e[t.index];if(le(r))n=r;else{var i;if(8&t.type)i=Ee(r);else{var o=e[11];i=o.createComment("");var a=Te(t,e);Br(o,Gr(o,a),i,function(t,e){return Ie(t)?t.nextSibling(e):e.nextSibling}(o,a),!1)}e[t.index]=n=Gi(r,e,i,t),Yi(e,n)}return new Ts(n,t,e)}var Ns={},Ds=function(t){u(n,t);var e=l(n);function n(t){var r;return v(this,n),(r=e.call(this)).ngModule=t,r}return m(n,[{key:"resolveComponentFactory",value:function(t){var e=se(t);return new Ms(e,this.ngModule)}}]),n}(ja);function Ps(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var Rs=new Qn("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Ar}}),Ms=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this)).componentDef=t,i.ngModule=r,i.componentType=t.type,i.selector=t.selectors.map(li).join(","),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!r,i}return m(n,[{key:"inputs",get:function(){return Ps(this.componentDef.inputs)}},{key:"outputs",get:function(){return Ps(this.componentDef.outputs)}},{key:"create",value:function(t,e,n,r){var i,o,a=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,Ns,i);return o!==Ns||r===Ns?o:e.get(n,r,i)}}}(t,r.injector):t,s=a.get(Ka,Se),u=a.get(Ya,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(t,e,n){if(Ie(t))return t.selectRootElement(e,n===Vt.ShadowDom);var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,n,this.componentDef.encapsulation):Fr(s.createRenderer(null,this.componentDef),l,function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d={components:[],scheduler:Ar,clean:to,playerHandler:null,flags:0},p=Ni(0,null,null,1,0,null,null,null,null,null),v=_i(null,p,d,f,null,null,s,c,u,a);tn(v);try{var g=function(t,e,n,r,i,o){var a=n[1];n[20]=t;var s=ki(a,20,2,"#host",null),u=s.mergedAttrs=e.hostAttrs;null!==u&&(ao(s,u,!0),null!==t&&(mn(i,t,u),null!==s.classes&&ti(i,t,s.classes),null!==s.styles&&$r(i,t,s.styles)));var c=r.createRenderer(t,e),l=_i(n,Oi(e),null,e.onPush?64:16,n[20],s,r,c,null,null);return a.firstCreatePass&&(Dn(An(s,n),a,e.type),Vi(a,s),ji(s,n.length,1)),Yi(n,l),n[20]=l}(h,this.componentDef,v,s,c);if(h)if(n)mn(c,h,["ng-version",Xa.full]);else{var m=function(t){for(var e=[],n=[],r=1,i=2;r<t.length;){var o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!ai(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),y=m.attrs,b=m.classes;y&&mn(c,h,y),b&&b.length>0&&ti(c,h,b.join(" "))}if(o=Ae(p,20),void 0!==e)for(var w=o.projection=[],_=0;_<this.ngContentSelectors.length;_++){var k=e[_];w.push(null!=k?Array.from(k):null)}i=function(t,e,n,r,i){var o=n[1],a=function(t,e,n){var r=je();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),qi(t,r,e,Ii(t,e,1,null),n));var i=jn(e,t,r.directiveStart,r);kr(i,e);var o=Te(r,e);return o&&kr(o,e),i}(o,n,e);if(r.components.push(a),t[8]=a,i&&i.forEach(function(t){return t(a,e)}),e.contentQueries){var s=je();e.contentQueries(1,a,s.directiveStart)}var u=je();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(un(u.index),Li(n[1],u,0,u.directiveStart,u.directiveEnd,e),Fi(e,a)),a}(g,this.componentDef,v,d,[So]),Si(p,v,null)}finally{an()}return new Ls(this.componentType,i,Ba(o,v),v,o)}}]),n}(Va),Ls=function(t){u(n,t);var e=l(n);function n(t,r,i,o,a){var s;return v(this,n),(s=e.call(this)).location=i,s._rootLView=o,s._tNode=a,s.instance=r,s.hostView=s.changeDetectorRef=new ds(o),s.componentType=t,s}return m(n,[{key:"injector",get:function(){return new Hn(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(t){this.hostView.onDestroy(t)}}]),n}(function(){return function t(){v(this,t)}}()),Fs=new Map,Vs=function(t){u(n,t);var e=l(n);function n(t,r){var i;v(this,n),(i=e.call(this))._parent=r,i._bootstrapComponents=[],i.injector=f(i),i.destroyCbs=[],i.componentFactoryResolver=new Ds(f(i));var o=ue(t),a=t[Xt]||null;return a&&xa(a),i._bootstrapComponents=xr(o.bootstrap),i._r3Injector=vo(t,r,[{provide:Is,useValue:f(i)},{provide:ja,useValue:i.componentFactoryResolver}],dt(t)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(t),i}return m(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Io.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pt.Default;return t===Io||t===Is||t===uo?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(Is),Us=function(t){u(r,t);var n=l(r);function r(t){var i,o,a;return v(this,r),(i=n.call(this)).moduleType=t,null!==ue(t)&&(o=t,a=new Set,function t(n){var r=ue(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(dt(e)," vs ").concat(dt(e.name)))}(i,Fs.get(i),n),Fs.set(i,n));var o,s=e(xr(r.imports));try{for(s.s();!(o=s.n()).done;){var u=o.value;a.has(u)||(a.add(u),t(u))}}catch(c){s.e(c)}finally{s.f()}}(o)),i}return m(r,[{key:"create",value:function(t){return new Vs(this.moduleType,t)}}]),r}(Ss);function js(t,e){var n,r=Ve(),i=t+20;r.firstCreatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var r=e[n];if(t===r.name)return r}throw new bt("302","The pipe '".concat(t,"' could not be found!"))}(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=ve(n.type)),a=Rt(jo);try{var s=Cn(!1),u=o();return Cn(s),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(r,Fe(),i,u),u}finally{Rt(a)}}function qs(t,e,n,r){var i=t+20,o=Fe(),a=function(t,e){return t[e]}(o,i);return function(t,e){return Do.isWrapped(e)&&(e=Do.unwrap(e),t[Ke()]=hi),e}(o,function(t,e){return t[1].data[e].pure}(o,i)?function(t,e,n,r,i,o,a){var s=e+n;return Lo(t,s,i,o)?function(t,e,n){return t[e]=n}(t,s+2,a?r.call(a,i,o):r(i,o)):function(t,e){var n=t[e];return n===hi?void 0:n}(t,s+2)}(o,function(){var t=Me.lFrame,e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),e,a.transform,n,r,a):a.transform(n,r))}function Bs(t){return function(e){setTimeout(t,void 0,e)}}var Hs=function(t){u(n,t);var e=l(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return v(this,n),(t=e.call(this)).__isAsync=r,t}return m(n,[{key:"emit",value:function(t){s(p(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,r){var i,o,a,u=t,c=e||function(){return null},l=r;if(t&&"object"==typeof t){var h=t;u=null===(i=h.next)||void 0===i?void 0:i.bind(h),c=null===(o=h.error)||void 0===o?void 0:o.bind(h),l=null===(a=h.complete)||void 0===a?void 0:a.bind(h)}this.__isAsync&&(c=Bs(c),u&&(u=Bs(u)),l&&(l=Bs(l)));var f=s(p(n.prototype),"subscribe",this).call(this,{next:u,error:c,complete:l});return t instanceof S&&t.add(f),f}}]),n}(L);function zs(){return this._results[No()]()}var Gs=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];v(this,t),this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;var n=No(),r=t.prototype;r[n]||(r[n]=zs)}return m(t,[{key:"changes",get:function(){return this._changes||(this._changes=new Hs)}},{key:"get",value:function(t){return this._results[t]}},{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t,e){this.dirty=!1;var n=Zn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++){var i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}},{key:"notifyOnChanges",value:function(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),Ks=function(){function t(e){v(this,t),this.queryList=e,this.matches=null}return m(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),Ws=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];v(this,t),this.queries=e}return m(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new t(i)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==iu(t,e).matches&&this.queries[e].setDirty()}}]),t}(),Qs=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;v(this,t),this.predicate=e,this.flags=n,this.read=r},Ys=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];v(this,t),this.queries=e}return m(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(t){this.queries.push(t)}}]),t}(),Xs=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;v(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return m(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){var n=this.metadata.predicate;if(Array.isArray(n))for(var r=0;r<n.length;r++){var i=n[r];this.matchTNodeWithReadOption(t,e,Zs(e,i)),this.matchTNodeWithReadOption(t,e,Un(e,t,i,!1,!1))}else n===ws?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Un(e,t,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===za||r===Cs||r===ws&&4&e.type)this.addMatch(e.index,-2);else{var i=Un(e,t,r,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function Zs(t,e){var n=t.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Js(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Ba(t,e):4&t.type?ks(t,e):null}(e,t):-2===n?function(t,e,n){return n===za?Ba(e,t):n===ws?ks(e,t):n===Cs?Os(e,t):void 0}(t,e,r):jn(t,t[1],n,e)}function $s(t,e,n,r){var i=e[19].queries[r];if(null===i.matches){for(var o=t.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var c=a[u];s.push(c<0?null:Js(e,o[c],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function tu(t,e,n,r){var i=t.queries.getByIndex(n),o=i.matches;if(null!==o)for(var a=$s(t,e,i,n),s=0;s<o.length;s+=2){var u=o[s];if(u>0)r.push(a[s/2]);else{for(var c=o[s+1],l=e[-u],h=10;h<l.length;h++){var f=l[h];f[17]===f[3]&&tu(f[1],f,c,r)}if(null!==l[9])for(var d=l[9],p=0;p<d.length;p++){var v=d[p];tu(v[1],v,c,r)}}}return r}function eu(t){var e=Fe(),n=Ve(),r=Xe();Ze(r+1);var i=iu(n,r);if(t.dirty&&Oe(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{var o=i.crossesNgTemplate?tu(n,e,r,[]):$s(n,e,i,r);t.reset(o,Ga),t.notifyOnChanges()}return!0}return!1}function nu(t,e,n,r){var i=Ve();if(i.firstCreatePass){var o=je();(function(t,e,n){null===t.queries&&(t.queries=new Ys),t.queries.track(new Xs(e,n))})(i,new Qs(e,n,r),o.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function(t,e,n){var r=new Gs(4==(4&n));Di(t,e,r,r.destroy),null===e[19]&&(e[19]=new Ws),e[19].queries.push(new Ks(r))}(i,Fe(),n)}function ru(){return t=Fe(),e=Xe(),t[19].queries[e].queryList;var t,e}function iu(t,e){return t.queries.getByIndex(e)}var ou=new Qn("Application Initializer"),au=function(){var t=function(){function t(e){var n=this;v(this,t),this.appInits=e,this.resolve=qa,this.reject=qa,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,e){n.resolve=t,n.reject=e})}return m(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=function(n){var r=t.appInits[n]();if(Wo(r))e.push(r);else if(Qo(r)){var i=new Promise(function(t,e){r.subscribe({complete:t,error:e})});e.push(i)}},i=0;i<this.appInits.length;i++)r(i);Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(lr(ou,8))},t.\u0275prov=It({token:t,factory:t.\u0275fac}),t}(),su=new Qn("AppId"),uu={provide:su,useFactory:function(){return"".concat(cu()).concat(cu()).concat(cu())},deps:[]};function cu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var lu=new Qn("Platform Initializer"),hu=new Qn("Platform ID"),fu=new Qn("appBootstrapListener"),du=function(){var t=function(){function t(){v(this,t)}return m(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=It({token:t,factory:t.\u0275fac}),t}(),pu=new Qn("LocaleId"),vu=new Qn("DefaultCurrencyCode"),gu=function t(e,n){v(this,t),this.ngModuleFactory=e,this.componentFactories=n},mu=function(t){return new Us(t)},yu=mu,bu=function(t){return Promise.resolve(mu(t))},wu=function(t){var e=mu(t),n=xr(ue(t).declarations).reduce(function(t,e){var n=se(e);return n&&t.push(new Ms(n)),t},[]);return new gu(e,n)},_u=wu,ku=function(t){return Promise.resolve(wu(t))},Iu=function(){var t=function(){function t(){v(this,t),this.compileModuleSync=yu,this.compileModuleAsync=bu,this.compileModuleAndAllComponentsSync=_u,this.compileModuleAndAllComponentsAsync=ku}return m(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=It({token:t,factory:t.\u0275fac}),t}(),Su=Promise.resolve(0);function Eu(t){"undefined"==typeof Zone?Su.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var Cu=function(){function t(e){var n,r,i=e.enableLongStackTrace,o=void 0!==i&&i,a=e.shouldCoalesceEventChangeDetection,s=void 0!==a&&a,u=e.shouldCoalesceRunChangeDetection,c=void 0!==u&&u;if(v(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Hs(!1),this.onMicrotaskEmpty=new Hs(!1),this.onStable=new Hs(!1),this.onError=new Hs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!c&&s,this.shouldCoalesceRunChangeDetection=c,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=Ht.requestAnimationFrame,e=Ht.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,r=function(){!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ht,function(){t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){t.lastRequestAnimationFrameId=-1,xu(t),t.isCheckStableRunning=!0,Au(t),t.isCheckStableRunning=!1},void 0,function(){},function(){})),t.fakeTopEventTask.invoke()}),xu(t))}(n)},(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,e,i,o,a,s){try{return Ou(n),t.invokeTask(i,o,a,s)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&r(),Nu(n)}},onInvoke:function(t,e,i,o,a,s,u){try{return Ou(n),t.invoke(i,o,a,s,u)}finally{n.shouldCoalesceRunChangeDetection&&r(),Nu(n)}},onHasTask:function(t,e,r,i){t.hasTask(r,i),e===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,xu(n),Au(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,r,i){return t.handleError(r,i),n.runOutsideAngular(function(){return n.onError.emit(i)}),!1}})}return m(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Tu,qa,qa);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}(),Tu={};function Au(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function xu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Ou(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Nu(t){t._nesting--,Au(t)}var Du,Pu=function(){function t(){v(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Hs,this.onMicrotaskEmpty=new Hs,this.onStable=new Hs,this.onError=new Hs}return m(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,r){return t.apply(e,n)}}]),t}(),Ru=function(){var t=function(){function t(e){var n=this;v(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return m(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){Cu.assertNotInAngularZone(),Eu(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())Eu(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(t){return t.timeoutId!==i}),t(r._didWork,r.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(lr(Cu))},t.\u0275prov=It({token:t,factory:t.\u0275fac}),t}(),Mu=function(){var t=function(){function t(){v(this,t),this._applications=new Map,Lu.addToWindow(this)}return m(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Lu.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=It({token:t,factory:t.\u0275fac}),t}(),Lu=new(function(){function t(){v(this,t)}return m(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),Fu=!0,Vu=!1,Uu=new Qn("AllowMultipleToken"),ju=function t(e,n){v(this,t),this.name=e,this.token=n};function qu(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(e),i=new Qn(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Bu();if(!o||o.injector.get(Uu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0},{provide:lo,useValue:"platform"});!function(t){if(Du&&!Du.destroyed&&!Du.injector.get(Uu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Du=t.get(Hu);var e=t.get(lu,null);e&&e.forEach(function(t){return t()})}(Io.create({providers:a,name:r}))}return function(t){var e=Bu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Bu(){return Du&&!Du.destroyed?Du:null}var Hu=function(){var t=function(){function t(e){v(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return m(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r,i=this,o=(n=e?e.ngZone:void 0,r={ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1},"noop"===n?new Pu:("zone.js"===n?void 0:n)||new Cu({enableLongStackTrace:(Vu=!0,Fu),shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)})),a=[{provide:Cu,useValue:o}];return o.run(function(){var e=Io.create({providers:a,parent:i.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(Tr,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.runOutsideAngular(function(){var t=o.onError.subscribe({next:function(t){r.handleError(t)}});n.onDestroy(function(){Wu(i._modules,n),t.unsubscribe()})}),function(t,e,r){try{var o=((a=n.injector.get(au)).runInitializers(),a.donePromise.then(function(){return xa(n.injector.get(pu,"en-US")||"en-US"),i._moduleDoBootstrap(n),n}));return Wo(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(tT){throw e.runOutsideAngular(function(){return t.handleError(tT)}),tT}var a}(r,o)})}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=zu({},n);return function(t,e,n){var r=new Us(n);return Promise.resolve(r)}(0,0,t).then(function(t){return e.bootstrapModuleFactory(t,r)})}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(Ku);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(dt(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(lr(Io))},t.\u0275prov=It({token:t,factory:t.\u0275fac}),t}();function zu(t,e){return Array.isArray(e)?e.reduce(zu,t):Object.assign(Object.assign({},t),e)}var Gu,Ku=((Gu=function(){function t(e,n,r,i,o){var a=this;v(this,t),this._zone=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run(function(){a.tick()})}});var s=new N(function(t){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular(function(){t.next(a._stable),t.complete()})}),u=new N(function(t){var e;a._zone.runOutsideAngular(function(){e=a._zone.onStable.subscribe(function(){Cu.assertNotInAngularZone(),Eu(function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,t.next(!0))})})});var n=a._zone.onUnstable.subscribe(function(){Cu.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Number.POSITIVE_INFINITY,i=null,o=e[e.length-1];return V(o)?(i=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(r=e.pop())):"number"==typeof o&&(r=e.pop()),null===i&&1===e.length&&e[0]instanceof N?e[0]:et(r)(nt(e,i))}(s,u.pipe(function(t){return rt()((e=lt,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,ut);return r.source=t,r.subjectFactory=n,r})(t));var e}))}return m(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof Va?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(Is),o=n.create(Io.NULL,[],e||n.selector,i),a=o.location.nativeElement,s=o.injector.get(Ru,null),u=s&&o.injector.get(Mu);return s&&u&&u.registerApplication(a,s),o.onDestroy(function(){r.detachView(o.hostView),Wu(r.components,o),u&&u.unregisterApplication(a)}),this._loadComponent(o),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var n,r=e(this._views);try{for(r.s();!(n=r.n()).done;)n.value.detectChanges()}catch(i){r.e(i)}finally{r.f()}}catch(tT){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(tT)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;Wu(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(fu,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(t){return t.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),t}()).\u0275fac=function(t){return new(t||Gu)(lr(Cu),lr(Io),lr(Tr),lr(ja),lr(au))},Gu.\u0275prov=It({token:Gu,factory:Gu.\u0275fac}),Gu);function Wu(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Qu=function t(){v(this,t)},Yu=function t(){v(this,t)},Xu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Zu=function(){var e=function(){function e(t,n){v(this,e),this._compiler=t,this._config=n||Xu}return m(e,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(e){var n=this,r=t(e.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),c(8255)(i).then(function(t){return t[o]}).then(function(t){return Ju(t,i,o)}).then(function(t){return n._compiler.compileModuleAsync(t)})}},{key:"loadFactory",value:function(e){var n=t(e.split("#"),2),r=n[0],i=n[1],o="NgFactory";return void 0===i&&(i="default",o=""),c(8255)(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(function(t){return t[i+o]}).then(function(t){return Ju(t,r,i)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(lr(Iu),lr(Yu,8))},e.\u0275prov=It({token:e,factory:e.\u0275fac}),e}();function Ju(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var $u=qu(null,"core",[{provide:hu,useValue:"unknown"},{provide:Hu,deps:[Io]},{provide:Mu,deps:[]},{provide:du,deps:[]}]),tc=[{provide:Ku,useClass:Ku,deps:[Cu,Io,Tr,ja,au]},{provide:Rs,deps:[Cu],useFactory:function(t){var e=[];return t.onStable.subscribe(function(){for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:au,useClass:au,deps:[[new pr,ou]]},{provide:Iu,useClass:Iu,deps:[]},uu,{provide:us,useFactory:function(){return ms},deps:[]},{provide:ls,useFactory:function(){return ys},deps:[]},{provide:pu,useFactory:function(t){return xa(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new dr(pu),new pr,new vr]]},{provide:vu,useValue:"USD"}],ec=function(){var t=function t(e){v(this,t)};return t.\u0275fac=function(e){return new(e||t)(lr(Ku))},t.\u0275mod=ie({type:t}),t.\u0275inj=St({providers:tc}),t}(),nc=null;function rc(){return nc}var ic=new Qn("DocumentToken"),oc=function(){var t=function(){function t(){v(this,t)}return m(t,[{key:"historyGo",value:function(t){throw new Error("Not implemented")}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=It({factory:ac,token:t,providedIn:"platform"}),t}();function ac(){return lr(uc)}var sc=new Qn("Location Initialized"),uc=function(){var t=function(t){u(n,t);var e=l(n);function n(t){var r;return v(this,n),(r=e.call(this))._doc=t,r._init(),r}return m(n,[{key:"_init",value:function(){this.location=window.location,this._history=window.history}},{key:"getBaseHrefFromDOM",value:function(){return rc().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){var e=rc().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),function(){return e.removeEventListener("popstate",t)}}},{key:"onHashChange",value:function(t){var e=rc().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),function(){return e.removeEventListener("hashchange",t)}}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(t,e,n){cc()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){cc()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"historyGo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._history.go(t)}},{key:"getState",value:function(){return this._history.state}}]),n}(oc);return t.\u0275fac=function(e){return new(e||t)(lr(ic))},t.\u0275prov=It({factory:lc,token:t,providedIn:"platform"}),t}();function cc(){return!!window.history.pushState}function lc(){return new uc(lr(ic))}function hc(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function fc(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function dc(t){return t&&"?"!==t[0]?"?"+t:t}var pc=function(){var t=function(){function t(){v(this,t)}return m(t,[{key:"historyGo",value:function(t){throw new Error("Not implemented")}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=It({factory:vc,token:t,providedIn:"root"}),t}();function vc(t){var e=lr(ic).location;return new mc(lr(oc),e&&e.origin||"")}var gc=new Qn("appBaseHref"),mc=function(){var t=function(t){u(n,t);var e=l(n);function n(t,r){var i;if(v(this,n),(i=e.call(this))._platformLocation=t,i._removeListenerFns=[],null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,h(i)}return m(n,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return hc(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+dc(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+dc(r));this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+dc(r));this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(e=(t=this._platformLocation).historyGo)||void 0===e||e.call(t,n)}}]),n}(pc);return t.\u0275fac=function(e){return new(e||t)(lr(oc),lr(gc,8))},t.\u0275prov=It({token:t,factory:t.\u0275fac}),t}(),yc=function(){var t=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this))._platformLocation=t,i._baseHref="",i._removeListenerFns=[],null!=r&&(i._baseHref=r),i}return m(n,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=hc(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+dc(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+dc(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(e=(t=this._platformLocation).historyGo)||void 0===e||e.call(t,n)}}]),n}(pc);return t.\u0275fac=function(e){return new(e||t)(lr(oc),lr(gc,8))},t.\u0275prov=It({token:t,factory:t.\u0275fac}),t}(),bc=function(){var t=function(){function t(e,n){var r=this;v(this,t),this._subject=new Hs,this._urlChangeListeners=[],this._platformStrategy=e;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=fc(_c(i)),this._platformStrategy.onPopState(function(t){r._subject.emit({url:r.path(!0),pop:!0,state:t.state,type:t.type})})}return m(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+dc(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,_c(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+dc(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+dc(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"historyGo",value:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(e=(t=this._platformStrategy).historyGo)||void 0===e||e.call(t,n)}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(n){return n(t,e)})}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(lr(pc),lr(oc))},t.normalizeQueryParams=dc,t.joinWithSlash=hc,t.stripTrailingSlash=fc,t.\u0275prov=It({factory:wc,token:t,providedIn:"root"}),t}();function wc(){return new bc(lr(pc),lr(oc))}function _c(t){return t.replace(/\/index.html$/,"")}var kc=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),Ic=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),Sc=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),Ec=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),Cc=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function Tc(t,e){return Dc(Ca(t)[Aa.DateFormat],e)}function Ac(t,e){return Dc(Ca(t)[Aa.TimeFormat],e)}function xc(t,e){return Dc(Ca(t)[Aa.DateTimeFormat],e)}function Oc(t,e){var n=Ca(t),r=n[Aa.NumberSymbols][e];if(void 0===r){if(e===Cc.CurrencyDecimal)return n[Aa.NumberSymbols][Cc.Decimal];if(e===Cc.CurrencyGroup)return n[Aa.NumberSymbols][Cc.Group]}return r}function Nc(t){if(!t[Aa.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(t[Aa.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function Dc(t,e){for(var n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function Pc(e){var n=t(e.split(":"),2);return{hours:+n[0],minutes:+n[1]}}var Rc=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Mc={},Lc=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Fc=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),Vc=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),Uc=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function jc(e,n,r,i){var o=function(e){if($c(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){var n=t(e.split("-").map(function(t){return+t}),3),r=n[0],i=n[1],o=void 0===i?1:i,a=n[2];return qc(r,o-1,void 0===a?1:a)}var s,u=parseFloat(e);if(!isNaN(e-u))return new Date(u);if(s=e.match(Rc))return function(t){var e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));var a=Number(t[4]||0)-n,s=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,a,s,u,c),e}(s)}var c=new Date(e);if(!$c(c))throw new Error('Unable to convert "'.concat(e,'" into a date'));return c}(e);n=Bc(r,n)||n;for(var a,s=[];n;){if(!(a=Lc.exec(n))){s.push(n);break}var u=(s=s.concat(a.slice(1))).pop();if(!u)break;n=u}var c=o.getTimezoneOffset();i&&(c=Jc(i,c),o=function(t,e,n){var r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(Jc(e,r)-r))}(o,i));var l="";return s.forEach(function(t){var e=function(t){if(Zc[t])return Zc[t];var e;switch(t){case"G":case"GG":case"GGG":e=Kc(Uc.Eras,Sc.Abbreviated);break;case"GGGG":e=Kc(Uc.Eras,Sc.Wide);break;case"GGGGG":e=Kc(Uc.Eras,Sc.Narrow);break;case"y":e=Gc(Vc.FullYear,1,0,!1,!0);break;case"yy":e=Gc(Vc.FullYear,2,0,!0,!0);break;case"yyy":e=Gc(Vc.FullYear,3,0,!1,!0);break;case"yyyy":e=Gc(Vc.FullYear,4,0,!1,!0);break;case"Y":e=Xc(1);break;case"YY":e=Xc(2,!0);break;case"YYY":e=Xc(3);break;case"YYYY":e=Xc(4);break;case"M":case"L":e=Gc(Vc.Month,1,1);break;case"MM":case"LL":e=Gc(Vc.Month,2,1);break;case"MMM":e=Kc(Uc.Months,Sc.Abbreviated);break;case"MMMM":e=Kc(Uc.Months,Sc.Wide);break;case"MMMMM":e=Kc(Uc.Months,Sc.Narrow);break;case"LLL":e=Kc(Uc.Months,Sc.Abbreviated,Ic.Standalone);break;case"LLLL":e=Kc(Uc.Months,Sc.Wide,Ic.Standalone);break;case"LLLLL":e=Kc(Uc.Months,Sc.Narrow,Ic.Standalone);break;case"w":e=Yc(1);break;case"ww":e=Yc(2);break;case"W":e=Yc(1,!0);break;case"d":e=Gc(Vc.Date,1);break;case"dd":e=Gc(Vc.Date,2);break;case"c":case"cc":e=Gc(Vc.Day,1);break;case"ccc":e=Kc(Uc.Days,Sc.Abbreviated,Ic.Standalone);break;case"cccc":e=Kc(Uc.Days,Sc.Wide,Ic.Standalone);break;case"ccccc":e=Kc(Uc.Days,Sc.Narrow,Ic.Standalone);break;case"cccccc":e=Kc(Uc.Days,Sc.Short,Ic.Standalone);break;case"E":case"EE":case"EEE":e=Kc(Uc.Days,Sc.Abbreviated);break;case"EEEE":e=Kc(Uc.Days,Sc.Wide);break;case"EEEEE":e=Kc(Uc.Days,Sc.Narrow);break;case"EEEEEE":e=Kc(Uc.Days,Sc.Short);break;case"a":case"aa":case"aaa":e=Kc(Uc.DayPeriods,Sc.Abbreviated);break;case"aaaa":e=Kc(Uc.DayPeriods,Sc.Wide);break;case"aaaaa":e=Kc(Uc.DayPeriods,Sc.Narrow);break;case"b":case"bb":case"bbb":e=Kc(Uc.DayPeriods,Sc.Abbreviated,Ic.Standalone,!0);break;case"bbbb":e=Kc(Uc.DayPeriods,Sc.Wide,Ic.Standalone,!0);break;case"bbbbb":e=Kc(Uc.DayPeriods,Sc.Narrow,Ic.Standalone,!0);break;case"B":case"BB":case"BBB":e=Kc(Uc.DayPeriods,Sc.Abbreviated,Ic.Format,!0);break;case"BBBB":e=Kc(Uc.DayPeriods,Sc.Wide,Ic.Format,!0);break;case"BBBBB":e=Kc(Uc.DayPeriods,Sc.Narrow,Ic.Format,!0);break;case"h":e=Gc(Vc.Hours,1,-12);break;case"hh":e=Gc(Vc.Hours,2,-12);break;case"H":e=Gc(Vc.Hours,1);break;case"HH":e=Gc(Vc.Hours,2);break;case"m":e=Gc(Vc.Minutes,1);break;case"mm":e=Gc(Vc.Minutes,2);break;case"s":e=Gc(Vc.Seconds,1);break;case"ss":e=Gc(Vc.Seconds,2);break;case"S":e=Gc(Vc.FractionalSeconds,1);break;case"SS":e=Gc(Vc.FractionalSeconds,2);break;case"SSS":e=Gc(Vc.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Wc(Fc.Short);break;case"ZZZZZ":e=Wc(Fc.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Wc(Fc.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Wc(Fc.Long);break;default:return null}return Zc[t]=e,e}(t);l+=e?e(o,r,c):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function qc(t,e,n){var r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Bc(t,e){var n=function(t){return Ca(t)[Aa.LocaleId]}(t);if(Mc[n]=Mc[n]||{},Mc[n][e])return Mc[n][e];var r="";switch(e){case"shortDate":r=Tc(t,Ec.Short);break;case"mediumDate":r=Tc(t,Ec.Medium);break;case"longDate":r=Tc(t,Ec.Long);break;case"fullDate":r=Tc(t,Ec.Full);break;case"shortTime":r=Ac(t,Ec.Short);break;case"mediumTime":r=Ac(t,Ec.Medium);break;case"longTime":r=Ac(t,Ec.Long);break;case"fullTime":r=Ac(t,Ec.Full);break;case"short":var i=Bc(t,"shortTime"),o=Bc(t,"shortDate");r=Hc(xc(t,Ec.Short),[i,o]);break;case"medium":var a=Bc(t,"mediumTime"),s=Bc(t,"mediumDate");r=Hc(xc(t,Ec.Medium),[a,s]);break;case"long":var u=Bc(t,"longTime"),c=Bc(t,"longDate");r=Hc(xc(t,Ec.Long),[u,c]);break;case"full":var l=Bc(t,"fullTime"),h=Bc(t,"fullDate");r=Hc(xc(t,Ec.Full),[l,h])}return r&&(Mc[n][e]=r),r}function Hc(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function zc(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));for(var a=String(t);a.length<e;)a="0"+a;return r&&(a=a.substr(a.length-e)),o+a}function Gc(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(o,a){var s,u=function(t,e){switch(t){case Vc.FullYear:return e.getFullYear();case Vc.Month:return e.getMonth();case Vc.Date:return e.getDate();case Vc.Hours:return e.getHours();case Vc.Minutes:return e.getMinutes();case Vc.Seconds:return e.getSeconds();case Vc.FractionalSeconds:return e.getMilliseconds();case Vc.Day:return e.getDay();default:throw new Error('Unknown DateType value "'.concat(t,'".'))}}(t,o);if((n>0||u>-n)&&(u+=n),t===Vc.Hours)0===u&&-12===n&&(u=12);else if(t===Vc.FractionalSeconds)return s=e,zc(u,3).substr(0,s);var c=Oc(a,Cc.MinusSign);return zc(u,e,c,r,i)}}function Kc(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ic.Format,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(o,a){return function(e,n,r,i,o,a){switch(r){case Uc.Months:return function(t,e,n){var r=Ca(t),i=Dc([r[Aa.MonthsFormat],r[Aa.MonthsStandalone]],e);return Dc(i,n)}(n,o,i)[e.getMonth()];case Uc.Days:return function(t,e,n){var r=Ca(t),i=Dc([r[Aa.DaysFormat],r[Aa.DaysStandalone]],e);return Dc(i,n)}(n,o,i)[e.getDay()];case Uc.DayPeriods:var s=e.getHours(),u=e.getMinutes();if(a){var c=function(t){var e=Ca(t);return Nc(e),(e[Aa.ExtraData][2]||[]).map(function(t){return"string"==typeof t?Pc(t):[Pc(t[0]),Pc(t[1])]})}(n),l=function(t,e,n){var r=Ca(t);Nc(r);var i=Dc([r[Aa.ExtraData][0],r[Aa.ExtraData][1]],e)||[];return Dc(i,n)||[]}(n,o,i),h=c.findIndex(function(e){if(Array.isArray(e)){var n=t(e,2),r=n[0],i=n[1],o=s>=r.hours&&u>=r.minutes,a=s<i.hours||s===i.hours&&u<i.minutes;if(r.hours<i.hours){if(o&&a)return!0}else if(o||a)return!0}else if(e.hours===s&&e.minutes===u)return!0;return!1});if(-1!==h)return l[h]}return function(t,e,n){var r=Ca(t),i=Dc([r[Aa.DayPeriodsFormat],r[Aa.DayPeriodsStandalone]],e);return Dc(i,n)}(n,o,i)[s<12?0:1];case Uc.Eras:return function(t,e){return Dc(Ca(t)[Aa.Eras],e)}(n,i)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type ".concat(r))}}(o,a,e,n,r,i)}}function Wc(t){return function(e,n,r){var i=-1*r,o=Oc(n,Cc.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Fc.Short:return(i>=0?"+":"")+zc(a,2,o)+zc(Math.abs(i%60),2,o);case Fc.ShortGMT:return"GMT"+(i>=0?"+":"")+zc(a,1,o);case Fc.Long:return"GMT"+(i>=0?"+":"")+zc(a,2,o)+":"+zc(Math.abs(i%60),2,o);case Fc.Extended:return 0===r?"Z":(i>=0?"+":"")+zc(a,2,o)+":"+zc(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'.concat(t,'"'))}}}function Qc(t){return qc(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function Yc(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var i,o,a;if(e){var s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,u=n.getDate();i=1+Math.floor((u+s)/7)}else{var c=Qc(n),l=(o=c.getFullYear(),a=qc(o,0,1).getDay(),qc(o,0,1+(a<=4?4:11)-a)),h=c.getTime()-l.getTime();i=1+Math.round(h/6048e5)}return zc(i,t,Oc(r,Cc.MinusSign))}}function Xc(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){return zc(Qc(n).getFullYear(),t,Oc(r,Cc.MinusSign),e)}}var Zc={};function Jc(t,e){t=t.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function $c(t){return t instanceof Date&&!isNaN(t.valueOf())}var tl=function t(){v(this,t)},el=function(){var t=function(t){u(n,t);var e=l(n);function n(t){var r;return v(this,n),(r=e.call(this)).locale=t,r}return m(n,[{key:"getPluralCategory",value:function(t,e){switch(function(t){return Ca(t)[Aa.PluralCase]}(e||this.locale)(t)){case kc.Zero:return"zero";case kc.One:return"one";case kc.Two:return"two";case kc.Few:return"few";case kc.Many:return"many";default:return"other"}}}]),n}(tl);return t.\u0275fac=function(e){return new(e||t)(lr(pu))},t.\u0275prov=It({token:t,factory:t.\u0275fac}),t}(),nl=function(){function t(e,n,r,i){v(this,t),this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}return m(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),rl=function(){var t=function(){function t(e,n,r){v(this,t),this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return m(t,[{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(t){this._trackByFn=t}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(kf){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation(function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new nl(null,e._ngForOf,-1,-1),null===i?void 0:i),a=new il(t,o);n.push(a)}else if(null==i)e._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=e._viewContainer.get(r);e._viewContainer.move(s,i);var u=new il(t,s);n.push(u)}});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}();return t.\u0275fac=function(e){return new(e||t)(jo(Cs),jo(ws),jo(us))},t.\u0275dir=ae({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t}(),il=function t(e,n){v(this,t),this.record=e,this.view=n},ol=function(){var t=function(){function t(e,n){v(this,t),this._viewContainer=e,this._context=new al,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return m(t,[{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){sl("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){sl("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}();return t.\u0275fac=function(e){return new(e||t)(jo(Cs),jo(ws))},t.\u0275dir=ae({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t}(),al=function t(){v(this,t),this.$implicit=null,this.ngIf=null};function sl(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(dt(e),"'."))}var ul=function(){var t,e=function(){function t(e){v(this,t),this.locale=e}return m(t,[{key:"transform",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(null==e||""===e||e!=e)return null;try{return jc(e,n,i||this.locale,r)}catch(o){throw function(t,e){return Error("InvalidPipeArgument: '".concat(e,"' for pipe '").concat(dt(t),"'"))}(t,o.message)}}}]),t}();return e.\u0275fac=function(t){return new(t||e)(jo(pu,16))},e.\u0275pipe={type:(t={name:"date",type:e,pure:!0}).type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null},e}(),cl=function(){var t=function t(){v(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ie({type:t}),t.\u0275inj=St({providers:[{provide:tl,useClass:el}]}),t}(),ll=function(){var t=function t(){v(this,t)};return t.\u0275prov=It({token:t,providedIn:"root",factory:function(){return new hl(lr(ic),window)}}),t}(),hl=function(){function t(e,n){v(this,t),this.document=e,this.window=n,this.offset=function(){return[0,0]}}return m(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){if(this.supportsScrolling()){var e=function(t,e){var n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow))for(var r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;i;){var o=i.shadowRoot;if(o){var a=o.getElementById(e)||o.querySelector('[name="'.concat(e,'"]'));if(a)return a}i=r.nextNode()}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"attemptFocus",value:function(t){return t.focus(),this.document.activeElement===t}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var t=fl(this.window.history)||fl(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(kf){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(kf){return!1}}}]),t}();function fl(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}var dl,pl=function(n){u(i,n);var r=l(i);function i(){return v(this,i),r.apply(this,arguments)}return m(i,[{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){t.parentNode&&t.parentNode.removeChild(t)}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getBaseHref",value:function(t){var e=(vl=vl||document.querySelector("base"))?vl.getAttribute("href"):null;return null==e?null:function(t){(dl=dl||document.createElement("a")).setAttribute("href",t);var e=dl.pathname;return"/"===e.charAt(0)?e:"/".concat(e)}(e)}},{key:"resetBaseElement",value:function(){vl=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"getCookie",value:function(n){return function(n,r){r=encodeURIComponent(r);var i,o=e(n.split(";"));try{for(o.s();!(i=o.n()).done;){var a=i.value,s=a.indexOf("="),u=t(-1==s?[a,""]:[a.slice(0,s),a.slice(s+1)],2),c=u[0],l=u[1];if(c.trim()===r)return decodeURIComponent(l)}}catch(h){o.e(h)}finally{o.f()}return null}(document.cookie,n)}}],[{key:"makeCurrent",value:function(){var t;t=new i,nc||(nc=t)}}]),i}(function(t){u(n,t);var e=l(n);function n(){var t;return v(this,n),(t=e.apply(this,arguments)).supportsDOMEvents=!0,t}return n}(function(){return function t(){v(this,t)}}())),vl=null,gl=new Qn("TRANSITION_ID"),ml=[{provide:ou,useFactory:function(t,e,n){return function(){n.get(au).donePromise.then(function(){var n=rc();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(function(e){return e.getAttribute("ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[gl,ic,Io],multi:!0}],yl=function(){function t(){v(this,t)}return m(t,[{key:"addToWindow",value:function(t){Ht.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},Ht.getAllAngularTestabilities=function(){return t.getAllTestabilities()},Ht.getAllAngularRootElements=function(){return t.getAllRootElements()},Ht.frameworkStabilizers||(Ht.frameworkStabilizers=[]),Ht.frameworkStabilizers.push(function(t){var e=Ht.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?rc().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){var e;e=new t,Lu=e}}]),t}(),bl=function(){var t=function(){function t(){v(this,t)}return m(t,[{key:"build",value:function(){return new XMLHttpRequest}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=It({token:t,factory:t.\u0275fac}),t}(),wl=new Qn("EventManagerPlugins"),_l=function(){var t=function(){function t(e,n){var r=this;v(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach(function(t){return t.manager=r}),this._plugins=e.slice().reverse()}return m(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event ".concat(t))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(lr(wl),lr(Cu))},t.\u0275prov=It({token:t,factory:t.\u0275fac}),t}(),kl=function(){function t(e){v(this,t),this._doc=e}return m(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=rc().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),Il=function(){var t=function(){function t(){v(this,t),this._stylesSet=new Set}return m(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=It({token:t,factory:t.\u0275fac}),t}(),Sl=function(){var t=function(t){u(n,t);var e=l(n);function n(t){var r;return v(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Map,r._hostNodes.set(t.head,[]),r}return m(n,[{key:"_addStylesToHost",value:function(t,e,n){var r=this;t.forEach(function(t){var i=r._doc.createElement("style");i.textContent=t,n.push(e.appendChild(i))})}},{key:"addHost",value:function(t){var e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}},{key:"removeHost",value:function(t){var e=this._hostNodes.get(t);e&&e.forEach(El),this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach(function(n,r){e._addStylesToHost(t,r,n)})}},{key:"ngOnDestroy",value:function(){this._hostNodes.forEach(function(t){return t.forEach(El)})}}]),n}(Il);return t.\u0275fac=function(e){return new(e||t)(lr(ic))},t.\u0275prov=It({token:t,factory:t.\u0275fac}),t}();function El(t){rc().remove(t)}var Cl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Tl=/%COMP%/g;function Al(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?Al(t,i,n):(i=i.replace(Tl,t),n.push(i))}return n}function xl(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var Ol=function(){var t=function(){function t(e,n,r){v(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Nl(e)}return m(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Vt.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new Dl(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case 1:case Vt.ShadowDom:return new Pl(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=Al(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)(lr(_l),lr(Sl),lr(su))},t.\u0275prov=It({token:t,factory:t.\u0275fac}),t}(),Nl=function(){function t(e){v(this,t),this.eventManager=e,this.data=Object.create(null)}return m(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(Cl[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=Cl[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=Cl[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,r){r&(Or.DashCase|Or.Important)?t.style.setProperty(e,n,r&Or.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&Or.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,xl(n)):this.eventManager.addEventListener(t,e,xl(n))}}]),t}(),Dl=function(t){u(n,t);var e=l(n);function n(t,r,i,o){var a;v(this,n),(a=e.call(this,t)).component=i;var s=Al(o+"-"+i.id,i.styles,[]);return r.addStyles(s),a.contentAttr="_ngcontent-%COMP%".replace(Tl,o+"-"+i.id),a.hostAttr="_nghost-%COMP%".replace(Tl,o+"-"+i.id),a}return m(n,[{key:"applyToHost",value:function(t){s(p(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var r=s(p(n.prototype),"createElement",this).call(this,t,e);return s(p(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(Nl),Pl=function(t){u(n,t);var e=l(n);function n(t,r,i,o){var a;v(this,n),(a=e.call(this,t)).sharedStylesHost=r,a.hostEl=i,a.shadowRoot=i.attachShadow({mode:"open"}),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=Al(o.id,o.styles,[]),u=0;u<s.length;u++){var c=document.createElement("style");c.textContent=s[u],a.shadowRoot.appendChild(c)}return a}return m(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return s(p(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,r){return s(p(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,r)}},{key:"removeChild",value:function(t,e){return s(p(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(s(p(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(Nl),Rl=function(){var t=function(t){u(n,t);var e=l(n);function n(t){return v(this,n),e.call(this,t)}return m(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(kl);return t.\u0275fac=function(e){return new(e||t)(lr(ic))},t.\u0275prov=It({token:t,factory:t.\u0275fac}),t}(),Ml=["alt","control","meta","shift"],Ll={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Fl={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Vl={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},Ul=function(){var t=function(t){u(n,t);var e=l(n);function n(t){return v(this,n),e.call(this,t)}return m(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return rc().onAndCancel(t,i.domEventName,o)})}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(Ml.forEach(function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")}),o+=i,0!=e.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Fl.hasOwnProperty(e)&&(e=Fl[e]))}return Ll[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Ml.forEach(function(r){r!=n&&(0,Vl[r])(t)&&(e+=r+".")}),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded(function(){return e(i)})}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(kl);return t.\u0275fac=function(e){return new(e||t)(lr(ic))},t.\u0275prov=It({token:t,factory:t.\u0275fac}),t}(),jl=qu($u,"browser",[{provide:hu,useValue:"browser"},{provide:lu,useValue:function(){pl.makeCurrent(),yl.init()},multi:!0},{provide:ic,useFactory:function(){return function(t){ge=t}(document),document},deps:[]}]),ql=[[],{provide:lo,useValue:"root"},{provide:Tr,useFactory:function(){return new Tr},deps:[]},{provide:wl,useClass:Rl,multi:!0,deps:[ic,Cu,hu]},{provide:wl,useClass:Ul,multi:!0,deps:[ic]},[],{provide:Ol,useClass:Ol,deps:[_l,Sl,su]},{provide:Ka,useExisting:Ol},{provide:Il,useExisting:Sl},{provide:Sl,useClass:Sl,deps:[ic]},{provide:Ru,useClass:Ru,deps:[Cu]},{provide:_l,useClass:_l,deps:[wl,Cu]},{provide:function t(){v(this,t)},useClass:bl,deps:[]},[]],Bl=function(){var t=function(){function t(e){if(v(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return m(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:su,useValue:e.appId},{provide:gl,useExisting:su},ml]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(lr(t,12))},t.\u0275mod=ie({type:t}),t.\u0275inj=St({providers:ql,imports:[cl,ec]}),t}();function Hl(t,e){return new N(function(n){var r=t.length;if(0!==r)for(var i=new Array(r),o=0,a=0,s=function(s){var u=Q(t[s]),c=!1;n.add(u.subscribe({next:function(t){c||(c=!0,a++),i[s]=t},error:function(t){return n.error(t)},complete:function(){++o!==r&&c||(a===r&&n.next(e?e.reduce(function(t,e,n){return t[e]=i[n],t},{}):i),n.complete())}}))},u=0;u<r;u++)s(u);else n.complete()})}"undefined"!=typeof window&&window;var zl=function(){var t=function(){function t(e,n){v(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return m(t,[{key:"setProperty",value:function(t,e){this._renderer.setProperty(this._elementRef.nativeElement,t,e)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"setDisabledState",value:function(t){this.setProperty("disabled",t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(jo(Wa),jo(za))},t.\u0275dir=ae({type:t}),t}(),Gl=function(){var t,e=function(t){u(n,t);var e=l(n);function n(){return v(this,n),e.apply(this,arguments)}return n}(zl);return e.\u0275fac=function(n){return(t||(t=zn(e)))(n||e)},e.\u0275dir=ae({type:e,features:[Eo]}),e}(),Kl=new Qn("NgValueAccessor"),Wl={provide:Kl,useExisting:gt(function(){return Yl}),multi:!0},Ql=new Qn("CompositionEventMode"),Yl=function(){var t=function(t){u(n,t);var e=l(n);function n(t,r,i){var o,a;return v(this,n),(o=e.call(this,t,r))._compositionMode=i,o._composing=!1,null==o._compositionMode&&(o._compositionMode=(a=rc()?rc().getUserAgent():"",!/android (\d+)/.test(a.toLowerCase()))),o}return m(n,[{key:"writeValue",value:function(t){this.setProperty("value",null==t?"":t)}},{key:"_handleInput",value:function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}]),n}(zl);return t.\u0275fac=function(e){return new(e||t)(jo(Wa),jo(za),jo(Ql,8))},t.\u0275dir=ae({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&Yo("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[Fa([Wl]),Eo]}),t}();function Xl(t){return null==t||0===t.length}function Zl(t){return null!=t&&"number"==typeof t.length}var Jl=new Qn("NgValidators"),$l=new Qn("NgAsyncValidators"),th=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,eh=function(){function t(){v(this,t)}return m(t,null,[{key:"min",value:function(t){return function(t){return function(e){if(Xl(e.value)||Xl(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(t)}},{key:"max",value:function(t){return function(t){return function(e){if(Xl(e.value)||Xl(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(t)}},{key:"required",value:function(t){return function(t){return Xl(t.value)?{required:!0}:null}(t)}},{key:"requiredTrue",value:function(t){return function(t){return!0===t.value?null:{required:!0}}(t)}},{key:"email",value:function(t){return function(t){return Xl(t.value)||th.test(t.value)?null:{email:!0}}(t)}},{key:"minLength",value:function(t){return function(t){return function(e){return Xl(e.value)||!Zl(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}}(t)}},{key:"maxLength",value:function(t){return function(t){return function(e){return Zl(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}}(t)}},{key:"pattern",value:function(t){return function(t){return t?("string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),function(t){if(Xl(t.value))return null;var r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}):nh;var e,n}(t)}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){return uh(t)}},{key:"composeAsync",value:function(t){return lh(t)}}]),t}();function nh(t){return null}function rh(t){return null!=t}function ih(t){var e=Wo(t)?Q(t):t;return Qo(e),e}function oh(t){var e={};return t.forEach(function(t){e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function ah(t,e){return e.map(function(e){return e(t)})}function sh(t){return t.map(function(t){return function(t){return!t.validate}(t)?t:function(e){return t.validate(e)}})}function uh(t){if(!t)return null;var e=t.filter(rh);return 0==e.length?null:function(t){return oh(ah(t,e))}}function ch(t){return null!=t?uh(sh(t)):null}function lh(t){if(!t)return null;var e=t.filter(rh);return 0==e.length?null:function(t){return function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(1===e.length){var i=e[0];if(_(i))return Hl(i,null);if(k(i)&&Object.getPrototypeOf(i)===Object.prototype){var o=Object.keys(i);return Hl(o.map(function(t){return i[t]}),o)}}if("function"==typeof e[e.length-1]){var a=e.pop();return Hl(e=1===e.length&&_(e[0])?e[0]:e,null).pipe(U(function(t){return a.apply(void 0,n(t))}))}return Hl(e,null)}(ah(t,e).map(ih)).pipe(U(oh))}}function hh(t){return null!=t?lh(sh(t)):null}function fh(t,e){return null===t?[e]:Array.isArray(t)?[].concat(n(t),[e]):[t,e]}function dh(t){return t._rawValidators}function ph(t){return t._rawAsyncValidators}var vh=function(){var t=function(){function t(){v(this,t),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}return m(t,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"_setValidators",value:function(t){this._rawValidators=t||[],this._composedValidatorFn=ch(this._rawValidators)}},{key:"_setAsyncValidators",value:function(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=hh(this._rawAsyncValidators)}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}},{key:"_registerOnDestroy",value:function(t){this._onDestroyCallbacks.push(t)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(t){return t()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ae({type:t}),t}(),gh=function(){var t,e=function(t){u(n,t);var e=l(n);function n(){return v(this,n),e.apply(this,arguments)}return m(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(vh);return e.\u0275fac=function(n){return(t||(t=zn(e)))(n||e)},e.\u0275dir=ae({type:e,features:[Eo]}),e}(),mh=function(t){u(n,t);var e=l(n);function n(){var t;return v(this,n),(t=e.apply(this,arguments))._parent=null,t.name=null,t.valueAccessor=null,t}return n}(vh),yh=function(){function t(e){v(this,t),this._cd=e}return m(t,[{key:"is",value:function(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}]),t}(),bh=function(){var t=function(t){u(n,t);var e=l(n);function n(t){return v(this,n),e.call(this,t)}return n}(yh);return t.\u0275fac=function(e){return new(e||t)(jo(mh,2))},t.\u0275dir=ae({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&sa("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[Eo]}),t}(),wh=function(){var t=function(t){u(n,t);var e=l(n);function n(t){return v(this,n),e.call(this,t)}return n}(yh);return t.\u0275fac=function(e){return new(e||t)(jo(gh,10))},t.\u0275dir=ae({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&sa("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[Eo]}),t}();function _h(t,e){Sh(t,e),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Ch(t,e)})}(t,e),function(t,e){var n=function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(function(){t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Ch(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){var n=function(t){e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(function(){t._unregisterOnDisabledChange(n)})}}(t,e)}function kh(t,e){var n=function(){};e.valueAccessor&&(e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n)),Eh(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(function(){}))}function Ih(t,e){t.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Sh(t,e){var n=dh(t);null!==e.validator?t.setValidators(fh(n,e.validator)):"function"==typeof n&&t.setValidators([n]);var r=ph(t);null!==e.asyncValidator?t.setAsyncValidators(fh(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);var i=function(){return t.updateValueAndValidity()};Ih(e._rawValidators,i),Ih(e._rawAsyncValidators,i)}function Eh(t,e){var n=!1;if(null!==t){if(null!==e.validator){var r=dh(t);if(Array.isArray(r)&&r.length>0){var i=r.filter(function(t){return t!==e.validator});i.length!==r.length&&(n=!0,t.setValidators(i))}}if(null!==e.asyncValidator){var o=ph(t);if(Array.isArray(o)&&o.length>0){var a=o.filter(function(t){return t!==e.asyncValidator});a.length!==o.length&&(n=!0,t.setAsyncValidators(a))}}}var s=function(){};return Ih(e._rawValidators,s),Ih(e._rawAsyncValidators,s),n}function Ch(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Th(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function Ah(t,e){return e?(Array.isArray(e),e.forEach(function(t){t.constructor===Yl?n=t:Object.getPrototypeOf(t.constructor)===Gl?r=t:i=t}),i||r||n||null):null;var n,r,i}function xh(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function Oh(t){return(Rh(t)?t.validators:t)||null}function Nh(t){return Array.isArray(t)?ch(t):t||null}function Dh(t,e){return(Rh(e)?e.asyncValidators:t)||null}function Ph(t){return Array.isArray(t)?hh(t):t||null}function Rh(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var Mh=function(){function t(e,n){v(this,t),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=Nh(this._rawValidators),this._composedAsyncValidatorFn=Ph(this._rawAsyncValidators)}return m(t,[{key:"validator",get:function(){return this._composedValidatorFn},set:function(t){this._rawValidators=this._composedValidatorFn=t}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(t){this._rawValidators=t,this._composedValidatorFn=Nh(t)}},{key:"setAsyncValidators",value:function(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Ph(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(t){return t.markAllAsTouched()})}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(function(e){e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(function(t){return t(!0)})}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(function(e){e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(function(t){return t(!1)})}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;var n=ih(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){e._hasOwnPendingAsyncValidator=!1,e.setErrors(n,{emitEvent:t})})}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;var r=t;return e.forEach(function(t){r=r instanceof Fh?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Vh&&r.at(t)||null}),r}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new Hs,this.statusChanges=new Hs}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls(function(e){return e.status===t})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(t){return t.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(t){return t.touched})}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){Rh(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}]),t}(),Lh=function(t){u(n,t);var e=l(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return v(this,n),(t=e.call(this,Oh(i),Dh(o,i)))._onChange=[],t._applyFormState(r),t._setUpdateStrategy(i),t._initObservables(),t.updateValueAndValidity({onlySelf:!0,emitEvent:!!o}),t}return m(n,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(function(t){return t(e.value,!1!==n.emitViewToModelChange)}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_unregisterOnChange",value:function(t){xh(this._onChange,t)}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_unregisterOnDisabledChange",value:function(t){xh(this._onDisabledChange,t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),n}(Mh),Fh=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this,Oh(r),Dh(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!i}),o}return m(n,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"removeControl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}},{key:"setControl",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach(function(r){e._throwIfControlMissing(r),e.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=t&&(Object.keys(t).forEach(function(r){e.controls[r]&&e.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof Lh?e.value:e.getRawValue(),t})}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,function(t,e){return!!e._syncPendingControls()||t});return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach(function(n){var r=e.controls[n];r&&t(r,n)})}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){for(var e=0,n=Object.keys(this.controls);e<n.length;e++){var r=n[e],i=this.controls[r];if(this.contains(r)&&t(i))return!0}return!1}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e})}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild(function(t,r){n=e(n,t,r)}),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))})}}]),n}(Mh),Vh=function(t){u(r,t);var n=l(r);function r(t,e,i){var o;return v(this,r),(o=n.call(this,Oh(e),Dh(i,e))).controls=t,o._initObservables(),o._setUpdateStrategy(e),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!i}),o}return m(r,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}},{key:"insert",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}},{key:"removeAt",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}},{key:"setControl",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach(function(t,r){e._throwIfControlMissing(r),e.at(r).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=t&&(t.forEach(function(t,r){e.at(r)&&e.at(r).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map(function(t){return t instanceof Lh?t.value:t.getRawValue()})}},{key:"clear",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.controls.length<1||(this._forEachChild(function(t){return t._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce(function(t,e){return!!e._syncPendingControls()||t},!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index ".concat(t))}},{key:"_forEachChild",value:function(t){this.controls.forEach(function(e,n){t(e,n)})}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})}},{key:"_anyControls",value:function(t){return this.controls.some(function(e){return e.enabled&&t(e)})}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))})}},{key:"_allControlsDisabled",value:function(){var t,n=e(this.controls);try{for(n.s();!(t=n.n()).done;){if(t.value.enabled)return!1}}catch(r){n.e(r)}finally{n.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}]),r}(Mh),Uh={provide:mh,useExisting:gt(function(){return qh})},jh=Promise.resolve(null),qh=function(){var t=function(t){u(r,t);var e=l(r);function r(t,n,i,o){var a;return v(this,r),(a=e.call(this)).control=new Lh,a._registered=!1,a.update=new Hs,a._parent=t,a._setValidators(n),a._setAsyncValidators(i),a.valueAccessor=Ah(0,o),a}return m(r,[{key:"ngOnChanges",value:function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),Th(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"path",get:function(){return this._parent?[].concat(n(this._parent.path),[this.name]):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){_h(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}},{key:"_updateValue",value:function(t){var e=this;jh.then(function(){e.control.setValue(t,{emitViewToModelChange:!1})})}},{key:"_updateDisabled",value:function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;jh.then(function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()})}}]),r}(mh);return t.\u0275fac=function(e){return new(e||t)(jo(gh,9),jo(Jl,10),jo($l,10),jo(Kl,10))},t.\u0275dir=ae({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Fa([Uh]),Eo,ye]}),t}(),Bh=function(){var t=function t(){v(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ae({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t}(),Hh=function(){var t=function t(){v(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ie({type:t}),t.\u0275inj=St({}),t}(),zh=new Qn("NgModelWithFormControlWarning"),Gh={provide:mh,useExisting:gt(function(){return Kh})},Kh=function(){var t=function(t){u(n,t);var e=l(n);function n(t,r,i,o){var a;return v(this,n),(a=e.call(this))._ngModelWarningConfig=o,a.update=new Hs,a._ngModelWarningSent=!1,a._setValidators(t),a._setAsyncValidators(r),a.valueAccessor=Ah(0,i),a}return m(n,[{key:"isDisabled",set:function(t){}},{key:"ngOnChanges",value:function(t){if(this._isControlChanged(t)){var e=t.form.previousValue;e&&kh(e,this,!1),_h(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}Th(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.form&&kh(this.form,this,!1)}},{key:"path",get:function(){return[]}},{key:"control",get:function(){return this.form}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_isControlChanged",value:function(t){return t.hasOwnProperty("form")}}]),n}(mh);return t.\u0275fac=function(e){return new(e||t)(jo(Jl,10),jo($l,10),jo(Kl,10),jo(zh,8))},t.\u0275dir=ae({type:t,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Fa([Gh]),Eo,ye]}),t._ngModelWarningSentOnce=!1,t}(),Wh={provide:gh,useExisting:gt(function(){return Qh})},Qh=function(){var t=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this)).validators=t,i.asyncValidators=r,i.submitted=!1,i._onCollectionChange=function(){return i._updateDomValue()},i.directives=[],i.form=null,i.ngSubmit=new Hs,i._setValidators(t),i._setAsyncValidators(r),i}return m(n,[{key:"ngOnChanges",value:function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}},{key:"ngOnDestroy",value:function(){this.form&&(Eh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(function(){}))}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"addControl",value:function(t){var e=this.form.get(t.path);return _h(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){kh(t.control||null,t,!1),xh(this.directives,t)}},{key:"addFormGroup",value:function(t){this._setUpFormContainer(t)}},{key:"removeFormGroup",value:function(t){this._cleanUpFormContainer(t)}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"addFormArray",value:function(t){this._setUpFormContainer(t)}},{key:"removeFormArray",value:function(t){this._cleanUpFormContainer(t)}},{key:"getFormArray",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){this.form.get(t.path).setValue(e)}},{key:"onSubmit",value:function(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_updateDomValue",value:function(){var t=this;this.directives.forEach(function(e){var n=e.control,r=t.form.get(e.path);n!==r&&(kh(n||null,e),r instanceof Lh&&(_h(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_setUpFormContainer",value:function(t){var e=this.form.get(t.path);(function(t,e){Sh(t,e)})(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"_cleanUpFormContainer",value:function(t){if(this.form){var e=this.form.get(t.path);e&&function(t,e){return Eh(t,e)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}},{key:"_updateRegistrations",value:function(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){})}},{key:"_updateValidators",value:function(){Sh(this.form,this),this._oldForm&&Eh(this._oldForm,this)}},{key:"_checkFormPresent",value:function(){}}]),n}(gh);return t.\u0275fac=function(e){return new(e||t)(jo(Jl,10),jo($l,10))},t.\u0275dir=ae({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&Yo("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Fa([Wh]),Eo,ye]}),t}(),Yh=function(){var t=function t(){v(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ie({type:t}),t.\u0275inj=St({imports:[[Hh]]}),t}(),Xh=function(){var t=function t(){v(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ie({type:t}),t.\u0275inj=St({imports:[Yh]}),t}(),Zh=function(){var t=function(){function t(){v(this,t)}return m(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:zh,useValue:e.warnOnNgModelWithFormControl}]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ie({type:t}),t.\u0275inj=St({imports:[Yh]}),t}(),Jh=function(){var t=function(){function t(){v(this,t)}return m(t,[{key:"group",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this._reduceControls(t),i=null,o=null;return null!=n&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(n)?(i=null!=n.validators?n.validators:null,o=null!=n.asyncValidators?n.asyncValidators:null,e=null!=n.updateOn?n.updateOn:void 0):(i=null!=n.validator?n.validator:null,o=null!=n.asyncValidator?n.asyncValidator:null)),new Fh(r,{asyncValidators:o,updateOn:e,validators:i})}},{key:"control",value:function(t,e,n){return new Lh(t,e,n)}},{key:"array",value:function(t,e,n){var r=this,i=t.map(function(t){return r._createControl(t)});return new Vh(i,e,n)}},{key:"_reduceControls",value:function(t){var e=this,n={};return Object.keys(t).forEach(function(r){n[r]=e._createControl(t[r])}),n}},{key:"_createControl",value:function(t){return t instanceof Lh||t instanceof Fh||t instanceof Vh?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=It({factory:function(){return new t},token:t,providedIn:Zh}),t}(),$h=function(t,e){return($h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function tf(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}$h(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var ef=function(){return(ef=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function nf(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(tT){o(tT)}}function s(t){try{u(r.throw(t))}catch(tT){o(tT)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})}function rf(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(tT){o=[6,tT],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function of(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function af(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function sf(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}var uf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&s)<<2|c>>6,h=63&c;u||(h=64,a||(l=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!==s&&(r.push(a<<4&240|s>>2),64!==u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function cf(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=cf(t[n],e[n]));return t}var lf=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function hf(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ff(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(tT){return!1}}var df=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,pf.prototype.create),o}return tf(e,t),e}(Error),pf=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?vf(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new df(i,s,r);return u},t}();function vf(t,e){return t.replace(gf,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var gf=/\{\$([^}]+)}/g;function mf(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function yf(t,e){var n=new bf(t,e);return n.subscribe.bind(n)}var bf=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=wf),void 0===r.error&&(r.error=wf),void 0===r.complete&&(r.complete=wf);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(tT){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(tT){"undefined"!=typeof console&&console.error&&console.error(tT)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function wf(){}function _f(t){return t&&t._delegate?t._delegate:t}var kf,If=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),Sf=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new lf;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(tT){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=ef({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,r=this.normalizeInstanceIdentifier(e.identifier);if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(tT){if(n)return null;throw tT}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(tT){}try{for(var r=of(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=af(i.value,2),a=o[1],s=this.normalizeInstanceIdentifier(o[0]);try{var u=this.getOrInitializeService({instanceIdentifier:s});a.resolve(u)}catch(tT){}}}catch(c){e={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return nf(this,void 0,void 0,function(){var t;return rf(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(sf(sf([],af(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),af(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.instanceIdentifier,i=t.options,o=void 0===i?{}:i,a=this.normalizeInstanceIdentifier(void 0===r?"[DEFAULT]":r);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var u=of(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=af(c.value,2),h=l[1];a===this.normalizeInstanceIdentifier(l[0])&&h.resolve(s)}}catch(f){e={error:f}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(s,a),s},t.prototype.onInit=function(t){var e=this;return this.onInitCallbacks.add(t),function(){e.onInitCallbacks.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,r;try{for(var i=of(this.onInitCallbacks),o=i.next();!o.done;o=i.next()){var a=o.value;try{a(t,e)}catch(s){}}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(jC){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),Ef=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new Sf(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();function Cf(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var Tf,Af=[],xf=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),Of={debug:xf.DEBUG,verbose:xf.VERBOSE,info:xf.INFO,warn:xf.WARN,error:xf.ERROR,silent:xf.SILENT},Nf=xf.INFO,Df=((kf={})[xf.DEBUG]="log",kf[xf.VERBOSE]="log",kf[xf.INFO]="info",kf[xf.WARN]="warn",kf[xf.ERROR]="error",kf),Pf=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=Df[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,Cf(["["+i+"]  "+t.name+":"],n))}},Rf=function(){function t(t){this.name=t,this._logLevel=Nf,this._logHandler=Pf,this._userLogHandler=null,Af.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in xf))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?Of[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Cf([this,xf.DEBUG],t)),this._logHandler.apply(this,Cf([this,xf.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Cf([this,xf.VERBOSE],t)),this._logHandler.apply(this,Cf([this,xf.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Cf([this,xf.INFO],t)),this._logHandler.apply(this,Cf([this,xf.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Cf([this,xf.WARN],t)),this._logHandler.apply(this,Cf([this,xf.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Cf([this,xf.ERROR],t)),this._logHandler.apply(this,Cf([this,xf.ERROR],t))},t}();function Mf(t){Af.forEach(function(e){e.setLogLevel(t)})}var Lf,Ff=((Tf={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Tf["bad-app-name"]="Illegal App name: '{$appName}",Tf["duplicate-app"]="Firebase App named '{$appName}' already exists",Tf["app-deleted"]="Firebase App named '{$appName}' already deleted",Tf["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Tf["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Tf),Vf=new pf("app","Firebase",Ff),Uf=((Lf={})["@firebase/app"]="fire-core",Lf["@firebase/analytics"]="fire-analytics",Lf["@firebase/app-check"]="fire-app-check",Lf["@firebase/auth"]="fire-auth",Lf["@firebase/database"]="fire-rtdb",Lf["@firebase/functions"]="fire-fn",Lf["@firebase/installations"]="fire-iid",Lf["@firebase/messaging"]="fire-fcm",Lf["@firebase/performance"]="fire-perf",Lf["@firebase/remote-config"]="fire-rc",Lf["@firebase/storage"]="fire-gcs",Lf["@firebase/firestore"]="fire-fst",Lf["fire-js"]="fire-js",Lf["firebase-wrapper"]="fire-js-all",Lf),jf=new Rf("@firebase/app"),qf=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=cf(void 0,t),this.container=new Ef(e.name),this._addComponent(new If("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(tT){jf.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,tT)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Vf.create("app-deleted",{appName:this.name_})},t}();qf.prototype.name&&qf.prototype.options||qf.prototype.delete||console.log("dc");var Bf=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw Vf.create("bad-app-name",{appName:String(a)});if(mf(e,a))throw Vf.create("duplicate-app",{appName:a});var s=new t(n,o,r);return e[a]=s,s},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=Uf[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void jf.warn(u.join(" "))}o(new If(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:Mf,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw Vf.create("invalid-log-argument");!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=Of[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:xf[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=Af;r<i.length;r++)n(i[r])}(t,e)},apps:null,SDK_VERSION:"8.6.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!mf(e,t=t||"[DEFAULT]"))throw Vf.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return jf.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var s=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw Vf.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&cf(s,o.serviceProps),r[a]=s,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var u=0,c=Object.keys(e);u<c.length;u++)e[c[u]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(qf);return e.INTERNAL=ef(ef({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){cf(e,t)},createSubscribe:yf,ErrorFactory:pf,deepExtend:cf}),e}(),Hf=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if("object"==typeof self&&self.self===self&&void 0!==self.firebase){jf.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var zf=self.firebase.SDK_VERSION;zf&&zf.indexOf("LITE")>=0&&jf.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Gf=Bf.initializeApp;Bf.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ff()&&jf.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Gf.apply(void 0,t)};var Kf=Bf;!function(t,e){t.INTERNAL.registerComponent(new If("platform-logger",function(t){return new Hf(t)},"PRIVATE")),t.registerVersion("@firebase/app","0.6.22",void 0),t.registerVersion("fire-js","")}(Kf);var Wf=Kf;Wf.registerVersion("firebase","8.6.2","app");var Qf=function(t,e){return(Qf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Yf(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Xf,Zf="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Jf=Jf||{},$f=Zf||self;function td(){}function ed(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function nd(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var rd="closure_uid_"+(1e9*Math.random()>>>0),id=0;function od(t,e,n){return t.call.apply(t.bind,arguments)}function ad(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function sd(t,e,n){return(sd=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?od:ad).apply(null,arguments)}function ud(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function cd(){return Date.now()}function ld(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function hd(){this.j=this.j,this.i=this.i}hd.prototype.j=!1,hd.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,rd)&&t[rd]||(t[rd]=++id)}(this)},hd.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var fd=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},dd=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function pd(t){return Array.prototype.concat.apply([],arguments)}function vd(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function gd(t){return/^[\s\xa0]*$/.test(t)}var md,yd=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function bd(t,e){return-1!=t.indexOf(e)}function wd(t,e){return t<e?-1:t>e?1:0}t:{var _d=$f.navigator;if(_d){var kd=_d.userAgent;if(kd){md=kd;break t}}md=""}function Id(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Sd(t){var e={};for(var n in t)e[n]=t[n];return e}var Ed="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Cd(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Ed.length;o++)n=Ed[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Td(t){return Td[" "](t),t}Td[" "]=td;var Ad,xd,Od=bd(md,"Opera"),Nd=bd(md,"Trident")||bd(md,"MSIE"),Dd=bd(md,"Edge"),Pd=Dd||Nd,Rd=bd(md,"Gecko")&&!(bd(md.toLowerCase(),"webkit")&&!bd(md,"Edge"))&&!(bd(md,"Trident")||bd(md,"MSIE"))&&!bd(md,"Edge"),Md=bd(md.toLowerCase(),"webkit")&&!bd(md,"Edge");function Ld(){var t=$f.document;return t?t.documentMode:void 0}t:{var Fd="",Vd=(xd=md,Rd?/rv:([^\);]+)(\)|;)/.exec(xd):Dd?/Edge\/([\d\.]+)/.exec(xd):Nd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(xd):Md?/WebKit\/(\S+)/.exec(xd):Od?/(?:Version)[ \/]?(\S+)/.exec(xd):void 0);if(Vd&&(Fd=Vd?Vd[1]:""),Nd){var Ud=Ld();if(null!=Ud&&Ud>parseFloat(Fd)){Ad=String(Ud);break t}}Ad=Fd}var jd={};function qd(t){return function(t,e){var n=jd;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=yd(String(Ad)).split("."),r=yd(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=wd(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||wd(0==a[2].length,0==s[2].length)||wd(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var Bd=$f.document&&Nd&&(Ld()||parseInt(Ad,10))||void 0,Hd=!Nd||9<=Number(Bd),zd=Nd&&!qd("9"),Gd=function(){if(!$f.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{$f.addEventListener("test",td,e),$f.removeEventListener("test",td,e)}catch(n){}return t}();function Kd(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Wd(t,e){if(Kd.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Rd){t:{try{Td(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Qd[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Kd.prototype.b=function(){this.defaultPrevented=!0},ld(Wd,Kd);var Qd={2:"touch",3:"pen",4:"mouse"};Wd.prototype.b=function(){Wd.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,zd)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Yd="closure_listenable_"+(1e6*Math.random()|0),Xd=0;function Zd(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Xd,this.Y=this.Z=!1}function Jd(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function $d(t){this.src=t,this.a={},this.b=0}function tp(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=fd(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Jd(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ep(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}$d.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=ep(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new Zd(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var np="closure_lm_"+(1e6*Math.random()|0),rp={};function ip(t,e,n,r,i){if(r&&r.once)return ap(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)ip(t,e[o],n,r,i);return null}return n=pp(n),t&&t[Yd]?t.va(e,n,nd(r)?!!r.capture:!!r,i):op(t,e,n,!1,r,i)}function op(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=nd(i)?!!i.capture:!!i;if(a&&!Hd)return null;var s=fp(t);if(s||(t[np]=s=new $d(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=hp,e=Hd?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Gd||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(cp(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function ap(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)ap(t,e[o],n,r,i);return null}return n=pp(n),t&&t[Yd]?t.wa(e,n,nd(r)?!!r.capture:!!r,i):op(t,e,n,!0,r,i)}function sp(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)sp(t,e[o],n,r,i);else r=nd(r)?!!r.capture:!!r,n=pp(n),t&&t[Yd]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=ep(o=t.a[e],n,r,i))&&(Jd(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=fp(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ep(e,n,r,i)),(n=-1<t?e[t]:null)&&up(n))}function up(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Yd])tp(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(cp(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=fp(e))?(tp(n,t),0==n.b&&(n.src=null,e[np]=null)):Jd(t)}}}function cp(t){return t in rp?rp[t]:rp[t]="on"+t}function lp(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&up(t),n.call(r,e)}function hp(t,e){if(t.Y)return!0;if(!Hd){if(!e)t:{e=["window","event"];for(var n=$f,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return lp(t,e=new Wd(e,this))}return lp(t,new Wd(e,this))}function fp(t){return(t=t[np])instanceof $d?t:null}var dp="__closure_events_fn_"+(1e9*Math.random()>>>0);function pp(t){return"function"==typeof t?t:(t[dp]||(t[dp]=function(e){return t.handleEvent(e)}),t[dp])}function vp(){hd.call(this),this.c=new $d(this),this.J=this,this.C=null}function gp(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Kd(e,t);else if(e instanceof Kd)e.target=e.target||t;else{var i=e;Cd(e=new Kd(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=mp(a,r,!0,e)&&i}if(i=mp(a=e.a=t,r,!0,e)&&i,i=mp(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=mp(a=e.a=n[o],r,!1,e)&&i}function mp(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&tp(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}ld(vp,hd),vp.prototype[Yd]=!0,(Xf=vp.prototype).addEventListener=function(t,e,n,r){ip(this,t,e,n,r)},Xf.removeEventListener=function(t,e,n,r){sp(this,t,e,n,r)},Xf.G=function(){if(vp.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Jd(n[r]);delete e.a[t],e.b--}}this.C=null},Xf.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Xf.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var yp=$f.JSON.stringify;function bp(){this.b=this.a=null}var wp,_p=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Ip},function(t){t.reset()});function kp(){var t=Tp,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ip(){this.next=this.b=this.a=null}function Sp(t){$f.setTimeout(function(){throw t},0)}function Ep(t,e){wp||function(){var t=$f.Promise.resolve(void 0);wp=function(){t.then(Ap)}}(),Cp||(wp(),Cp=!0),Tp.add(t,e)}bp.prototype.add=function(t,e){var n=_p.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ip.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ip.prototype.reset=function(){this.next=this.b=this.a=null};var Cp=!1,Tp=new bp;function Ap(){for(var t;t=kp();){try{t.a.call(t.b)}catch(n){Sp(n)}var e=_p;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Cp=!1}function xp(t,e){vp.call(this),this.b=t||1,this.a=e||$f,this.f=sd(this.Za,this),this.g=cd()}function Op(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Np(t,e,n){if("function"==typeof t)n&&(t=sd(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=sd(t.handleEvent,t)}return 2147483647<Number(e)?-1:$f.setTimeout(t,e||0)}function Dp(t){t.a=Np(function(){t.a=null,t.c&&(t.c=!1,Dp(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}ld(xp,vp),(Xf=xp.prototype).aa=!1,Xf.M=null,Xf.Za=function(){if(this.aa){var t=cd()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),gp(this,"tick"),this.aa&&(Op(this),this.start()))}},Xf.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=cd())},Xf.G=function(){xp.X.G.call(this),Op(this),delete this.a};var Pp=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Qf(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Dp(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&($f.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(hd);function Rp(t){hd.call(this),this.b=t,this.a={}}ld(Rp,hd);var Mp=[];function Lp(t,e,n,r){Array.isArray(n)||(n&&(Mp[0]=n.toString()),n=Mp);for(var i=0;i<n.length;i++){var o=ip(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Fp(t){Id(t.a,function(t,e){this.a.hasOwnProperty(e)&&up(t)},t),t.a={}}function Vp(){this.a=!0}function Up(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return yp(n)}catch(s){return e}}(t,n)+(r?" "+r:"")})}Rp.prototype.G=function(){Rp.X.G.call(this),Fp(this)},Rp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Vp.prototype.info=function(){};var jp={},qp=null;function Bp(){return qp=qp||new vp}function Hp(t){Kd.call(this,jp.Fa,t)}function zp(t){var e=Bp();gp(e,new Hp(e,t))}function Gp(t,e){Kd.call(this,jp.STAT_EVENT,t),this.stat=e}function Kp(t){var e=Bp();gp(e,new Gp(e,t))}function Wp(t){Kd.call(this,jp.Ga,t)}function Qp(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return $f.setTimeout(function(){t()},e)}jp.Fa="serverreachability",ld(Hp,Kd),jp.STAT_EVENT="statevent",ld(Gp,Kd),jp.Ga="timingevent",ld(Wp,Kd);var Yp={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Xp={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Zp(){}function Jp(){}Zp.prototype.a=null;var $p,tv={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function ev(){Kd.call(this,"d")}function nv(){Kd.call(this,"c")}function rv(){}function iv(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Rp(this),this.P=ov,this.R=new xp(t=Pd?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}ld(ev,Kd),ld(nv,Kd),ld(rv,Zp),$p=new rv;var ov=45e3,av={},sv={};function uv(t,e,n){t.H=1,t.i=Ov(Sv(e)),t.j=n,t.I=!0,cv(t,null)}function cv(t,e){t.u=cd(),fv(t),t.l=Sv(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Hv(n.b,"t",r),t.D=0,t.a=Fg(t.g,t.g.C?e:null),0<t.O&&(t.F=new Pp(sd(t.Ca,t,t.a),t.O)),Lp(t.J,t.a,"readystatechange",t.Xa),e=t.B?Sd(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),zp(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a})}(t.c,t.m,t.l,t.f,t.S,t.j)}function lv(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=hv(t,n);if(i==sv){4==e&&(t.h=4,Kp(14),r=!1),Up(t.c,t.f,null,"[Incomplete Response]");break}if(i==av){t.h=4,Kp(15),Up(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Up(t.c,t.f,i,null),mv(t,i)}4==e&&0==n.length&&(t.h=1,Kp(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),xg(e),e.F=!0,Kp(11))):(Up(t.c,t.f,n,"[Invalid Chunked Response]"),gv(t),vv(t))}function hv(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?sv:(n=Number(e.substring(n,r)),isNaN(n)?av:(r+=1)+n>e.length?sv:(e=e.substr(r,n),t.D=r+n,e))}function fv(t){t.T=cd()+t.P,dv(t,t.P)}function dv(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Qp(sd(t.Va,t),e)}function pv(t){t.o&&($f.clearTimeout(t.o),t.o=null)}function vv(t){0==t.g.v||t.A||Dg(t.g,t)}function gv(t){pv(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Op(t.R),Fp(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function mv(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Xv(n.b,t)))if(n.I=t.N,!t.C&&Xv(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(mC){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Ng(n),wg(n)}Ag(n),Kp(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Qp(sd(n.Sa,n),6e3));if(1>=Yv(n.b)&&n.ea){try{n.ea()}catch(mC){}n.ea=void 0}}else Rg(n,11)}else if((t.C||n.a==t)&&Ng(n),!gd(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(bd(l,"spdy")||bd(l,"quic")||bd(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Zv(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,xv(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=cd()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Lg(u,u.C?u.ga:null,u.fa),d.C){Jv(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(pv(p),fv(p)),u.a=d}else Tg(u);0<n.g.length&&Ig(n)}else"stop"!=i[0]&&"close"!=i[0]||Rg(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Rg(n,7):bg(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);zp(4)}catch(mC){}}function yv(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ed(t)||"string"==typeof t)dd(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(ed(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(ed(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function bv(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof bv)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function wv(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];_v(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)_v(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function _v(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Xf=iv.prototype).setTimeout=function(t){this.P=t},Xf.Xa=function(t){t=t.target;var e=this.F;e&&3==vg(t)?e.f():this.Ca(t)},Xf.Ca=function(t){try{if(t==this.a)t:{var e=vg(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Pd&&!this.a.$())){this.A||4!=e||7==n||zp(8==n||0>=r?3:2),pv(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gd(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,Kp(12),gv(this),vv(this);break t}Up(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,mv(this,u)}this.I?(lv(this,e,o),Pd&&this.b&&3==e&&(Lp(this.J,this.R,"tick",this.Wa),this.R.start())):(Up(this.c,this.f,o,null),mv(this,o)),4==e&&gv(this),this.b&&!this.A&&(4==e?Dg(this.g,this):(this.b=!1,fv(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Kp(12)):(this.h=0,Kp(13)),gv(this),vv(this)}}}catch(Ia){}},Xf.Wa=function(){if(this.a){var t=vg(this.a),e=this.a.$();this.D<e.length&&(pv(this),lv(this,t,e),this.b&&4!=t&&fv(this))}},Xf.cancel=function(){this.A=!0,gv(this)},Xf.Va=function(){this.o=null;var t=cd();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(zp(3),Kp(17)),gv(this),this.h=2,vv(this)):dv(this,this.T-t)},(Xf=bv.prototype).K=function(){wv(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Xf.L=function(){return wv(this),this.a.concat()},Xf.get=function(t,e){return _v(this.b,t)?this.b[t]:e},Xf.set=function(t,e){_v(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Xf.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var kv=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Iv(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Iv){this.a=void 0!==e?e:t.a,Ev(this,t.f),this.j=t.j,Cv(this,t.c),Tv(this,t.h),this.g=t.g,e=t.b;var n=new Uv;n.c=e.c,e.a&&(n.a=new bv(e.a),n.b=e.b),Av(this,n),this.i=t.i}else t&&(n=String(t).match(kv))?(this.a=!!e,Ev(this,n[1]||"",!0),this.j=Nv(n[2]||""),Cv(this,n[3]||"",!0),Tv(this,n[4]),this.g=Nv(n[5]||"",!0),Av(this,n[6]||"",!0),this.i=Nv(n[7]||"")):(this.a=!!e,this.b=new Uv(null,this.a))}function Sv(t){return new Iv(t)}function Ev(t,e,n){t.f=n?Nv(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Cv(t,e,n){t.c=n?Nv(e,!0):e}function Tv(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Av(t,e,n){e instanceof Uv?(t.b=e,function(t,e){e&&!t.f&&(jv(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(qv(this,e),Hv(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Dv(e,Fv)),t.b=new Uv(e,t.a))}function xv(t,e,n){t.b.set(e,n)}function Ov(t){return xv(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^cd()).toString(36)),t}function Nv(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Dv(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Pv),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Pv(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Iv.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Dv(e,Rv,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Dv(e,Rv,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Dv(n,"/"==n.charAt(0)?Lv:Mv,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Dv(n,Vv)),t.join("")};var Rv=/[#\/\?@]/g,Mv=/[#\?:]/g,Lv=/[#\?]/g,Fv=/[#\?@]/g,Vv=/#/g;function Uv(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function jv(t){t.a||(t.a=new bv,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function qv(t,e){jv(t),e=zv(t,e),_v(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,_v((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&wv(t)))}function Bv(t,e){return jv(t),e=zv(t,e),_v(t.a.b,e)}function Hv(t,e,n){qv(t,e),0<n.length&&(t.c=null,t.a.set(zv(t,e),vd(n)),t.b+=n.length)}function zv(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Xf=Uv.prototype).add=function(t,e){jv(this),this.c=null,t=zv(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Xf.forEach=function(t,e){jv(this),this.a.forEach(function(n,r){dd(n,function(n){t.call(e,n,r,this)},this)},this)},Xf.L=function(){jv(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Xf.K=function(t){jv(this);var e=[];if("string"==typeof t)Bv(this,t)&&(e=pd(e,this.a.get(zv(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=pd(e,t[n])}return e},Xf.set=function(t,e){return jv(this),this.c=null,Bv(this,t=zv(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Xf.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Xf.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var Gv=function(t,e){this.b=t,this.a=e};function Kv(t){this.g=t||Wv,t=$f.PerformanceNavigationTiming?0<(t=$f.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!($f.ia&&$f.ia.ya&&$f.ia.ya()&&$f.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Wv=10;function Qv(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Yv(t){return t.b?1:t.a?t.a.size:0}function Xv(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Zv(t,e){t.a?t.a.add(e):t.b=e}function Jv(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function $v(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Yf(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return vd(t.c)}function tg(){}function eg(){this.a=new tg}function ng(t,e,n){var r=n||"";try{yv(t,function(t,n){var i=t;nd(t)&&(i=yp(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(tT){throw e.push(r+"type="+encodeURIComponent("_badmap")),tT}}function rg(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Kv.prototype.cancel=function(){var t,e;if(this.c=$v(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Yf(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},tg.prototype.stringify=function(t){return $f.JSON.stringify(t,void 0)},tg.prototype.parse=function(t){return $f.JSON.parse(t,void 0)};var ig=$f.JSON.parse;function og(t){vp.call(this),this.headers=new bv,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=ag,this.D=this.F=!1}ld(og,vp);var ag="",sg=/^https?$/i,ug=["POST","PUT"];function cg(t){return"content-type"==t.toLowerCase()}function lg(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,hg(t),dg(t)}function hg(t){t.u||(t.u=!0,gp(t,"complete"),gp(t,"error"))}function fg(t){if(t.b&&void 0!==Jf&&(!t.s[1]||4!=vg(t)||2!=t.W()))if(t.l&&4==vg(t))Np(t.za,0,t);else if(gp(t,"readystatechange"),4==vg(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(kv)[1]||null;if(!o&&$f.self&&$f.self.location){var a=$f.self.location.protocol;o=a.substr(0,a.length-1)}i=!sg.test(o?o.toLowerCase():"")}e=i}if(e)gp(t,"complete"),gp(t,"success");else{t.h=6;try{var s=2<vg(t)?t.a.statusText:""}catch(n){s=""}t.f=s+" ["+t.W()+"]",hg(t)}}finally{dg(t)}}}function dg(t,e){if(t.a){pg(t);var n=t.a,r=t.s[0]?td:null;t.a=null,t.s=null,e||gp(t,"ready");try{n.onreadystatechange=r}catch(tT){}}}function pg(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&($f.clearTimeout(t.m),t.m=null)}function vg(t){return t.a?t.a.readyState:0}function gg(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Id(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):xv(t,e,n))}function mg(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function yg(t){this.pa=0,this.g=[],this.c=new Vp,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=mg("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=mg("baseRetryDelayMs",5e3,t),this.Ra=mg("retryDelaySeedMs",1e4,t),this.Ma=mg("forwardChannelMaxRetries",2,t),this.ma=mg("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Kv(t&&t.concurrentRequestLimit),this.ka=new eg,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function bg(t){if(_g(t),3==t.v){var e=t.R++,n=Sv(t.B);xv(n,"SID",t.J),xv(n,"RID",e),xv(n,"TYPE","terminate"),Eg(t,n),(e=new iv(t,t.c,e,void 0)).H=2,e.i=Ov(Sv(n)),n=!1,$f.navigator&&$f.navigator.sendBeacon&&(n=$f.navigator.sendBeacon(e.i.toString(),"")),!n&&$f.Image&&((new Image).src=e.i,n=!0),n||(e.a=Fg(e.g,null),e.a.ba(e.i)),e.u=cd(),fv(e)}Mg(t)}function wg(t){t.a&&(xg(t),t.a.cancel(),t.a=null)}function _g(t){wg(t),t.j&&($f.clearTimeout(t.j),t.j=null),Ng(t),t.b.cancel(),t.h&&("number"==typeof t.h&&$f.clearTimeout(t.h),t.h=null)}function kg(t,e){t.g.push(new Gv(t.Oa++,e)),3==t.v&&Ig(t)}function Ig(t){Qv(t.b)||t.h||(t.h=!0,Ep(t.Ba,t),t.u=0)}function Sg(t,e){var n;n=e?e.f:t.R++;var r=Sv(t.B);xv(r,"SID",t.J),xv(r,"RID",n),xv(r,"AID",t.P),Eg(t,r),t.i&&t.l&&gg(r,t.i,t.l),n=new iv(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Cg(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Zv(t.b,n),uv(n,r,e)}function Eg(t,e){t.f&&yv({},function(t,n){xv(e,n,t)})}function Cg(t,e,n){n=Math.min(t.g.length,n);var r=t.f?sd(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].b)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{ng(l,a,"req"+c+"_")}catch(dm){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Tg(t){t.a||t.j||(t.T=1,Ep(t.Aa,t),t.o=0)}function Ag(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Qp(sd(t.Aa,t),Pg(t,t.o)),t.o++,0))}function xg(t){null!=t.s&&($f.clearTimeout(t.s),t.s=null)}function Og(t){t.a=new iv(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Sv(t.la);xv(e,"RID","rpc"),xv(e,"SID",t.J),xv(e,"CI",t.H?"0":"1"),xv(e,"AID",t.P),Eg(t,e),xv(e,"TYPE","xmlhttp"),t.i&&t.l&&gg(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Ov(Sv(e)),n.j=null,n.I=!0,cv(n,t)}function Ng(t){null!=t.m&&($f.clearTimeout(t.m),t.m=null)}function Dg(t,e){var n=null;if(t.a==e){Ng(t),xg(t),t.a=null;var r=2}else{if(!Xv(t.b,e))return;n=e.s,Jv(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=cd()-e.u;var i=t.u;gp(r=Bp(),new Wp(r,n,e,i)),Ig(t)}else Tg(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Yv(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Qp(sd(t.Ba,t,e),Pg(t,t.u)),t.u++,0)))}(t,e)||2==r&&Ag(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Rg(t,5);break;case 4:Rg(t,10);break;case 3:Rg(t,6);break;default:Rg(t,2)}}function Pg(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Rg(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=sd(t.Ya,t);n||(n=new Iv("//www.google.com/images/cleardot.gif"),$f.location&&"http"==$f.location.protocol||Ev(n,"https"),Ov(n)),function(t,e){var n=new Vp;if($f.Image){var r=new Image;r.onload=ud(rg,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ud(rg,n,r,"TestLoadImage: error",!1,e),r.onabort=ud(rg,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ud(rg,n,r,"TestLoadImage: timeout",!1,e),$f.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Kp(2);t.v=0,t.f&&t.f.ra(e),Mg(t),_g(t)}function Mg(t){t.v=0,t.I=-1,t.f&&(0==$v(t.b).length&&0==t.g.length||(t.b.c.length=0,vd(t.g),t.g.length=0),t.f.qa())}function Lg(t,e,n){var r=function(t){return t instanceof Iv?Sv(t):new Iv(t,void 0)}(n);if(""!=r.c)e&&Cv(r,e+"."+r.c),Tv(r,r.h);else{var i=$f.location;r=function(t,e,n,r){var i=new Iv(null,void 0);return t&&Ev(i,t),e&&Cv(i,e),n&&Tv(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Id(t.V,function(t,e){xv(r,e,t)}),n=t.na,(e=t.A)&&n&&xv(r,e,n),xv(r,"VER",t.ha),Eg(t,r),r}function Fg(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new og(t.Na)).F=t.C,e}function Vg(){}function Ug(){if(Nd&&!(10<=Number(Bd)))throw Error("Environmental error: no available transport.")}function jg(t,e){vp.call(this),this.a=new yg(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!gd(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!gd(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Hg(this)}function qg(t){ev.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Bg(){nv.call(this),this.status=1}function Hg(t){this.a=t}(Xf=og.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:$p),this.a.onreadystatechange=sd(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void lg(this,o)}t=n||"";var i=new bv(this.headers);r&&yv(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=cg,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=$f.FormData&&t instanceof $f.FormData,!(0<=fd(ug,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{pg(this),0<this.o&&((this.D=function(t){return Nd&&qd(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=sd(this.xa,this)):this.m=Np(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){lg(this,o)}},Xf.xa=function(){void 0!==Jf&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,gp(this,"timeout"),this.abort(8))},Xf.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,gp(this,"complete"),gp(this,"abort"),dg(this))},Xf.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),dg(this,!0)),og.X.G.call(this)},Xf.za=function(){this.j||(this.A||this.l||this.g?fg(this):this.Ua())},Xf.Ua=function(){fg(this)},Xf.W=function(){try{return 2<vg(this)?this.a.status:-1}catch(xd){return-1}},Xf.$=function(){try{return this.a?this.a.responseText:""}catch(xd){return""}},Xf.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ig(e)}},Xf.ua=function(){return this.h},Xf.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Xf=yg.prototype).ha=8,Xf.v=1,Xf.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new iv(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Cd(r=Sd(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Cg(this,n,e),xv(i=Sv(this.B),"RID",t),xv(i,"CVER",22),this.A&&xv(i,"X-HTTP-Session-Id",this.A),Eg(this,i),this.i&&r&&gg(i,this.i,r),Zv(this.b,n),this.Ia&&xv(i,"TYPE","init"),this.da?(xv(i,"$req",e),xv(i,"SID","null"),n.U=!0,uv(n,i,null)):uv(n,i,e),this.v=2}}else 3==this.v&&(t?Sg(this,t):0==this.g.length||Qv(this.b)||Sg(this))},Xf.Aa=function(){if(this.j=null,Og(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Qp(sd(this.Ta,this),t)}},Xf.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Kp(10),wg(this),Og(this))},Xf.Sa=function(){null!=this.m&&(this.m=null,wg(this),Ag(this),Kp(19))},Xf.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Kp(2)):(this.c.info("Failed to ping google.com"),Kp(1))},(Xf=Vg.prototype).ta=function(){},Xf.sa=function(){},Xf.ra=function(){},Xf.qa=function(){},Xf.Ja=function(){},Ug.prototype.a=function(t,e){return new jg(t,e)},ld(jg,vp),jg.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Kp(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Lg(t,null,t.fa),Ig(t)},jg.prototype.close=function(){bg(this.a)},jg.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,kg(this.a,e)}else this.l?((e={}).__data__=yp(t),kg(this.a,e)):kg(this.a,t)},jg.prototype.G=function(){this.a.f=null,delete this.f,bg(this.a),delete this.a,jg.X.G.call(this)},ld(qg,ev),ld(Bg,nv),ld(Hg,Vg),Hg.prototype.ta=function(){gp(this.a,"a")},Hg.prototype.sa=function(t){gp(this.a,new qg(t))},Hg.prototype.ra=function(t){gp(this.a,new Bg(t))},Hg.prototype.qa=function(){gp(this.a,"b")},Ug.prototype.createWebChannel=Ug.prototype.a,jg.prototype.send=jg.prototype.h,jg.prototype.open=jg.prototype.g,jg.prototype.close=jg.prototype.close,Yp.NO_ERROR=0,Yp.TIMEOUT=8,Yp.HTTP_ERROR=6,Xp.COMPLETE="complete",Jp.EventType=tv,tv.OPEN="a",tv.CLOSE="b",tv.ERROR="c",tv.MESSAGE="d",vp.prototype.listen=vp.prototype.va,og.prototype.listenOnce=og.prototype.wa,og.prototype.getLastError=og.prototype.Qa,og.prototype.getLastErrorCode=og.prototype.ua,og.prototype.getStatus=og.prototype.W,og.prototype.getResponseJson=og.prototype.Pa,og.prototype.getResponseText=og.prototype.$,og.prototype.send=og.prototype.ba;var zg=Yp,Gg=Xp,Kg=jp,Wg=Jp,Qg=og,Yg=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Yg.o=-1;var Xg={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Zg=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return tf(e,t),e}(Error),Jg=new Rf("@firebase/firestore");function $g(){return Jg.logLevel}function tm(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Jg.logLevel<=xf.DEBUG){var r=e.map(rm);Jg.debug.apply(Jg,sf(["Firestore (8.6.2): "+t],r))}}function em(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Jg.logLevel<=xf.ERROR){var r=e.map(rm);Jg.error.apply(Jg,sf(["Firestore (8.6.2): "+t],r))}}function nm(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Jg.logLevel<=xf.WARN){var r=e.map(rm);Jg.warn.apply(Jg,sf(["Firestore (8.6.2): "+t],r))}}function rm(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(tT){return t}}function im(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.6.2) INTERNAL ASSERTION FAILED: "+t;throw em(e),new Error(e)}function om(t,e){t||im()}function am(t,e){return t}function sm(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var um=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=sm(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function cm(t,e){return t<e?-1:t>e?1:0}function lm(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function hm(t){return t+"\0"}var fm=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Zg(Xg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Zg(Xg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Zg(Xg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Zg(Xg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?cm(this.nanoseconds,t.nanoseconds):cm(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),dm=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new fm(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function pm(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function vm(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gm(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var mm=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&im(),void 0===n?n=t.length-e:n>t.length-e&&im(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),ym=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tf(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new Zg(Xg.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(mm),bm=/^[_a-zA-Z][_a-zA-Z0-9]*$/,wm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tf(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return bm.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Zg(Xg.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new Zg(Xg.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Zg(Xg.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Zg(Xg.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(mm),_m=function(){function t(t){this.fields=t,t.sort(wm.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return lm(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),km=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return cm(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();km.EMPTY_BYTE_STRING=new km("");var Im=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sm(t){if(om(!!t),"string"==typeof t){var e=0,n=Im.exec(t);if(om(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Em(t.seconds),nanos:Em(t.nanos)}}function Em(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Cm(t){return"string"==typeof t?km.fromBase64String(t):km.fromUint8Array(t)}function Tm(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Am(t){var e=t.mapValue.fields.__previous_value__;return Tm(e)?Am(e):e}function xm(t){var e=Sm(t.mapValue.fields.__local_write_time__.timestampValue);return new fm(e.seconds,e.nanos)}function Om(t){return null==t}function Nm(t){return 0===t&&1/t==-1/0}function Dm(t){return"number"==typeof t&&Number.isInteger(t)&&!Nm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Pm=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(ym.fromString(e))},t.fromName=function(e){return new t(ym.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===ym.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return ym.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new ym(e.slice()))},t}();function Rm(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Tm(t)?4:10:im()}function Mm(t,e){var n=Rm(t);if(n!==Rm(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xm(t).isEqual(xm(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Sm(t.timestampValue),r=Sm(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Cm(t.bytesValue).isEqual(Cm(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Em(t.geoPointValue.latitude)===Em(e.geoPointValue.latitude)&&Em(t.geoPointValue.longitude)===Em(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Em(t.integerValue)===Em(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Em(t.doubleValue),r=Em(e.doubleValue);return n===r?Nm(n)===Nm(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return lm(t.arrayValue.values||[],e.arrayValue.values||[],Mm);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(pm(n)!==pm(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Mm(n[i],r[i])))return!1;return!0}(t,e);default:return im()}}function Lm(t,e){return void 0!==(t.values||[]).find(function(t){return Mm(t,e)})}function Fm(t,e){var n=Rm(t),r=Rm(e);if(n!==r)return cm(n,r);switch(n){case 0:return 0;case 1:return cm(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Em(t.integerValue||t.doubleValue),r=Em(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Vm(t.timestampValue,e.timestampValue);case 4:return Vm(xm(t),xm(e));case 5:return cm(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Cm(t),r=Cm(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=cm(n[i],r[i]);if(0!==o)return o}return cm(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=cm(Em(t.latitude),Em(e.latitude));return 0!==n?n:cm(Em(t.longitude),Em(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Fm(n[i],r[i]);if(o)return o}return cm(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=cm(r[a],o[a]);if(0!==s)return s;var u=Fm(n[r[a]],i[o[a]]);if(0!==u)return u}return cm(r.length,o.length)}(t.mapValue,e.mapValue);default:throw im()}}function Vm(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return cm(t,e);var n=Sm(t),r=Sm(e),i=cm(n.seconds,r.seconds);return 0!==i?i:cm(n.nanos,r.nanos)}function Um(t){return jm(t)}function jm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Sm(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Cm(t.bytesValue).toBase64():"referenceValue"in t?Pm.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=jm(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+jm(t.fields[o])}return e+"}"}(t.mapValue):im();var e}function qm(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Bm(t){return!!t&&"integerValue"in t}function Hm(t){return!!t&&"arrayValue"in t}function zm(t){return!!t&&"nullValue"in t}function Gm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Km(t){return!!t&&"mapValue"in t}var Wm=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(wm.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach(function(t,n){t?e.set(n,t):e.delete(n)})},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return Mm(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Rm(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,o=t.extractNestedValue(this.partialValue,e),a=Km(o)?Object.assign({},o.mapValue.fields):{};return n.forEach(function(t,n){if(t instanceof Map){var o=r.applyOverlay(e.child(n),t);null!=o&&(a[n]=o,i=!0)}else null!==t?(a[n]=t,i=!0):a.hasOwnProperty(n)&&(delete a[n],i=!0)}),i?{mapValue:{fields:a}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(wm.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!Km(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function Qm(t){var e=[];return vm(t.fields||{},function(t,n){var r=new wm([t]);if(Km(n)){var i=Qm(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++)e.push(r.child(a[o]))}else e.push(r)}),new _m(e)}var Ym=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,dm.min(),Wm.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Wm.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Wm.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Wm.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Wm.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Xm=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function Zm(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Xm(t,e,n,r,i,o,a)}function Jm(t){var e=am(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Um(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),Om(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=hy(e.startAt)),e.endAt&&(n+="|ub:",n+=hy(e.endAt)),e.h=n}return e.h}function $m(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!dy(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Mm(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vy(t.startAt,e.startAt)&&vy(t.endAt,e.endAt)}function ty(t){return Pm.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var ey=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return tf(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new ny(t,n,r):"array-contains"===n?new ay(t,r):"in"===n?new sy(t,r):"not-in"===n?new uy(t,r):"array-contains-any"===n?new cy(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new ry(t,n):new iy(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Fm(e,this.value)):null!==e&&Rm(this.value)===Rm(e)&&this.m(Fm(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return im()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),ny=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Pm.fromName(r.referenceValue),i}return tf(e,t),e.prototype.matches=function(t){var e=Pm.comparator(t.key,this.key);return this.m(e)},e}(ey),ry=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=oy(0,n),r}return tf(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(ey),iy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=oy(0,n),r}return tf(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(ey);function oy(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Pm.fromName(t.referenceValue)})}var ay=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return tf(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Hm(e)&&Lm(e.arrayValue,this.value)},e}(ey),sy=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return tf(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Lm(this.value.arrayValue,e)},e}(ey),uy=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return tf(e,t),e.prototype.matches=function(t){if(Lm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Lm(this.value.arrayValue,e)},e}(ey),cy=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return tf(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Hm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Lm(e.value.arrayValue,t)})},e}(ey),ly=function(t,e){this.position=t,this.before=e};function hy(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Um(t)}).join(",")}var fy=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function dy(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function py(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?Pm.comparator(Pm.fromName(a.referenceValue),n.key):Fm(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function vy(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Mm(t.position[n],e.position[n]))return!1;return!0}var gy=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null};function my(t,e,n,r,i,o,a,s){return new gy(t,e,n,r,i,o,a,s)}function yy(t){return new gy(t)}function by(t){return!Om(t.limit)&&"F"===t.limitType}function wy(t){return!Om(t.limit)&&"L"===t.limitType}function _y(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function ky(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Iy(t){return null!==t.collectionGroup}function Sy(t){var e=am(t);if(null===e.p){e.p=[];var n=ky(e),r=_y(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new fy(n)),e.p.push(new fy(wm.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var s=a[o];e.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new fy(wm.keyField(),u))}}}return e.p}function Ey(t){var e=am(t);if(!e.T)if("F"===e.limitType)e.T=Zm(e.path,e.collectionGroup,Sy(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Sy(e);r<i.length;r++){var o=i[r];n.push(new fy(o.field,"desc"===o.dir?"asc":"desc"))}var a=e.endAt?new ly(e.endAt.position,!e.endAt.before):null,s=e.startAt?new ly(e.startAt.position,!e.startAt.before):null;e.T=Zm(e.path,e.collectionGroup,n,e.filters,e.limit,a,s)}return e.T}function Cy(t,e,n){return new gy(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ty(t,e){return $m(Ey(t),Ey(e))&&t.limitType===e.limitType}function Ay(t){return Jm(Ey(t))+"|lt:"+t.limitType}function xy(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Um(e.value);var e}).join(", ")+"]"),Om(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+hy(t.startAt)),t.endAt&&(e+=", endAt: "+hy(t.endAt)),"Target("+e+")"}(Ey(t))+"; limitType="+t.limitType+")"}function Oy(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Pm.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!py(t.startAt,Sy(t),e)||t.endAt&&py(t.endAt,Sy(t),e))}(t,e)}function Ny(t){return function(e,n){for(var r=!1,i=0,o=Sy(t);i<o.length;i++){var a=o[i],s=Dy(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function Dy(t,e,n){var r=t.field.isKeyField()?Pm.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Fm(r,i):im()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return im()}}function Py(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nm(e)?"-0":e}}function Ry(t){return{integerValue:""+t}}function My(t,e){return Dm(e)?Ry(e):Py(t,e)}var Ly=function(){this._=void 0};function Fy(t,e,n){return t instanceof jy?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof qy?By(t,e):t instanceof Hy?zy(t,e):function(t,e){var n=Uy(t,e),r=Ky(n)+Ky(t.A);return Bm(n)&&Bm(t.A)?Ry(r):Py(t.R,r)}(t,e)}function Vy(t,e,n){return t instanceof qy?By(t,e):t instanceof Hy?zy(t,e):n}function Uy(t,e){return t instanceof Gy?Bm(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var jy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tf(e,t),e}(Ly),qy=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return tf(e,t),e}(Ly);function By(t,e){for(var n=Wy(e),r=function(t){n.some(function(e){return Mm(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Hy=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return tf(e,t),e}(Ly);function zy(t,e){for(var n=Wy(e),r=function(t){n=n.filter(function(e){return!Mm(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Gy=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return tf(e,t),e}(Ly);function Ky(t){return Em(t.integerValue||t.doubleValue)}function Wy(t){return Hm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Qy=function(t,e){this.field=t,this.transform=e},Yy=function(t,e){this.version=t,this.transformResults=e},Xy=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Zy(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Jy=function(){};function $y(t,e,n){t instanceof ib?function(t,e,n){var r=t.value.clone(),i=sb(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof ob?function(t,e,n){if(Zy(t.precondition,e)){var r=sb(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(ab(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function tb(t,e,n){t instanceof ib?function(t,e,n){if(Zy(t.precondition,e)){var r=t.value.clone(),i=ub(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(rb(e),r).setHasLocalMutations()}}(t,e,n):t instanceof ob?function(t,e,n){if(Zy(t.precondition,e)){var r=ub(t.fieldTransforms,n,e),i=e.data;i.setAll(ab(t)),i.setAll(r),e.convertToFoundDocument(rb(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Zy(t.precondition,e)&&e.convertToNoDocument(dm.min())}(t,e)}function eb(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),s=Uy(o.transform,a||null);null!=s&&(null==n&&(n=Wm.empty()),n.set(o.field,s))}return n||null}function nb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&lm(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof qy&&e instanceof qy||t instanceof Hy&&e instanceof Hy?lm(t.elements,e.elements,Mm):t instanceof Gy&&e instanceof Gy?Mm(t.A,e.A):t instanceof jy&&e instanceof jy}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function rb(t){return t.isFoundDocument()?t.version:dm.min()}var ib=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return tf(e,t),e}(Jy),ob=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return tf(e,t),e}(Jy);function ab(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function sb(t,e,n){var r=new Map;om(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,Vy(a,s,n[i]))}return r}function ub(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,Fy(s,u,e))}return r}var cb,lb,hb=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return tf(e,t),e}(Jy),fb=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return tf(e,t),e}(Jy),db=function(t){this.count=t};function pb(t){switch(t){case Xg.OK:return im();case Xg.CANCELLED:case Xg.UNKNOWN:case Xg.DEADLINE_EXCEEDED:case Xg.RESOURCE_EXHAUSTED:case Xg.INTERNAL:case Xg.UNAVAILABLE:case Xg.UNAUTHENTICATED:return!1;case Xg.INVALID_ARGUMENT:case Xg.NOT_FOUND:case Xg.ALREADY_EXISTS:case Xg.PERMISSION_DENIED:case Xg.FAILED_PRECONDITION:case Xg.ABORTED:case Xg.OUT_OF_RANGE:case Xg.UNIMPLEMENTED:case Xg.DATA_LOSS:return!0;default:return im()}}function vb(t){if(void 0===t)return em("GRPC error has no .code"),Xg.UNKNOWN;switch(t){case cb.OK:return Xg.OK;case cb.CANCELLED:return Xg.CANCELLED;case cb.UNKNOWN:return Xg.UNKNOWN;case cb.DEADLINE_EXCEEDED:return Xg.DEADLINE_EXCEEDED;case cb.RESOURCE_EXHAUSTED:return Xg.RESOURCE_EXHAUSTED;case cb.INTERNAL:return Xg.INTERNAL;case cb.UNAVAILABLE:return Xg.UNAVAILABLE;case cb.UNAUTHENTICATED:return Xg.UNAUTHENTICATED;case cb.INVALID_ARGUMENT:return Xg.INVALID_ARGUMENT;case cb.NOT_FOUND:return Xg.NOT_FOUND;case cb.ALREADY_EXISTS:return Xg.ALREADY_EXISTS;case cb.PERMISSION_DENIED:return Xg.PERMISSION_DENIED;case cb.FAILED_PRECONDITION:return Xg.FAILED_PRECONDITION;case cb.ABORTED:return Xg.ABORTED;case cb.OUT_OF_RANGE:return Xg.OUT_OF_RANGE;case cb.UNIMPLEMENTED:return Xg.UNIMPLEMENTED;case cb.DATA_LOSS:return Xg.DATA_LOSS;default:return im()}}(lb=cb||(cb={}))[lb.OK=0]="OK",lb[lb.CANCELLED=1]="CANCELLED",lb[lb.UNKNOWN=2]="UNKNOWN",lb[lb.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lb[lb.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lb[lb.NOT_FOUND=5]="NOT_FOUND",lb[lb.ALREADY_EXISTS=6]="ALREADY_EXISTS",lb[lb.PERMISSION_DENIED=7]="PERMISSION_DENIED",lb[lb.UNAUTHENTICATED=16]="UNAUTHENTICATED",lb[lb.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lb[lb.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lb[lb.ABORTED=10]="ABORTED",lb[lb.OUT_OF_RANGE=11]="OUT_OF_RANGE",lb[lb.UNIMPLEMENTED=12]="UNIMPLEMENTED",lb[lb.INTERNAL=13]="INTERNAL",lb[lb.UNAVAILABLE=14]="UNAVAILABLE",lb[lb.DATA_LOSS=15]="DATA_LOSS";var gb=function(){function t(t,e){this.comparator=t,this.root=e||yb.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yb.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yb.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new mb(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new mb(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new mb(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new mb(this.root,t,this.comparator,!0)},t}(),mb=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),yb=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw im();if(this.right.isRed())throw im();var t=this.left.check();if(t!==this.right.check())throw im();return t+(this.isRed()?0:1)},t}();yb.EMPTY=null,yb.RED=!0,yb.BLACK=!1,yb.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw im()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw im()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw im()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw im()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw im()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new yb(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var bb=function(){function t(t){this.comparator=t,this.data=new gb(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new wb(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new wb(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),wb=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),_b=new gb(Pm.comparator);function kb(){return _b}var Ib=new gb(Pm.comparator);function Sb(){return Ib}var Eb=new gb(Pm.comparator);function Cb(){return Eb}var Tb=new bb(Pm.comparator);function Ab(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Tb,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var xb=new bb(cm);function Ob(){return xb}var Nb=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Db.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(dm.min(),r,Ob(),kb(),Ab())},t}(),Db=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(km.EMPTY_BYTE_STRING,n,Ab(),Ab(),Ab())},t}(),Pb=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Rb=function(t,e){this.targetId=t,this.V=e},Mb=function(t,e,n,r){void 0===n&&(n=km.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Lb=function(){function t(){this.S=0,this.D=Ub(),this.C=km.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=Ab(),e=Ab(),n=Ab();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:im()}}),new Db(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Ub()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Fb=function(){function t(t){this.W=t,this.G=new Map,this.H=kb(),this.J=Vb(),this.Y=new bb(cm)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:im()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(ty(i))if(0===n){var o=new Pm(i.path);this.tt(e,o,Ym.newNoDocument(o,dm.min()))}else om(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.at=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&ty(o.target)){var a=new Pm(o.target.path);null!==e.H.get(a)||e.ut(i,a)||e.tt(i,a,Ym.newNoDocument(a,t))}r.O&&(n.set(i,r.M()),r.L())}});var r=Ab();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Nb(t,n,this.Y,this.H,r);return this.H=kb(),this.J=Vb(),this.Y=new bb(cm),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.ut(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.ut(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Lb,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new bb(cm),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||tm("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Lb),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.ut=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Vb(){return new gb(Pm.comparator)}function Ub(){return new gb(Pm.comparator)}var jb={asc:"ASCENDING",desc:"DESCENDING"},qb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Bb=function(t,e){this.databaseId=t,this.I=e};function Hb(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function zb(t,e){return t.I?e.toBase64():e.toUint8Array()}function Gb(t,e){return Hb(t,e.toTimestamp())}function Kb(t){return om(!!t),dm.fromTimestamp(function(t){var e=Sm(t);return new fm(e.seconds,e.nanos)}(t))}function Wb(t,e){return function(t){return new ym(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Qb(t){var e=ym.fromString(t);return om(yw(e)),e}function Yb(t,e){return Wb(t.databaseId,e.path)}function Xb(t,e){var n=Qb(e);if(n.get(1)!==t.databaseId.projectId)throw new Zg(Xg.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Zg(Xg.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Pm(tw(n))}function Zb(t,e){return Wb(t.databaseId,e)}function Jb(t){var e=Qb(t);return 4===e.length?ym.emptyPath():tw(e)}function $b(t){return new ym(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tw(t){return om(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function ew(t,e,n){return{name:Yb(t,e),fields:n.toProto().mapValue.fields}}function nw(t,e,n){var r=Xb(t,e.name),i=Kb(e.updateTime),o=new Wm({mapValue:{fields:e.fields}}),a=Ym.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function rw(t,e){var n;if(e instanceof ib)n={update:ew(t,e.key,e.value)};else if(e instanceof hb)n={delete:Yb(t,e.key)};else if(e instanceof ob)n={update:ew(t,e.key,e.data),updateMask:mw(e.fieldMask)};else{if(!(e instanceof fb))return im();n={verify:Yb(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof jy)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof qy)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Hy)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Gy)return{fieldPath:e.field.canonicalString(),increment:n.A};throw im()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Gb(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:im()}(t,e.precondition)),n}function iw(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Xy.updateTime(Kb(t.updateTime)):void 0!==t.exists?Xy.exists(t.exists):Xy.none()}(e.currentDocument):Xy.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(om("REQUEST_TIME"===e.setToServerValue),n=new jy):"appendMissingElements"in e?n=new qy(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Hy(e.removeAllFromArray.values||[]):"increment"in e?n=new Gy(t,e.increment):im();var r=wm.fromServerFormat(e.fieldPath);return new Qy(r,n)}(t,e)}):[];if(e.update){var i=Xb(t,e.update.name),o=new Wm({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){return new _m((t.fieldPaths||[]).map(function(t){return wm.fromServerFormat(t)}))}(e.updateMask);return new ob(i,o,a,n,r)}return new ib(i,o,n,r)}if(e.delete){var s=Xb(t,e.delete);return new hb(s,n)}if(e.verify){var u=Xb(t,e.verify);return new fb(u,n)}return im()}function ow(t,e){return{documents:[Zb(t,e.path)]}}function aw(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Zb(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Zb(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Gm(t.value))return{unaryFilter:{field:dw(t.field),op:"IS_NAN"}};if(zm(t.value))return{unaryFilter:{field:dw(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Gm(t.value))return{unaryFilter:{field:dw(t.field),op:"IS_NOT_NAN"}};if(zm(t.value))return{unaryFilter:{field:dw(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dw(t.field),op:fw(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:dw(t.field),direction:hw(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.I||Om(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=cw(e.startAt)),e.endAt&&(n.structuredQuery.endAt=cw(e.endAt)),n}function sw(t){var e=Jb(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){om(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=uw(n.where));var s=[];n.orderBy&&(s=n.orderBy.map(function(t){return function(t){return new fy(pw(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return Om(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=lw(n.startAt));var l=null;return n.endAt&&(l=lw(n.endAt)),my(e,i,s,a,u,"F",c,l)}function uw(t){return t?void 0!==t.unaryFilter?[gw(t)]:void 0!==t.fieldFilter?[vw(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return uw(t)}).reduce(function(t,e){return t.concat(e)}):im():[]}function cw(t){return{before:t.before,values:t.position}}function lw(t){return new ly(t.values||[],!!t.before)}function hw(t){return jb[t]}function fw(t){return qb[t]}function dw(t){return{fieldPath:t.canonicalString()}}function pw(t){return wm.fromServerFormat(t.fieldPath)}function vw(t){return ey.create(pw(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return im()}}(t.fieldFilter.op),t.fieldFilter.value)}function gw(t){switch(t.unaryFilter.op){case"IS_NAN":var e=pw(t.unaryFilter.field);return ey.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=pw(t.unaryFilter.field);return ey.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=pw(t.unaryFilter.field);return ey.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=pw(t.unaryFilter.field);return ey.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return im()}}function mw(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function yw(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function bw(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=_w(e)),e=ww(t.get(n),e);return _w(e)}function ww(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function _w(t){return t+"\x01\x01"}function kw(t){var e=t.length;if(om(e>=2),2===e)return om("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),ym.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&im(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:im()}o=a+2}return new ym(r)}var Iw=function(t,e){this.seconds=t,this.nanoseconds=e},Sw=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Sw.store="owner",Sw.key="owner";var Ew=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Ew.store="mutationQueues",Ew.keyPath="userId";var Cw=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Cw.store="mutations",Cw.keyPath="batchId",Cw.userMutationsIndex="userMutationsIndex",Cw.userMutationsKeyPath=["userId","batchId"];var Tw=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,bw(e)]},t.key=function(t,e,n){return[t,bw(e),n]},t}();Tw.store="documentMutations",Tw.PLACEHOLDER=new Tw;var Aw=function(t,e){this.path=t,this.readTime=e},xw=function(t,e){this.path=t,this.version=e},Ow=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Ow.store="remoteDocuments",Ow.readTimeIndex="readTimeIndex",Ow.readTimeIndexPath="readTime",Ow.collectionReadTimeIndex="collectionReadTimeIndex",Ow.collectionReadTimeIndexPath=["parentPath","readTime"];var Nw=function(t){this.byteSize=t};Nw.store="remoteDocumentGlobal",Nw.key="remoteDocumentGlobalKey";var Dw=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Dw.store="targets",Dw.keyPath="targetId",Dw.queryTargetsIndexName="queryTargetsIndex",Dw.queryTargetsKeyPath=["canonicalId","targetId"];var Pw=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Pw.store="targetDocuments",Pw.keyPath=["targetId","path"],Pw.documentTargetsIndex="documentTargetsIndex",Pw.documentTargetsKeyPath=["path","targetId"];var Rw=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Rw.key="targetGlobalKey",Rw.store="targetGlobal";var Mw=function(t,e){this.collectionId=t,this.parent=e};Mw.store="collectionParents",Mw.keyPath=["collectionId","parent"];var Lw=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Lw.store="clientMetadata",Lw.keyPath="clientId";var Fw=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Fw.store="bundles",Fw.keyPath="bundleId";var Vw=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Vw.store="namedQueries",Vw.keyPath="name";var Uw=sf(sf([],sf(sf([],sf(sf([],sf(sf([],[Ew.store,Cw.store,Tw.store,Ow.store,Dw.store,Sw.store,Rw.store,Pw.store]),[Lw.store])),[Nw.store])),[Mw.store])),[Fw.store,Vw.store]),jw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",qw=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Bw=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Hw=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&im(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),zw=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Bw,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Ww(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Jw(e.target.error);n.ft.reject(new Ww(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Ww(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(tm("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Yw(e)},t}(),Gw=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(hf())&&em("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return tm("SimpleDb","Removing database:",t),Xw(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=hf(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return nf(this,void 0,void 0,function(){var e,n=this;return rf(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(tm("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Ww(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Zg(Xg.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Ww(t,n))},i.onupgradeneeded=function(t){tm("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){tm("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return nf(this,void 0,void 0,function(){var i,o,a,s,u;return rf(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u,c,l;return rf(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.At(t)];case 2:return s.db=h.sent(),e=zw.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch(function(t){return e.abort(t),Hw.reject(t)}).toPromise(),u={},a.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return tm("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Kw=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Xw(this.Pt.delete())},t}(),Ww=function(t){function e(e,n){var r=this;return(r=t.call(this,Xg.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return tf(e,t),e}(Zg);function Qw(t){return"IndexedDbTransactionError"===t.name}var Yw=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(tm("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(tm("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Xw(n)},t.prototype.add=function(t){return tm("SimpleDb","ADD",this.store.name,t,t),Xw(this.store.add(t))},t.prototype.get=function(t){var e=this;return Xw(this.store.get(t)).next(function(n){return void 0===n&&(n=null),tm("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return tm("SimpleDb","DELETE",this.store.name,t),Xw(this.store.delete(t))},t.prototype.count=function(){return tm("SimpleDb","COUNT",this.store.name),Xw(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){tm("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new Hw(function(n,r){e.onerror=function(t){var e=Jw(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new Hw(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Kw(i),a=e(i.primaryKey,i.value,o);if(a instanceof Hw){var s=a.catch(function(t){return o.done(),Hw.reject(t)});n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return Hw.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Xw(t){return new Hw(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Jw(t.target.error);n(e)}})}var Zw=!1;function Jw(t){var e=Gw._t(hf());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Zg("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Zw||(Zw=!0,setTimeout(function(){throw r},0)),r}}return t}var $w=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return tf(e,t),e}(qw);function t_(t,e){var n=am(t);return Gw.It(n.Mt,e)}var e_=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&$y(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&tb(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&tb(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(dm.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Ab())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&lm(this.mutations,t.mutations,function(t,e){return nb(t,e)})&&lm(this.baseMutations,t.baseMutations,function(t,e){return nb(t,e)})},t}(),n_=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){om(e.mutations.length===r.length);for(var i=Cb(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),r_=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=dm.min()),void 0===o&&(o=dm.min()),void 0===a&&(a=km.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),i_=function(t){this.Lt=t};function o_(t,e){if(e.document)return nw(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Pm.fromSegments(e.noDocument.path),r=l_(e.noDocument.readTime),i=Ym.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=Pm.fromSegments(e.unknownDocument.path);return r=l_(e.unknownDocument.version),Ym.newUnknownDocument(o,r)}return im()}function a_(t,e,n){var r=s_(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Yb(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:Hb(t,e.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new Ow(null,null,o,a,r,i)}if(e.isNoDocument()){var s=e.key.path.toArray(),u=c_(e.version);return a=e.hasCommittedMutations,new Ow(null,new Aw(s,u),null,a,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=c_(e.version);return new Ow(new xw(c,l),null,null,!0,r,i)}return im()}function s_(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function u_(t){var e=new fm(t[0],t[1]);return dm.fromTimestamp(e)}function c_(t){var e=t.toTimestamp();return new Iw(e.seconds,e.nanoseconds)}function l_(t){var e=new fm(t.seconds,t.nanoseconds);return dm.fromTimestamp(e)}function h_(t,e){for(var n=(e.baseMutations||[]).map(function(e){return iw(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return iw(t.Lt,e)}),o=fm.fromMillis(e.localWriteTimeMs);return new e_(e.batchId,o,n,i)}function f_(t){var e,n,r=l_(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?l_(t.lastLimboFreeSnapshotVersion):dm.min();return void 0!==t.query.documents?(om(1===(n=t.query).documents.length),e=Ey(yy(Jb(n.documents[0])))):e=function(t){return Ey(sw(t))}(t.query),new r_(e,t.targetId,0,t.lastListenSequenceNumber,r,i,km.fromBase64String(t.resumeToken))}function d_(t,e){var n,r=c_(e.snapshotVersion),i=c_(e.lastLimboFreeSnapshotVersion);n=ty(e.target)?ow(t.Lt,e.target):aw(t.Lt,e.target);var o=e.resumeToken.toBase64();return new Dw(e.targetId,Jm(e.target),r,o,e.sequenceNumber,i,n)}function p_(t){var e=sw({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Cy(e,e.limit,"L"):e}var v_=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return g_(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:l_(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return g_(t).put({bundleId:(n=e).id,createTime:c_(Kb(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return m_(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:p_(e.bundledQuery),readTime:l_(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return m_(t).put(function(t){return{name:t.name,readTime:c_(Kb(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function g_(t){return t_(t,Fw.store)}function m_(t){return t_(t,Vw.store)}var y_=function(){function t(){this.Bt=new b_}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Hw.resolve()},t.prototype.getCollectionParents=function(t,e){return Hw.resolve(this.Bt.getEntries(e))},t}(),b_=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new bb(ym.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new bb(ym.comparator)).toArray()},t}(),w_=function(){function t(){this.qt=new b_}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:bw(i)};return __(t).put(o)}return Hw.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[hm(e),""],!1,!0);return __(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(kw(o.parent))}return n})},t}();function __(t){return t_(t,Mw.store)}var k_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},I_=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function S_(t,e,n){var r=t.store(Cw.store),i=t.store(Tw.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.Ot({range:a},function(t,e,n){return s++,n.delete()});o.push(u.next(function(){om(1===s)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Tw.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Hw.waitFor(o).next(function(){return c})}function E_(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw im();e=t.noDocument}return JSON.stringify(e).length}I_.DEFAULT_COLLECTION_PERCENTILE=10,I_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,I_.DEFAULT=new I_(41943040,I_.DEFAULT_COLLECTION_PERCENTILE,I_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),I_.DISABLED=new I_(-1,0,0);var C_=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return om(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return A_(t).Ot({index:Cw.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=x_(t),a=A_(t);return a.add({}).next(function(s){om("number"==typeof s);for(var u=new e_(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return rw(t.Lt,e)}),i=n.mutations.map(function(e){return rw(t.Lt,e)});return new Cw(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new bb(function(t,e){return cm(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],v=Tw.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,Tw.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[s]=u.keys()}),Hw.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return A_(t).get(e).next(function(t){return t?(om(t.userId===n.userId),h_(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?Hw.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return A_(t).Ot({index:Cw.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(om(e.batchId>=r),o=h_(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return A_(t).Ot({index:Cw.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return A_(t).Nt(Cw.userMutationsIndex,n).next(function(t){return t.map(function(t){return h_(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Tw.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return x_(t).Ot({range:i},function(r,i,a){var s=r[0],u=r[2],c=kw(r[1]);if(s===n.userId&&e.path.isEqual(c))return A_(t).get(u).next(function(t){if(!t)throw im();om(t.userId===n.userId),o.push(h_(n.R,t))});a.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new bb(cm),i=[];return e.forEach(function(e){var o=Tw.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=x_(t).Ot({range:a},function(t,i,o){var a=t[0],s=t[2],u=kw(t[1]);a===n.userId&&e.path.isEqual(u)?r=r.add(s):o.done()});i.push(s)}),Hw.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Tw.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new bb(cm);return x_(t).Ot({range:a},function(t,e,o){var a=t[0],u=t[2],c=kw(t[1]);a===n.userId&&r.isPrefixOf(c)?c.length===i&&(s=s.add(u)):o.done()}).next(function(){return n.Wt(t,s)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(A_(t).get(e).next(function(t){if(null===t)throw im();om(t.userId===n.userId),r.push(h_(n.R,t))}))}),Hw.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return S_(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),Hw.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Hw.resolve();var r=IDBKeyRange.lowerBound(Tw.prefixForUser(e.userId)),i=[];return x_(t).Ot({range:r},function(t,n,r){if(t[0]===e.userId){var o=kw(t[1]);i.push(o)}else r.done()}).next(function(){om(0===i.length)})})},t.prototype.containsKey=function(t,e){return T_(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return O_(t).get(this.userId).next(function(t){return t||new Ew(e.userId,-1,"")})},t}();function T_(t,e,n){var r=Tw.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return x_(t).Ot({range:o,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(a=!0),r.done()}).next(function(){return a})}function A_(t){return t_(t,Cw.store)}function x_(t){return t_(t,Tw.store)}function O_(t){return t_(t,Ew.store)}var N_=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),D_=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new N_(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return dm.fromTimestamp(new fm(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return P_(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return om(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return P_(t).Ot(function(a,s){var u=f_(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return Hw.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return P_(t).Ot(function(t,n){var r=f_(n);e(r)})},t.prototype.Xt=function(t){return R_(t).get(Rw.key).next(function(t){return om(null!==t),t})},t.prototype.Zt=function(t,e){return R_(t).put(Rw.key,e)},t.prototype.te=function(t,e){return P_(t).put(d_(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Jm(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return P_(t).Ot({range:r,index:Dw.queryTargetsIndexName},function(t,n,r){var o=f_(n);$m(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=M_(t);return e.forEach(function(e){var a=bw(e.path);i.push(o.put(new Pw(n,a))),i.push(r.referenceDelegate.addReference(t,n,e))}),Hw.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=M_(t);return Hw.forEach(e,function(e){var o=bw(e.path);return Hw.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=M_(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=M_(t),i=Ab();return r.Ot({range:n,kt:!0},function(t,e,n){var r=kw(t[1]),o=new Pm(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=bw(e.path),r=IDBKeyRange.bound([n],[hm(n)],!1,!0),i=0;return M_(t).Ot({index:Pw.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return P_(t).get(e).next(function(t){return t?f_(t):null})},t}();function P_(t){return t_(t,Dw.store)}function R_(t){return t_(t,Rw.store)}function M_(t){return t_(t,Pw.store)}function L_(t){return nf(this,void 0,void 0,function(){return rf(this,function(e){if(t.code!==Xg.FAILED_PRECONDITION||t.message!==jw)throw t;return tm("LocalStore","Unexpectedly lost primary lease"),[2]})})}function F_(t,e){var n=t[1],r=e[1],i=cm(t[0],e[0]);return 0===i?cm(n,r):i}var V_=function(){function t(t){this.ne=t,this.buffer=new bb(F_),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();F_(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),U_=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ae(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ae=function(t){var e=this,n=this.oe?3e5:6e4;tm("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return nf(e,void 0,void 0,function(){var e;return rf(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Qw(e=n.sent())?(tm("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,L_(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ae(t)];case 8:return n.sent(),[2]}})})})},t}(),j_=function(){function t(t,e){this.ue=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ue.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Hw.resolve(Yg.o);var r=new V_(e);return this.ue.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ue.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ue.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ue.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(tm("LruGarbageCollector","Garbage collection skipped; disabled"),Hw.resolve(k_)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(tm("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),k_):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ue.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(tm("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,a=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,s=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),$g()<=xf.DEBUG&&tm("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Hw.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),q_=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new j_(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return B_(t,n)},t.prototype.removeReference=function(t,e,n){return B_(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return B_(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return O_(t).$t(function(r){return T_(t,r,e).next(function(t){return t&&(n=!0),Hw.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(a,s){if(s<=e){var u=n._e(t,a).next(function(e){if(!e)return o++,r.getEntry(t,a).next(function(){return r.removeEntry(a),M_(t).delete([0,bw(a.path)])})});i.push(u)}}).next(function(){return Hw.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return B_(t,e)},t.prototype.we=function(t,e){var n,r=M_(t),i=Yg.o;return r.Ot({index:Pw.documentTargetsIndex},function(t,r){var o=r.path,a=r.sequenceNumber;0===t[0]?(i!==Yg.o&&e(new Pm(kw(n)),i),i=a,n=o):i=Yg.o}).next(function(){i!==Yg.o&&e(new Pm(kw(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function B_(t,e){return M_(t).put(function(t,e){return new Pw(0,bw(t.path),e)}(e,t.currentSequenceNumber))}var H_=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(this.equalsFn(o[0],t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){vm(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return gm(this.inner)},t}(),z_=function(){function t(){this.changes=new H_(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:dm.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Ym.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Hw.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),G_=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Q_(t).put(Y_(e),n)},t.prototype.removeEntry=function(t,e){var n=Q_(t),r=Y_(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Q_(t).get(Y_(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return Q_(t).get(Y_(e)).next(function(t){return{document:n.ye(e,t),size:E_(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=kb();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=kb(),i=new gb(Pm.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,E_(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Hw.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Q_(t).Ot({range:r},function(t,e,r){for(var a=Pm.fromSegments(t);o&&Pm.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=kb(),o=e.path.length+1,a={};if(n.isEqual(dm.min())){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.toArray(),c=s_(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Ow.collectionReadTimeIndex}return Q_(t).Ot(a,function(t,n,a){if(t.length===o){var s=o_(r.R,n);e.path.isPrefixOf(s.key.path)?Oy(e,s)&&(i=i.insert(s.key,s)):a.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new K_(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return W_(t).get(Nw.key).next(function(t){return om(!!t),t})},t.prototype.me=function(t,e){return W_(t).put(Nw.key,e)},t.prototype.ye=function(t,e){if(e){var n=o_(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(dm.min()))return n}return Ym.newInvalidDocument(t)},t}(),K_=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new H_(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return tf(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new bb(function(t,e){return cm(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,a){var s=e.Ae.get(o);if(a.document.isValidDocument()){var u=a_(e.Ie.R,a.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=E_(u);r+=c-s,n.push(e.Ie.addEntry(t,o,u))}else if(r-=s,e.trackRemovals){var l=a_(e.Ie.R,Ym.newNoDocument(o,dm.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),Hw.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(z_);function W_(t){return t_(t,Nw.store)}function Q_(t){return t_(t,Ow.store)}function Y_(t){return t.path.toArray()}var X_=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;om(n<r&&n>=0&&r<=11);var o=new zw("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Sw.store)}(t),function(t){t.createObjectStore(Ew.store,{keyPath:Ew.keyPath}),t.createObjectStore(Cw.store,{keyPath:Cw.keyPath,autoIncrement:!0}).createIndex(Cw.userMutationsIndex,Cw.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Tw.store)}(t),Z_(t),function(t){t.createObjectStore(Ow.store)}(t));var a=Hw.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Pw.store),t.deleteObjectStore(Dw.store),t.deleteObjectStore(Rw.store)}(t),Z_(t)),a=a.next(function(){return function(t){var e=t.store(Rw.store),n=new Rw(0,0,dm.min().toTimestamp(),0);return e.put(Rw.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(a=a.next(function(){return function(t,e){return e.store(Cw.store).Nt().next(function(n){t.deleteObjectStore(Cw.store),t.createObjectStore(Cw.store,{keyPath:Cw.keyPath,autoIncrement:!0}).createIndex(Cw.userMutationsIndex,Cw.userMutationsKeyPath,{unique:!0});var r=e.store(Cw.store),i=n.map(function(t){return r.put(t)});return Hw.waitFor(i)})}(t,o)})),a=a.next(function(){!function(t){t.createObjectStore(Lw.store,{keyPath:Lw.keyPath})}(t)})),n<5&&r>=5&&(a=a.next(function(){return i.Re(o)})),n<6&&r>=6&&(a=a.next(function(){return function(t){t.createObjectStore(Nw.store)}(t),i.be(o)})),n<7&&r>=7&&(a=a.next(function(){return i.ve(o)})),n<8&&r>=8&&(a=a.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(a=a.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Ow.store);e.createIndex(Ow.readTimeIndex,Ow.readTimeIndexPath,{unique:!1}),e.createIndex(Ow.collectionReadTimeIndex,Ow.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(a=a.next(function(){return i.Ve(o)})),n<11&&r>=11&&(a=a.next(function(){!function(t){t.createObjectStore(Fw.store,{keyPath:Fw.keyPath})}(t),function(t){t.createObjectStore(Vw.store,{keyPath:Vw.keyPath})}(t)})),a},t.prototype.be=function(t){var e=0;return t.store(Ow.store).Ot(function(t,n){e+=E_(n)}).next(function(){var n=new Nw(e);return t.store(Nw.store).put(Nw.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(Ew.store),r=t.store(Cw.store);return n.Nt().next(function(n){return Hw.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Cw.userMutationsIndex,i).next(function(r){return Hw.forEach(r,function(r){om(r.userId===n.userId);var i=h_(e.R,r);return S_(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(Pw.store),n=t.store(Ow.store);return t.store(Rw.store).get(Rw.key).next(function(t){var r=[];return n.Ot(function(n,i){var o=new ym(n),a=function(t){return[0,bw(t)]}(o);r.push(e.get(a).next(function(n){return n?Hw.resolve():function(n){return e.put(new Pw(0,bw(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Hw.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(Mw.store,{keyPath:Mw.keyPath});var n=e.store(Mw.store),r=new b_,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:bw(i)})}};return e.store(Ow.store).Ot({kt:!0},function(t,e){var n=new ym(t);return i(n.popLast())}).next(function(){return e.store(Tw.store).Ot({kt:!0},function(t,e){var n=kw(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(Dw.store);return n.Ot(function(t,r){var i=f_(r),o=d_(e.R,i);return n.put(o)})},t}();function Z_(t){t.createObjectStore(Pw.store,{keyPath:Pw.keyPath}).createIndex(Pw.documentTargetsIndex,Pw.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Dw.store,{keyPath:Dw.keyPath}).createIndex(Dw.queryTargetsIndexName,Dw.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Rw.store)}var J_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",$_=function(){function t(e,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Zg(Xg.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new q_(this,i),this.Le=n+"main",this.R=new i_(u),this.Be=new Gw(this.Le,11,new X_(this.R)),this.qe=new D_(this.referenceDelegate,this.R),this.Ut=new w_,this.Ue=function(t,e){return new G_(t,e)}(this.R,this.Ut),this.Qe=new v_,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&em("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Zg(Xg.FAILED_PRECONDITION,J_);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Yg(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return nf(e,void 0,void 0,function(){return rf(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return nf(e,void 0,void 0,function(){return rf(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return nf(e,void 0,void 0,function(){return rf(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return ek(e).put(new Lw(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(Qw(e))return tm("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return tm("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return tk(t).get(Sw.key).next(function(t){return Hw.resolve(e.tn(t))})},t.prototype.en=function(t){return ek(t).delete(this.clientId)},t.prototype.nn=function(){return nf(this,void 0,void 0,function(){var t,e,n,r=this;return rf(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=t_(t,Lw.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Hw.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Hw.resolve(!0):tk(t).get(Sw.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Zg(Xg.FAILED_PRECONDITION,J_);return!1}}return!(!e.networkEnabled||!e.inForeground)||ek(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&tm("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return nf(this,void 0,void 0,function(){var t=this;return rf(this,function(e){switch(e.label){case 0:return this.xe=!1,this.an(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.un(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Sw.store,Lw.store],function(e){var n=new $w(e,Yg.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return ek(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return C_.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return tm("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",Uw,function(o){return r=new $w(o,i.Ne?i.Ne.next():Yg.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw em("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Zg(Xg.FAILED_PRECONDITION,jw);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return tk(t).get(Sw.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Zg(Xg.FAILED_PRECONDITION,J_)})},t.prototype.Ze=function(t){var e=new Sw(this.clientId,this.allowTabSynchronization,Date.now());return tk(t).put(Sw.key,e)},t.yt=function(){return Gw.yt()},t.prototype.Xe=function(t){var e=this,n=tk(t);return n.get(Sw.key).next(function(t){return e.tn(t)?(tm("IndexedDbPersistence","Releasing primary lease."),n.delete(Sw.key)):Hw.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(em("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.un=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.an(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return tm("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return em("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.an=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){em("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function tk(t){return t_(t,Sw.store)}function ek(t){return t_(t,Lw.store)}function nk(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var rk=function(t,e){this.progress=t,this.wn=e},ik=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Pm.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Iy(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new Pm(e)).next(function(t){var e=Sb();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Sb();return this.Ut.getCollectionParents(t,i).next(function(a){return Hw.forEach(a,function(a){var s=function(t,e){return new gy(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.An(t,s,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=Ym.newInvalidDocument(c),r=r.insert(c,l)),tb(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){Oy(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=Ab(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof ob&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),ok=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Ab(),i=Ab(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),ak=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(dm.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var a=i.Cn(e,o);return(by(e)||wy(e))&&i.Nn(e.limitType,a,r,n)?i.Dn(t,e):($g()<=xf.DEBUG&&tm("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),xy(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return a.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new bb(Ny(t));return e.forEach(function(e,r){Oy(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return $g()<=xf.DEBUG&&tm("QueryEngine","Using full collection scan to execute query:",xy(e)),this.Sn.getDocumentsMatchingQuery(t,e,dm.min())},t}(),sk=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new gb(cm),this.kn=new H_(function(t){return Jm(t)},$m),this.On=dm.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new ik(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function uk(t,e,n,r){return new sk(t,e,n,r)}function ck(t,e){return nf(this,void 0,void 0,function(){var n,r,i,o;return rf(this,function(a){switch(a.label){case 0:return n=am(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(a){return o=a,r=n.persistence.getMutationQueue(e),i=new ik(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],a=Ab(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)a=a.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var v=0,g=p.mutations;v<g.length;v++)a=a.add(g[v].key)}return i.pn(t,a).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function lk(t,e){var n=am(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=Hw.resolve();return o.forEach(function(t){a=a.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);om(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),a.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function hk(t){var e=am(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function fk(t,e){var n=am(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];e.targetChanges.forEach(function(e,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return om(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,e)&&a.push(n.qe.updateTargetData(t,c))}}});var s=kb();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),a.push(dk(t,o,e.documentUpdates,r,void 0).next(function(t){s=t})),!r.isEqual(dm.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});a.push(u)}return Hw.waitFor(a).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,s)}).next(function(){return s})}).then(function(t){return n.Fn=i,t})}function dk(t,e,n,r,i){var o=Ab();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=kb();return n.forEach(function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(dm.min())?(e.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,u),o=o.insert(n,a)):tm("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)}),o})}function pk(t,e){var n=am(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function vk(t,e){var n=am(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?Hw.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new r_(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function gk(t,e,n){return nf(this,void 0,void 0,function(){var r,i,o,a;return rf(this,function(s){switch(s.label){case 0:r=am(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!Qw(a=s.sent()))throw a;return tm("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function mk(t,e,n){var r=am(t),i=dm.min(),o=Ab();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=am(t),i=r.kn.get(n);return void 0!==i?Hw.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,Ey(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:dm.min(),n?o:Ab())}).next(function(t){return{documents:t,Bn:o}})})}function yk(t,e){var n=am(t),r=am(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function bk(t){var e=am(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=am(t),i=kb(),o=s_(n),a=Q_(e),s=IDBKeyRange.lowerBound(o,!0);return a.Ot({index:Ow.readTimeIndex,range:s},function(t,e){var n=o_(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:u_(o)}})}(e.$n,t,e.On)}).then(function(t){var n=t.wn;return e.On=t.readTime,n})}function wk(t){return nf(this,void 0,void 0,function(){var e;return rf(this,function(n){return[2,(e=am(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Q_(t),n=dm.min();return e.Ot({index:Ow.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=u_(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.On=t})]})})}function _k(t,e,n,r){return nf(this,void 0,void 0,function(){var i,o,a,s,u,c,l,h,f,d;return rf(this,function(p){switch(p.label){case 0:for(i=am(t),o=Ab(),a=kb(),s=Cb(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,e.Un(l)),s=s.insert(h,e.Qn(l.metadata.readTime));return f=i.$n.newChangeBuffer({trackRemovals:!0}),[4,vk(i,function(t){return Ey(yy(ym.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return dk(t,f,a,dm.min(),s).next(function(e){return f.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.qe.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function kk(t,e,n){return void 0===n&&(n=Ab()),nf(this,void 0,void 0,function(){var r,i;return rf(this,function(o){switch(o.label){case 0:return[4,vk(t,Ey(p_(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=am(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=Kb(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var a=r.withResumeToken(km.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(a.targetId,a),i.qe.updateTargetData(t,a).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var Ik=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Hw.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:Kb(n.createTime)}),Hw.resolve()},t.prototype.getNamedQuery=function(t,e){return Hw.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:p_(t.bundledQuery),readTime:Kb(t.readTime)}}(e)),Hw.resolve()},t}(),Sk=function(){function t(){this.Wn=new bb(Ek.Gn),this.zn=new bb(Ek.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Ek(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new Ek(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new Pm(new ym([])),r=new Ek(n,t),i=new Ek(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new Pm(new ym([])),n=new Ek(e,t),r=new Ek(e,t+1),i=Ab();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Ek(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Ek=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return Pm.comparator(t.key,e.key)||cm(t.ns,e.ns)},t.Hn=function(t,e){return cm(t.ns,e.ns)||Pm.comparator(t.key,e.key)},t}(),Ck=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new bb(Ek.Gn)}return t.prototype.checkEmpty=function(t){return Hw.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new e_(i,e,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new Ek(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Hw.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Hw.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Hw.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Hw.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Hw.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Ek(e,0),i=new Ek(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),Hw.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new bb(cm);return e.forEach(function(t){var e=new Ek(t,0),i=new Ek(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),Hw.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Pm.isDocumentKey(i)||(i=i.child(""));var o=new Ek(new Pm(i),0),a=new bb(cm);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.ns)),!0)},o),Hw.resolve(this.us(a))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;om(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Hw.forEach(e.mutations,function(i){var o=new Ek(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Ek(e,0),r=this.rs.firstAfterOrEqual(n);return Hw.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Hw.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Tk=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new gb(Pm.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Hw.resolve(n?n.document.clone():Ym.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=kb();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Ym.newInvalidDocument(t))}),Hw.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=kb(),i=new Pm(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.value,u=s.document,c=s.readTime;if(!e.path.isPrefixOf(a.key.path))break;c.compareTo(n)<=0||Oy(e,u)&&(r=r.insert(u.key,u.clone()))}return Hw.resolve(r)},t.prototype.fs=function(t,e){return Hw.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Ak(this)},t.prototype.getSize=function(t){return Hw.resolve(this.size)},t}(),Ak=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return tf(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),Hw.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(z_),xk=function(){function t(t){this.persistence=t,this.ds=new H_(function(t){return Jm(t)},$m),this.lastRemoteSnapshotVersion=dm.min(),this.highestTargetId=0,this.ws=0,this._s=new Sk,this.targetCount=0,this.ys=N_.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),Hw.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Hw.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Hw.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Hw.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Hw.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new N_(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Hw.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Hw.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Hw.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),Hw.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return Hw.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Hw.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Hw.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Hw.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Hw.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Hw.resolve(n)},t.prototype.containsKey=function(t,e){return Hw.resolve(this._s.containsKey(e))},t}(),Ok=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Yg(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new xk(this),this.Ut=new y_,this.Ue=function(t,e){return new Tk(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new i_(e),this.Qe=new Ik(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Ck(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;tm("MemoryPersistence","Starting transaction:",t);var i=new Nk(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return Hw.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),Nk=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return tf(e,t),e}(qw),Dk=function(){function t(t){this.persistence=t,this.As=new Sk,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw im()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Hw.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Hw.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Hw.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Hw.forEach(this.vs,function(r){var i=Pm.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Hw.or([function(){return Hw.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Pk=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Rk(t,e){return"firestore_clients_"+t+"_"+e}function Mk(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Lk(t,e){return"firestore_targets_"+t+"_"+e}Pk.UNAUTHENTICATED=new Pk(null),Pk.GOOGLE_CREDENTIALS=new Pk("google-credentials-uid"),Pk.FIRST_PARTY=new Pk("first-party-uid");var Fk=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Zg(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(em("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Vk=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Zg(i.error.code,i.error.message)),o?new t(e,i.state,r):(em("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Uk=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Ob(),a=0;i&&a<r.activeTargetIds.length;++a)i=Dm(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(em("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),jk=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(em("SharedClientState","Failed to parse online state: "+e),null)},t}(),qk=function(){function t(){this.activeTargetIds=Ob()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Bk=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new gb(cm),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=Rk(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new qk),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return nf(this,void 0,void 0,function(){var t,e,n,r,i,o,a,s,u,c,l=this;return rf(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Rk(this.persistenceKey,r)))&&(o=Uk.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.Os;u<c.length;u++)this.Fs(c[u]);return this.Os=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Lk(this.persistenceKey,t));if(n){var r=Vk.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Lk(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return tm("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){tm("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){tm("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(tm("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void em("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return nf(e,void 0,void 0,function(){var t,e,r,i,o,a;return rf(this,function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(t){var e=Yg.o;if(null!=t)try{var n=JSON.parse(t);om("number"==typeof n),e=n}catch(t){em("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Yg.o&&this.sequenceNumberHandler(a);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Fk(this.currentUser,t,e,n),i=Mk(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Mk(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=Lk(this.persistenceKey,t),i=new Vk(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Uk.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return Fk.Vs(new Pk(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Vk.Vs(r,e)},t.prototype.js=function(t){return jk.Vs(t)},t.prototype.ii=function(t){return nf(this,void 0,void 0,function(){return rf(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ai(t.batchId,t.state,t.error)]:(tm("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ui(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach(function(t){i.has(t)||a.push(t)}),i.forEach(function(t){o.has(t)||s.push(t)}),this.syncEngine.hi(a,s).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Ob();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Hk=function(){function t(){this.li=new qk,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new qk,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),zk=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Gk=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){tm("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){tm("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Kk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Wk=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Qk=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return tf(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,o){var a=new Qg;a.listenOnce(Gg.COMPLETE,function(){try{switch(a.getLastErrorCode()){case zg.NO_ERROR:var e=a.getResponseJson();tm("Connection","XHR received:",JSON.stringify(e)),i(e);break;case zg.TIMEOUT:tm("Connection",'RPC "'+t+'" timed out'),o(new Zg(Xg.DEADLINE_EXCEEDED,"Request time out"));break;case zg.HTTP_ERROR:var n=a.getStatus();if(tm("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Xg).indexOf(e)>=0?e:Xg.UNKNOWN}(r.status);o(new Zg(s,r.message))}else o(new Zg(Xg.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Zg(Xg.UNAVAILABLE,"Connection failed."));break;default:im()}}finally{tm("Connection",'RPC "'+t+'" completed.')}});var s=JSON.stringify(r);a.send(e,"POST",s,n,15)})},e.prototype.$i=function(t,e){var n,r=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=new Ug,o=Bp(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(a.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hf())||"object"==typeof navigator&&"ReactNative"===navigator.product||hf().indexOf("Electron/")>=0||function(){var t=hf();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||hf().indexOf("MSAppHost/")>=0||"object"==typeof(n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==n.id||(a.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");tm("Connection","Creating WebChannel: "+s,a);var u=i.createWebChannel(s,a),c=!1,l=!1,h=new Wk({Ei:function(t){l?tm("Connection","Not sending because WebChannel is closed:",t):(c||(tm("Connection","Opening WebChannel transport."),u.open(),c=!0),tm("Connection","WebChannel sending:",t),u.send(t))},Ti:function(){return u.close()}}),f=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return f(u,Wg.EventType.OPEN,function(){l||tm("Connection","WebChannel transport opened.")}),f(u,Wg.EventType.CLOSE,function(){l||(l=!0,tm("Connection","WebChannel transport closed"),h.Vi())}),f(u,Wg.EventType.ERROR,function(t){l||(l=!0,nm("Connection","WebChannel transport errored:",t),h.Vi(new Zg(Xg.UNAVAILABLE,"The operation could not be completed")))}),f(u,Wg.EventType.MESSAGE,function(t){var e;if(!l){var n=t.data[0];om(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){tm("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=cb[t];if(void 0!==e)return vb(e)}(i),a=r.message;void 0===o&&(o=Xg.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),l=!0,h.Vi(new Zg(o,a)),u.close()}else tm("Connection","WebChannel received:",n),h.Si(n)}}),f(o,Kg.STAT_EVENT,function(t){10===t.stat?tm("Connection","Detected buffering proxy"):11===t.stat&&tm("Connection","Detected no buffering proxy")}),setTimeout(function(){h.Pi()},0),h},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);tm("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then(function(t){return tm("RestConnection","Received: ",t),t},function(e){throw nm("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.6.2",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+Kk[t]},t}());function Yk(){return"undefined"!=typeof window?window:null}function Xk(){return"undefined"!=typeof document?document:null}function Zk(t){return new Bb(t,!0)}var Jk=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&tm("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),$k=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Jk(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return nf(this,void 0,void 0,function(){return rf(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ar(),this.stream.send(t)},t.prototype.rr=function(){return nf(this,void 0,void 0,function(){return rf(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ar=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return nf(this,void 0,void 0,function(){return rf(this,function(n){switch(n.label){case 0:return this.ar(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Xg.RESOURCE_EXHAUSTED?(em(e.toString()),em("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===Xg.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ur(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ur=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new Zg(Xg.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return nf(t,void 0,void 0,function(){return rf(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return tm("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(tm("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),tI=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return tf(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:im()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(om(void 0===e||"string"==typeof e),km.fromBase64String(e||"")):(om(void 0===e||e instanceof Uint8Array),km.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?Xg.UNKNOWN:vb(t.code);return new Zg(e,t.message||"")}(s);n=new Mb(r,i,o,a||null)}else if("documentChange"in e){i=Xb(t,(r=e.documentChange).document.name),o=Kb(r.document.updateTime);var s=new Wm({mapValue:{fields:r.document.fields}}),u=(a=Ym.newFoundDocument(i,o,s),r.targetIds||[]);n=new Pb(u,r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e)i=Xb(t,(r=e.documentDelete).document),o=r.readTime?Kb(r.readTime):dm.min(),s=Ym.newNoDocument(i,o),n=new Pb([],a=r.removedTargetIds||[],s.key,s);else if("documentRemove"in e)i=Xb(t,(r=e.documentRemove).document),n=new Pb([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return im();var c=e.filter;i=new db(r=c.count||0),n=new Rb(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return dm.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?dm.min():e.readTime?Kb(e.readTime):dm.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=$b(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=ty(r)?{documents:ow(t,r)}:{query:aw(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=zb(t,e.resumeToken):e.snapshotVersion.compareTo(dm.min())>0&&(n.readTime=Hb(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return im()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=$b(this.R),e.removeTarget=t,this.cr(e)},e}($k),eI=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return tf(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ur=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(om(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(om(void 0!==e),t.map(function(t){return function(t,e){var n=Kb(t.updateTime?t.updateTime:e);return n.isEqual(dm.min())&&(n=Kb(e)),new Yy(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=Kb(t.commitTime);return this.listener.Tr(n,e)}return om(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=$b(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return rw(e.R,t)})};this.cr(n)},e}($k),nI=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return tf(e,t),e.prototype.br=function(){if(this.Rr)throw new Zg(Xg.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Xg.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Zg(Xg.UNKNOWN,t.toString())})},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Oi(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Xg.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Zg(Xg.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),rI=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(em(e),this.Vr=!1):tm("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),iI=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return nf(o,void 0,void 0,function(){return rf(this,function(t){switch(t.label){case 0:return dI(this)?(tm("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return nf(this,void 0,void 0,function(){var e;return rf(this,function(n){switch(n.label){case 0:return(e=am(t)).$r.add(4),[4,aI(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,oI(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new rI(n,r)};function oI(t){return nf(this,void 0,void 0,function(){var e,n;return rf(this,function(r){switch(r.label){case 0:if(!dI(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function aI(t){return nf(this,void 0,void 0,function(){var e,n;return rf(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function sI(t,e){var n=am(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),fI(n)?hI(n):AI(n).er()&&cI(n,e))}function uI(t,e){var n=am(t),r=AI(n);n.Or.delete(e),r.er()&&lI(n,e),0===n.Or.size&&(r.er()?r.ir():dI(n)&&n.Br.set("Unknown"))}function cI(t,e){t.qr.U(e.targetId),AI(t).mr(e)}function lI(t,e){t.qr.U(e),AI(t).yr(e)}function hI(t){t.qr=new Fb({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),AI(t).start(),t.Br.Sr()}function fI(t){return dI(t)&&!AI(t).tr()&&t.Or.size>0}function dI(t){return 0===am(t).$r.size}function pI(t){t.qr=void 0}function vI(t){return nf(this,void 0,void 0,function(){return rf(this,function(e){return t.Or.forEach(function(e,n){cI(t,e)}),[2]})})}function gI(t,e){return nf(this,void 0,void 0,function(){return rf(this,function(n){return pI(t),fI(t)?(t.Br.Nr(e),hI(t)):t.Br.set("Unknown"),[2]})})}function mI(t,e,n){return nf(this,void 0,void 0,function(){var r,i,o;return rf(this,function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof Mb&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return nf(this,void 0,void 0,function(){var n,r,i,o;return rf(this,function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?t.Or.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:a.sent(),t.Or.delete(o),t.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),tm("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,yI(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Pb?t.qr.X(e):e instanceof Rb?t.qr.rt(e):t.qr.et(e),n.isEqual(dm.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,hk(t.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.at(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(km.EMPTY_BYTE_STRING,n.snapshotVersion)),lI(t,e);var r=new r_(n.target,e,1,n.sequenceNumber);cI(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return tm("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,yI(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function yI(t,e,n){return nf(this,void 0,void 0,function(){var r=this;return rf(this,function(i){switch(i.label){case 0:if(!Qw(e))throw e;return t.$r.add(1),[4,aI(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return hk(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return nf(r,void 0,void 0,function(){return rf(this,function(e){switch(e.label){case 0:return tm("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,oI(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function bI(t,e){return e().catch(function(n){return yI(t,n,e)})}function wI(t){return nf(this,void 0,void 0,function(){var e,n,r,i,o;return rf(this,function(a){switch(a.label){case 0:e=am(t),n=xI(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return dI(t)&&t.kr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,pk(e.localStore,r)];case 3:return null===(i=a.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=xI(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,yI(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return _I(e)&&kI(e),[2]}})})}function _I(t){return dI(t)&&!xI(t).tr()&&t.kr.length>0}function kI(t){xI(t).start()}function II(t){return nf(this,void 0,void 0,function(){return rf(this,function(e){return xI(t).Ar(),[2]})})}function SI(t){return nf(this,void 0,void 0,function(){var e,n,r;return rf(this,function(i){for(e=xI(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function EI(t,e,n){return nf(this,void 0,void 0,function(){var r,i;return rf(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=n_.from(r,e,n),[4,bI(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,wI(t)];case 2:return o.sent(),[2]}})})}function CI(t,e){return nf(this,void 0,void 0,function(){return rf(this,function(n){switch(n.label){case 0:return e&&xI(t).pr?[4,function(t,e){return nf(this,void 0,void 0,function(){var n,r;return rf(this,function(i){switch(i.label){case 0:return pb(r=e.code)&&r!==Xg.ABORTED?(n=t.kr.shift(),xI(t).sr(),[4,bI(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,wI(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return _I(t)&&kI(t),[2]}})})}function TI(t,e){return nf(this,void 0,void 0,function(){var n;return rf(this,function(r){switch(r.label){case 0:return n=am(t),e?(n.$r.delete(2),[4,oI(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,aI(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function AI(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=am(t);return r.br(),new tI(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:vI.bind(null,t),Ri:gI.bind(null,t),_r:mI.bind(null,t)}),t.Mr.push(function(n){return nf(e,void 0,void 0,function(){return rf(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),fI(t)?hI(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),pI(t),e.label=3;case 3:return[2]}})})})),t.Ur}function xI(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=am(t);return r.br(),new eI(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:II.bind(null,t),Ri:CI.bind(null,t),Ir:SI.bind(null,t),Tr:EI.bind(null,t)}),t.Mr.push(function(n){return nf(e,void 0,void 0,function(){return rf(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,wI(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(tm("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var OI=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Bw,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Zg(Xg.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function NI(t,e){if(em("AsyncQueue",e+": "+t),Qw(t))return new Zg(Xg.UNAVAILABLE,e+": "+t);throw t}var DI=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Pm.comparator(e.key,n.key)}:function(t,e){return Pm.comparator(t.key,e.key)},this.keyedMap=Sb(),this.sortedSet=new gb(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),PI=function(){function t(){this.Kr=new gb(Pm.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):im():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),RI=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,DI.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ty(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),MI=function(){this.Wr=void 0,this.listeners=[]},LI=function(){this.queries=new H_(function(t){return Ay(t)},Ty),this.onlineState="Unknown",this.Gr=new Set};function FI(t,e){return nf(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return rf(this,function(c){switch(c.label){case 0:if(n=am(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new MI),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=NI(s,"Initialization of query '"+xy(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&qI(n),[2]}})})}function VI(t,e){return nf(this,void 0,void 0,function(){var n,r,i,o,a;return rf(this,function(s){return n=am(t),i=!1,(o=n.queries.get(r=e.query))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function UI(t,e){for(var n=am(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=n.queries.get(a.query);if(s){for(var u=0,c=s.listeners;u<c.length;u++)c[u].Hr(a)&&(r=!0);s.Wr=a}}r&&qI(n)}function jI(t,e,n){var r=am(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function qI(t){t.Gr.forEach(function(t){t.next()})}var BI=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new RI(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=RI.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),HI=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),zI=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Xb(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?nw(this.R,t.document,!1):Ym.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return Kb(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new zI(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(e.get(c)||Ab()).add(a);e.set(c,l)}}return e},t.prototype.complete=function(){return nf(this,void 0,void 0,function(){var t,e,n,r,i;return rf(this,function(o){switch(o.label){case 0:return[4,_k(this.localStore,new zI(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,kk(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new rk(Object.assign({},this.progress),t))]}})})}}();var GI=function(t){this.key=t},KI=function(t){this.key=t},WI=function(){function t(t,e){this.query=t,this.ao=e,this.uo=null,this.current=!1,this.ho=Ab(),this.mutatedKeys=Ab(),this.lo=Ny(t),this.fo=new DI(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.ao},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new PI,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=by(this.query)&&i.size===this.query.limit?i.last():null,c=wy(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=Oy(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))}),by(this.query)||wy(this.query))for(;a.size>this.query.limit;){var l=by(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return im()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var a=e?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.uo;return this.uo=s,0!==o.length||u?{snapshot:new RI(this.query,t.fo,i,o,t.mutatedKeys,0===s,u,!1),To:a}:{To:a}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new PI,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.ao.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.ao=e.ao.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.ao=e.ao.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Ab(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new KI(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new GI(t))}),n},t.prototype.Ao=function(t){this.ao=t.Bn,this.ho=Ab();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return RI.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.uo)},t}(),QI=function(t,e,n){this.query=t,this.targetId=e,this.view=n},YI=function(t){this.key=t,this.bo=!1},XI=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new H_(function(t){return Ay(t)},Ty),this.Vo=new Map,this.So=new Set,this.Do=new gb(Pm.comparator),this.Co=new Map,this.No=new Sk,this.xo={},this.Fo=new Map,this.ko=N_.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function ZI(t,e){return nf(this,void 0,void 0,function(){var n,r,i,o,a;return rf(this,function(s){switch(s.label){case 0:return n=CS(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,vk(n.localStore,Ey(e))];case 2:return o=s.sent(),a=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,JI(n,e,o.targetId,"current"===a)];case 3:r=s.sent(),n.isPrimaryClient&&sI(n.remoteStore,o),s.label=4;case 4:return[2,r]}})})}function JI(t,e,n,r){return nf(this,void 0,void 0,function(){var i,o,a,s,u,c;return rf(this,function(l){switch(l.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return nf(this,void 0,void 0,function(){var i,o,a;return rf(this,function(s){switch(s.label){case 0:return(i=e.view._o(n)).Nn?[4,mk(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(hS(t,e.targetId,a.To),a.snapshot)]}})})}(t,e,n,r)},[4,mk(t.localStore,e,!0)];case 1:return i=l.sent(),o=new WI(e,i.Bn),a=o._o(i.documents),s=Db.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(a,t.isPrimaryClient,s),hS(t,n,u.To),c=new QI(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function $I(t,e){return nf(this,void 0,void 0,function(){var n,r,i;return rf(this,function(o){switch(o.label){case 0:return n=am(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!Ty(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,gk(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),uI(n.remoteStore,r.targetId),cS(n,r.targetId)}).catch(L_)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return cS(n,r.targetId),[4,gk(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function tS(t,e,n){return nf(this,void 0,void 0,function(){var r,i,o,a;return rf(this,function(s){switch(s.label){case 0:r=TS(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=am(t),i=fm.now(),o=e.reduce(function(t,e){return t.add(e.key)},Ab());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=eb(c,n.get(c.key));null!=l&&a.push(new ob(c.key,l,Qm(l.toProto().mapValue),Xy.exists(!0)))}return r._n.addMutationBatch(t,i,a,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new gb(cm)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,pS(r,i.changes)];case 3:return s.sent(),[4,wI(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=NI(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function eS(t,e){return nf(this,void 0,void 0,function(){var n,r;return rf(this,function(i){switch(i.label){case 0:n=am(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,fk(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(om(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?om(r.bo):t.removedDocuments.size>0&&(om(r.bo),r.bo=!1))}),[4,pS(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,L_(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function nS(t,e,n){var r=am(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=am(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&qI(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function rS(t,e,n){return nf(this,void 0,void 0,function(){var r,i,o,a,s,u;return rf(this,function(c){switch(c.label){case 0:return(r=am(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(a=(a=new gb(Pm.comparator)).insert(o,Ym.newNoDocument(o,dm.min())),s=Ab().add(o),u=new Nb(dm.min(),new Map,new bb(cm),a,s),[4,eS(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),dS(r),[3,4];case 2:return[4,gk(r.localStore,e,!1).then(function(){return cS(r,e,n)}).catch(L_)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function iS(t,e){return nf(this,void 0,void 0,function(){var n,r,i;return rf(this,function(o){switch(o.label){case 0:n=am(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,lk(n.localStore,e)];case 2:return i=o.sent(),uS(n,r,null),sS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,pS(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,L_(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function oS(t,e,n){return nf(this,void 0,void 0,function(){var r,i;return rf(this,function(o){switch(o.label){case 0:r=am(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=am(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return om(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),uS(r,e,n),sS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,pS(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,L_(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function aS(t,e){return nf(this,void 0,void 0,function(){var n,r,i,o,a;return rf(this,function(s){switch(s.label){case 0:dI((n=am(t)).remoteStore)||tm("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=am(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=s.sent(),a=NI(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}function sS(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function uS(t,e,n){var r=am(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function cS(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||lS(t,e)})}function lS(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(uI(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),dS(t))}function hS(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof GI?(t.No.addReference(o.key,e),fS(t,o)):o instanceof KI?(tm("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||lS(t,o.key)):im()}}function fS(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(tm("SyncEngine","New document in limbo: "+n),t.So.add(r),dS(t))}function dS(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Pm(ym.fromString(e)),r=t.ko.next();t.Co.set(r,new YI(n)),t.Do=t.Do.insert(n,r),sI(t.remoteStore,new r_(Ey(yy(n.path)),r,2,Yg.o))}}function pS(t,e,n){return nf(this,void 0,void 0,function(){var r,i,o,a;return rf(this,function(s){switch(s.label){case 0:return r=am(t),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,s){a.push(r.$o(s,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=ok.Pn(s.targetId,t);o.push(e)}}))}),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(t,e){return nf(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c;return rf(this,function(l){switch(l.label){case 0:n=am(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Hw.forEach(e,function(e){return Hw.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Hw.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Qw(r=l.sent()))throw r;return tm("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=(a=o[i]).targetId,a.fromCache||(u=n.Fn.get(s),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(s,c));return[2]}})})}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function vS(t,e){return nf(this,void 0,void 0,function(){var n,r;return rf(this,function(i){switch(i.label){case 0:return(n=am(t)).currentUser.isEqual(e)?[3,3]:(tm("SyncEngine","User change. New user:",e.toKey()),[4,ck(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new Zg(Xg.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,pS(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function gS(t,e){var n=am(t),r=n.Co.get(e);if(r&&r.bo)return Ab().add(r.key);var i=Ab(),o=n.Vo.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=n.Po.get(s[a]);i=i.unionWith(u.view.wo)}return i}function mS(t,e){return nf(this,void 0,void 0,function(){var n,r,i;return rf(this,function(o){switch(o.label){case 0:return[4,mk((n=am(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&hS(n,e.targetId,i.To),i)]}})})}function yS(t){return nf(this,void 0,void 0,function(){var e;return rf(this,function(n){return[2,bk((e=am(t)).localStore).then(function(t){return pS(e,t)})]})})}function bS(t,e,n,r){return nf(this,void 0,void 0,function(){var i,o;return rf(this,function(a){switch(a.label){case 0:return[4,function(t,e){var n=am(t),r=am(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):Hw.resolve(null)})})}((i=am(t)).localStore,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,wI(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(uS(i,e,r||null),sS(i,e),function(t,e){am(am(t)._n).Gt(e)}(i.localStore,e)):im(),a.label=4;case 4:return[4,pS(i,o)];case 5:return a.sent(),[3,7];case 6:tm("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}})})}function wS(t,e){return nf(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return rf(this,function(c){switch(c.label){case 0:return CS(n=am(t)),TS(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,_S(n,r.toArray())]);case 1:return i=c.sent(),n.Oo=!0,[4,TI(n.remoteStore,!0)];case 2:for(c.sent(),o=0,a=i;o<a.length;o++)sI(n.remoteStore,a[o]);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(s=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?s.push(e):u=u.then(function(){return cS(n,e),gk(n.localStore,e,!0)}),uI(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,_S(n,s)];case 5:return c.sent(),function(t){var e=am(t);e.Co.forEach(function(t,n){uI(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new gb(Pm.comparator)}(n),n.Oo=!1,[4,TI(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function _S(t,e,n){return nf(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c,l,h,f,d,p;return rf(this,function(v){switch(v.label){case 0:n=am(t),r=[],i=[],o=0,a=e,v.label=1;case 1:return o<a.length?(u=void 0,(c=n.Vo.get(s=a[o]))&&0!==c.length?[4,vk(n.localStore,Ey(c[0]))]:[3,7]):[3,13];case 2:u=v.sent(),l=0,h=c,v.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,mS(n,f)]):[3,6];case 4:(d=v.sent()).snapshot&&i.push(d.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,yk(n.localStore,s)];case 8:return p=v.sent(),[4,vk(n.localStore,p)];case 9:return u=v.sent(),[4,JI(n,kS(p),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function kS(t){return my(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function IS(t){var e=am(t);return am(am(e.localStore).persistence).fn()}function SS(t,e,n,r){return nf(this,void 0,void 0,function(){var i,o,a;return rf(this,function(s){switch(s.label){case 0:return(i=am(t)).Oo?(tm("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,bk(i.localStore)];case 3:return o=s.sent(),a=Nb.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,pS(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,gk(i.localStore,e,!0)];case 6:return s.sent(),cS(i,e,r),[3,8];case 7:im(),s.label=8;case 8:return[2]}})})}function ES(t,e,n){return nf(this,void 0,void 0,function(){var r,i,o,a,s,u,c,l,h;return rf(this,function(f){switch(f.label){case 0:if(!(r=CS(t)).Oo)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Vo.has(a=o[i])?(tm("SyncEngine","Adding an already active target "+a),[3,5]):[4,yk(r.localStore,a)]:[3,6];case 2:return s=f.sent(),[4,vk(r.localStore,s)];case 3:return u=f.sent(),[4,JI(r,kS(s),u.targetId,!1)];case 4:f.sent(),sI(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return rf(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,gk(r.localStore,t,!1).then(function(){uI(r.remoteStore,t),cS(r,t)}).catch(L_)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function CS(t){var e=am(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=eS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rS.bind(null,e),e.vo._r=UI.bind(null,e.eventManager),e.vo.Mo=jI.bind(null,e.eventManager),e}function TS(t){var e=am(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oS.bind(null,e),e}var AS=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return nf(this,void 0,void 0,function(){return rf(this,function(e){switch(e.label){case 0:return this.R=Zk(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return uk(this.persistence,new ak,t.initialUser,this.R)},t.prototype.qo=function(t){return new Ok(Dk.bs,this.R)},t.prototype.Bo=function(t){return new Hk},t.prototype.terminate=function(){return nf(this,void 0,void 0,function(){return rf(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),xS=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return tf(e,t),e.prototype.initialize=function(e){return nf(this,void 0,void 0,function(){return rf(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,wk(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,TS(this.Ko.syncEngine)];case 4:return n.sent(),[4,wI(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return uk(this.persistence,new ak,t.initialUser,this.R)},e.prototype.Uo=function(t){return new U_(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=nk(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?I_.withCacheSize(this.cacheSizeBytes):I_.DEFAULT;return new $_(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Yk(),Xk(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Hk},e}(AS),OS=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return tf(e,t),e.prototype.initialize=function(e){return nf(this,void 0,void 0,function(){var n,r=this;return rf(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof Bk?(this.sharedClientState.syncEngine={ai:bS.bind(null,n),ui:SS.bind(null,n),hi:ES.bind(null,n),fn:IS.bind(null,n),ci:yS.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return nf(r,void 0,void 0,function(){return rf(this,function(e){switch(e.label){case 0:return[4,wS(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=Yk();if(!Bk.yt(e))throw new Zg(Xg.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=nk(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Bk(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(xS),NS=function(){function t(){}return t.prototype.initialize=function(t,e){return nf(this,void 0,void 0,function(){var n=this;return rf(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return nS(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=vS.bind(null,this.syncEngine),[4,TI(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new LI},t.prototype.createDatastore=function(t){var e=Zk(t.databaseInfo.databaseId),n=new Qk(t.databaseInfo);return function(t,e,n){return new nI(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,a=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return nS(a.syncEngine,t,0)},o=Gk.yt()?new Gk:new zk,new iI(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,a){var s=new XI(t,e,n,r,i,o);return a&&(s.Oo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return nf(this,void 0,void 0,function(){var e;return rf(this,function(n){switch(n.label){case 0:return e=am(t),tm("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,aI(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),DS=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),PS=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Bw,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return nf(this,void 0,void 0,function(){return rf(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return nf(this,void 0,void 0,function(){return rf(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return nf(this,void 0,void 0,function(){var t,e,n,r;return rf(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new HI(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return nf(this,void 0,void 0,function(){var t,e;return rf(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return nf(this,void 0,void 0,function(){var e;return rf(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return nf(this,void 0,void 0,function(){var t,e;return rf(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return nf(this,void 0,void 0,function(){var e,n=this;return rf(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Zg(Xg.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return nf(this,void 0,void 0,function(){var n,r,i,o,a,s;return rf(this,function(u){switch(u.label){case 0:return n=am(t),r=$b(n.R)+"/documents",i={documents:e.map(function(t){return Yb(n.R,t)})},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){om(!!e.found);var n=Xb(t,e.found.name),r=Kb(e.found.updateTime),i=new Wm({mapValue:{fields:e.found.fields}});return Ym.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){om(!!e.missing),om(!!e.readTime);var n=Xb(t,e.missing),r=Kb(e.readTime);return Ym.newNoDocument(n,r)}(t,e):im()}(n.R,t);a.set(e.key.toString(),e)}),s=[],[2,(e.forEach(function(t){var e=a.get(t.toString());om(!!e),s.push(e)}),s)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new hb(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return nf(this,void 0,void 0,function(){var t,e=this;return rf(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Pm.fromPath(n);e.mutations.push(new fb(r,e.precondition(r)))}),[4,function(t,e){return nf(this,void 0,void 0,function(){var n,r,i;return rf(this,function(o){switch(o.label){case 0:return n=am(t),r=$b(n.R)+"/documents",i={writes:e.map(function(t){return rw(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw im();e=dm.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Zg(Xg.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Xy.updateTime(e):Xy.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(dm.min()))throw new Zg(Xg.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xy.updateTime(e)}return Xy.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),RS=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Jk(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return nf(t,void 0,void 0,function(){var t,e,n=this;return rf(this,function(r){return t=new PS(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Om(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!pb(e)}return!1},t}(),MS=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Pk.UNAUTHENTICATED,this.clientId=um.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return nf(r,void 0,void 0,function(){return rf(this,function(e){switch(e.label){case 0:return tm("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return nf(this,void 0,void 0,function(){return rf(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Zg(Xg.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Bw;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return nf(t,void 0,void 0,function(){var t,n;return rf(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=NI(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function LS(t,e){return nf(this,void 0,void 0,function(){var n,r,i=this;return rf(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),tm("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return nf(i,void 0,void 0,function(){return rf(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,ck(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function FS(t,e){return nf(this,void 0,void 0,function(){var n,r;return rf(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,VS(t)];case 1:return n=i.sent(),tm("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return nf(this,void 0,void 0,function(){var n,r;return rf(this,function(i){switch(i.label){case 0:return(n=am(t)).asyncQueue.verifyOperationInProgress(),tm("RemoteStore","RemoteStore received new credentials"),r=dI(n),n.$r.add(3),[4,aI(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,oI(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function VS(t){return nf(this,void 0,void 0,function(){return rf(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(tm("FirestoreClient","Using default OfflineComponentProvider"),[4,LS(t,new AS)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function US(t){return nf(this,void 0,void 0,function(){return rf(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(tm("FirestoreClient","Using default OnlineComponentProvider"),[4,FS(t,new NS)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function jS(t){return VS(t).then(function(t){return t.persistence})}function qS(t){return VS(t).then(function(t){return t.localStore})}function BS(t){return US(t).then(function(t){return t.remoteStore})}function HS(t){return US(t).then(function(t){return t.syncEngine})}function zS(t){return nf(this,void 0,void 0,function(){var e,n;return rf(this,function(r){switch(r.label){case 0:return[4,US(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=ZI.bind(null,e.syncEngine),n.onUnlisten=$I.bind(null,e.syncEngine),n)]}})})}function GS(t,e,n){var r=this;void 0===n&&(n={});var i=new Bw;return t.asyncQueue.enqueueAndForget(function(){return nf(r,void 0,void 0,function(){var r;return rf(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new DS({next:function(o){e.enqueueAndForget(function(){return VI(t,a)});var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Zg(Xg.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Zg(Xg.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new BI(yy(n.path),o,{includeMetadataChanges:!0,so:!0});return FI(t,a)},[4,zS(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function KS(t,e,n){var r=this;void 0===n&&(n={});var i=new Bw;return t.asyncQueue.enqueueAndForget(function(){return nf(r,void 0,void 0,function(){var r;return rf(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new DS({next:function(n){e.enqueueAndForget(function(){return VI(t,a)}),n.fromCache&&"server"===r.source?i.reject(new Zg(Xg.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new BI(n,o,{includeMetadataChanges:!0,so:!0});return FI(t,a)},[4,zS(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var WS=function(t,e,n,r,i,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a},QS=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),YS=new Map,XS=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},ZS=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(Pk.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),JS=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),$S=function(){function t(t){var e=this;this.currentUser=Pk.UNAUTHENTICATED,this.oc=new Bw,this.cc=0,this.changeListener=function(){return Promise.resolve()},this.ac=!1,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.hc(),e.oc.resolve(),e.ac&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){tm("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.lc(),e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):e.ac&&(tm("FirebaseCredentialsProvider","Auth not yet detected"),e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)}))}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(tm("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(om("string"==typeof n.accessToken),new XS(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){this.ac=!0,this.asyncQueue=t,this.changeListener=e},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.hc=function(){var t=this.auth&&this.auth.getUid();return om(null===t||"string"==typeof t),new Pk(t)},t.prototype.lc=function(){var t=this;this.ac&&(this.ac=!1,this.asyncQueue.enqueueRetryable(function(){return nf(t,void 0,void 0,function(){return rf(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,this.changeListener(this.currentUser)];case 2:return t.sent(),this.ac=!0,[2]}})})}))},t}(),tE=function(){function t(t,e,n){this.fc=t,this.dc=e,this.wc=n,this.type="FirstParty",this.user=Pk.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.dc},e=this.fc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.wc&&(t["X-Goog-Iam-Authorization-Token"]=this.wc),t},enumerable:!1,configurable:!0}),t}(),eE=function(){function t(t,e,n){this.fc=t,this.dc=e,this.wc=n}return t.prototype.getToken=function(){return Promise.resolve(new tE(this.fc,this.dc,this.wc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(Pk.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function nE(t,e,n){if(!n)throw new Zg(Xg.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function rE(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Zg(Xg.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function iE(t,e,n,r){if(!0===e&&!0===r)throw new Zg(Xg.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function oE(t){if(!Pm.isDocumentKey(t))throw new Zg(Xg.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function aE(t){if(Pm.isDocumentKey(t))throw new Zg(Xg.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function sE(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":im()}function uE(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Zg(Xg.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=sE(t);throw new Zg(Xg.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function cE(t,e){if(e<=0)throw new Zg(Xg.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var lE=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Zg(Xg.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Zg(Xg.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,iE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),hE=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lE({}),this._settingsFrozen=!1,t instanceof QS?(this._databaseId=t,this._credentials=new ZS):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Zg(Xg.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new QS(t.options.projectId)}(t),this._credentials=new $S(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Zg(Xg.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Zg(Xg.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lE(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new ZS;switch(t.type){case"gapi":var e=t.client;return om(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new eE(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Zg(Xg.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=YS.get(this))&&(tm("ComponentProvider","Removing Datastore"),YS.delete(this),t.terminate()),Promise.resolve();var t},t}(),fE=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new pE(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),dE=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),pE=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,yy(r))||this)._path=r,i.type="collection",i}return tf(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new fE(this.firestore,null,new Pm(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(dE);function vE(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=_f(t),nE("collection","path",e),t instanceof hE)return aE(n=ym.fromString.apply(ym,sf([e],r))),new pE(t,null,n);if(!(t instanceof fE||t instanceof pE))throw new Zg(Xg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return aE(n=ym.fromString.apply(ym,sf([t.path],r)).child(ym.fromString(e))),new pE(t.firestore,null,n)}function gE(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=_f(t),1===arguments.length&&(e=um.u()),nE("doc","path",e),t instanceof hE)return oE(n=ym.fromString.apply(ym,sf([e],r))),new fE(t,null,new Pm(n));if(!(t instanceof fE||t instanceof pE))throw new Zg(Xg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return oE(n=t._path.child(ym.fromString.apply(ym,sf([e],r)))),new fE(t.firestore,t instanceof pE?t.converter:null,new Pm(n))}function mE(t,e){return t=_f(t),e=_f(e),(t instanceof fE||t instanceof pE)&&(e instanceof fE||e instanceof pE)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function yE(t,e){return t=_f(t),e=_f(e),t instanceof dE&&e instanceof dE&&t.firestore===e.firestore&&Ty(t._query,e._query)&&t.converter===e.converter}var bE=function(){function t(){var t=this;this._c=Promise.resolve(),this.mc=[],this.yc=!1,this.gc=[],this.Ec=null,this.Tc=!1,this.Ic=[],this.Zi=new Jk(this,"async_queue_retry"),this.Ac=function(){var e=Xk();e&&tm("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Xk();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ac)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.yc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Rc(),this.bc(t)},t.prototype.enterRestrictedMode=function(){if(!this.yc){this.yc=!0;var t=Xk();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ac)}},t.prototype.enqueue=function(t){return this.Rc(),this.yc?new Promise(function(t){}):this.bc(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.mc.push(t),e.vc()})},t.prototype.vc=function(){return nf(this,void 0,void 0,function(){var t,e=this;return rf(this,function(n){switch(n.label){case 0:if(0===this.mc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.mc[0]()];case 2:return n.sent(),this.mc.shift(),this.Zi.reset(),[3,4];case 3:if(!Qw(t=n.sent()))throw t;return tm("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.mc.length>0&&this.Zi.ji(function(){return e.vc()}),n.label=5;case 5:return[2]}})})},t.prototype.bc=function(t){var e=this,n=this._c.then(function(){return e.Tc=!0,t().catch(function(t){throw e.Ec=t,e.Tc=!1,em("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.Tc=!1,t})});return this._c=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Rc(),this.Ic.indexOf(t)>-1&&(e=0);var i=OI.createAndSchedule(this,t,e,n,function(t){return r.Pc(t)});return this.gc.push(i),i},t.prototype.Rc=function(){this.Ec&&im()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Vc=function(){return nf(this,void 0,void 0,function(){var t;return rf(this,function(e){switch(e.label){case 0:return[4,t=this._c];case 1:e.sent(),e.label=2;case 2:if(t!==this._c)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Sc=function(t){for(var e=0,n=this.gc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Dc=function(t){var e=this;return this.Vc().then(function(){e.gc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.gc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Vc()})},t.prototype.Cc=function(t){this.Ic.push(t)},t.prototype.Pc=function(t){var e=this.gc.indexOf(t);this.gc.splice(e,1)},t}();function wE(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Bw,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var _E=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new bE,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return tf(e,t),e.prototype._terminate=function(){return this._firestoreClient||IE(this),this._firestoreClient.terminate()},e}(hE);function kE(t){return t._firestoreClient||IE(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function IE(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new WS(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new MS(t._credentials,t._queue,r)}function SE(t,e,n){var r=this,i=new Bw;return t.asyncQueue.enqueue(function(){return nf(r,void 0,void 0,function(){var r;return rf(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,LS(t,n)];case 1:return o.sent(),[4,FS(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Xg.FAILED_PRECONDITION||t.code===Xg.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function EE(t){if(t._initialized||t._terminated)throw new Zg(Xg.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var CE=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Zg(Xg.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wm(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),TE=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(km.fromBase64String(e))}catch(e){throw new Zg(Xg.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(km.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),AE=function(t){this._methodName=t},xE=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Zg(Xg.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Zg(Xg.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return cm(this._lat,t._lat)||cm(this._long,t._long)},t}(),OE=/^__.*__$/,NE=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new ob(t,this.data,this.fieldMask,e,this.fieldTransforms):new ib(t,this.data,e,this.fieldTransforms)},t}(),DE=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new ob(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function PE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw im()}}var RE=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Nc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xc",{get:function(){return this.settings.xc},enumerable:!1,configurable:!0}),t.prototype.Fc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fc({path:n,Oc:!1});return r.$c(t),r},t.prototype.Mc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fc({path:n,Oc:!1});return r.Nc(),r},t.prototype.Lc=function(t){return this.Fc({path:void 0,Oc:!0})},t.prototype.Bc=function(t){return tC(t,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Uc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Nc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Bc("Document fields must not be empty");if(PE(this.xc)&&OE.test(t))throw this.Bc('Document fields cannot begin and end with "__"')},t}(),ME=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Zk(t)}return t.prototype.Qc=function(t,e,n,r){return void 0===r&&(r=!1),new RE({xc:t,methodName:e,Uc:n,path:wm.emptyPath(),Oc:!1,qc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function LE(t){var e=t._freezeSettings(),n=Zk(t._databaseId);return new ME(t._databaseId,!!e.ignoreUndefinedProperties,n)}function FE(t,e,n,r,i,o){void 0===o&&(o={});var a=t.Qc(o.merge||o.mergeFields?2:0,e,n,i);XE("Data must be an object, but it was:",a,r);var s,u,c=QE(r,a);if(o.merge)s=new _m(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=ZE(e,f[h],n);if(!a.contains(d))throw new Zg(Xg.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");eC(l,d)||l.push(d)}s=new _m(l),u=a.fieldTransforms.filter(function(t){return s.covers(t.field)})}else s=null,u=a.fieldTransforms;return new NE(new Wm(c),s,u)}var VE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tf(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.xc)throw t.Bc(1===t.xc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(AE);function UE(t,e,n){return new RE({xc:3,Uc:e.settings.Uc,methodName:t._methodName,Oc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var jE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tf(e,t),e.prototype._toFieldTransform=function(t){return new Qy(t.path,new jy)},e.prototype.isEqual=function(t){return t instanceof e},e}(AE),qE=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return tf(e,t),e.prototype._toFieldTransform=function(t){var e=UE(this,t,!0),n=this.Kc.map(function(t){return WE(t,e)}),r=new qy(n);return new Qy(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(AE),BE=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return tf(e,t),e.prototype._toFieldTransform=function(t){var e=UE(this,t,!0),n=this.Kc.map(function(t){return WE(t,e)}),r=new Hy(n);return new Qy(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(AE),HE=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return tf(e,t),e.prototype._toFieldTransform=function(t){var e=new Gy(t.R,My(t.R,this.jc));return new Qy(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(AE);function zE(t,e,n,r){var i=t.Qc(1,e,n);XE("Data must be an object, but it was:",i,r);var o=[],a=Wm.empty();vm(r,function(t,r){var s=$E(e,t,n);r=_f(r);var u=i.Mc(s);if(r instanceof VE)o.push(s);else{var c=WE(r,u);null!=c&&(o.push(s),a.set(s,c))}});var s=new _m(o);return new DE(a,s,i.fieldTransforms)}function GE(t,e,n,r,i,o){var a=t.Qc(1,e,n),s=[ZE(e,r,n)],u=[i];if(o.length%2!=0)throw new Zg(Xg.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(ZE(e,o[c])),u.push(o[c+1]);for(var l=[],h=Wm.empty(),f=s.length-1;f>=0;--f)if(!eC(l,s[f])){var d=s[f],p=u[f];p=_f(p);var v=a.Mc(d);if(p instanceof VE)l.push(d);else{var g=WE(p,v);null!=g&&(l.push(d),h.set(d,g))}}var m=new _m(l);return new DE(h,m,a.fieldTransforms)}function KE(t,e,n,r){return void 0===r&&(r=!1),WE(n,t.Qc(r?4:3,e))}function WE(t,e){if(YE(t=_f(t)))return XE("Unsupported field value:",e,t),QE(t,e);if(t instanceof AE)return function(t,e){if(!PE(e.xc))throw e.Bc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Bc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Oc&&4!==e.xc)throw e.Bc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=WE(o[i],e.Lc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=_f(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return My(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=fm.fromDate(t);return{timestampValue:Hb(e.R,n)}}if(t instanceof fm)return n=new fm(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Hb(e.R,n)};if(t instanceof xE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof TE)return{bytesValue:zb(e.R,t._byteString)};if(t instanceof fE){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Bc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Wb(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Bc("Unsupported field value: "+sE(t))}(t,e)}function QE(t,e){var n={};return gm(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vm(t,function(t,r){var i=WE(r,e.kc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function YE(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof fm||t instanceof xE||t instanceof TE||t instanceof fE||t instanceof AE)}function XE(t,e,n){if(!YE(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=sE(n);throw e.Bc("an object"===r?t+" a custom object":t+" "+r)}}function ZE(t,e,n){if((e=_f(e))instanceof CE)return e._internalPath;if("string"==typeof e)return $E(t,e);throw tC("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var JE=new RegExp("[~\\*/\\[\\]]");function $E(t,e,n){if(e.search(JE)>=0)throw tC("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(CE.bind.apply(CE,sf([void 0],e.split(".")))))._internalPath}catch(ld){throw tC("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function tC(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new Zg(Xg.INVALID_ARGUMENT,(s+=". ")+t+u)}function eC(t,e){return t.some(function(t){return t.isEqual(e)})}var nC=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new fE(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new rC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(iC("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),rC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tf(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(nC);function iC(t,e){return"string"==typeof e?$E(t,e):e instanceof CE?e._internalPath:e._delegate._internalPath}var oC=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),aC=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this)._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return tf(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new sC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(iC("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(nC),sC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tf(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(aC),uC=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new oC(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new sC(n._firestore,n._userDataWriter,r.key,r,new oC(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Zg(Xg.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new sC(t._firestore,t._userDataWriter,e.doc.key,e.doc,new oC(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new sC(t._firestore,t._userDataWriter,e.doc.key,e.doc,new oC(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:cC(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function cC(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return im()}}function lC(t,e){return t instanceof aC&&e instanceof aC?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof uC&&e instanceof uC&&t._firestore===e._firestore&&yE(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function hC(t){if(wy(t)&&0===t.explicitOrderBy.length)throw new Zg(Xg.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var fC=function(){};function dC(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var pC=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Wc=e,i.Gc=n,i.zc=r,i.type="where",i}return tf(e,t),e.prototype._apply=function(t){var e=LE(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Zg(Xg.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){_C(a,o);for(var u=[],c=0,l=a;c<l.length;c++)u.push(wC(r,t,l[c]));s={arrayValue:{values:u}}}else s=wC(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||_C(a,o),s=KE(n,"where",a,"in"===o||"not-in"===o);var h=ey.create(i,o,s);return function(t,e){if(e.g()){var n=ky(t);if(null!==n&&!n.isEqual(e.field))throw new Zg(Xg.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=_y(t);null!==r&&kC(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Zg(Xg.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Wc,this.Gc,this.zc);return new dE(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new gy(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(fC),vC=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Wc=e,r.Hc=n,r.type="orderBy",r}return tf(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Zg(Xg.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Zg(Xg.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new fy(e,n);return function(t,e){if(null===_y(t)){var n=ky(t);null!==n&&kC(0,n,e.field)}}(t,r),r}(t._query,this.Wc,this.Hc);return new dE(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new gy(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(fC),gC=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return tf(e,t),e.prototype._apply=function(t){return new dE(t.firestore,t.converter,Cy(t._query,this.Jc,this.Yc))},e}(fC),mC=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return tf(e,t),e.prototype._apply=function(t){var e=bC(t,this.type,this.Xc,this.Zc);return new dE(t.firestore,t.converter,function(t,e){return new gy(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(fC),yC=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return tf(e,t),e.prototype._apply=function(t){var e=bC(t,this.type,this.Xc,this.Zc);return new dE(t.firestore,t.converter,function(t,e){return new gy(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(fC);function bC(t,e,n,r){if(n[0]=_f(n[0]),n[0]instanceof nC)return function(t,e,n,r,i){if(!r)throw new Zg(Xg.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Sy(t);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(qm(e,r.key));else{var c=r.data.field(u.field);if(Tm(c))throw new Zg(Xg.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Zg(Xg.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new ly(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=LE(t.firestore);return function(t,e,n,r,i,o){var a=t.explicitOrderBy;if(i.length>a.length)throw new Zg(Xg.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new Zg(Xg.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Iy(t)&&-1!==c.indexOf("/"))throw new Zg(Xg.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(ym.fromString(c));if(!Pm.isDocumentKey(l))throw new Zg(Xg.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Pm(l);s.push(qm(e,h))}else{var f=KE(n,r,c);s.push(f)}}return new ly(s,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function wC(t,e,n){if("string"==typeof(n=_f(n))){if(""===n)throw new Zg(Xg.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Iy(e)&&-1!==n.indexOf("/"))throw new Zg(Xg.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(ym.fromString(n));if(!Pm.isDocumentKey(r))throw new Zg(Xg.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return qm(t,new Pm(r))}if(n instanceof fE)return qm(t,n._key);throw new Zg(Xg.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+sE(n)+".")}function _C(t,e){if(!Array.isArray(t)||0===t.length)throw new Zg(Xg.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Zg(Xg.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function kC(t,e,n){if(!n.isEqual(e))throw new Zg(Xg.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var IC=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Rm(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Em(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Cm(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw im()}},t.prototype.convertObject=function(t,e){var n=this,r={};return vm(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new xE(Em(t.latitude),Em(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Am(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(xm(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Sm(t);return new fm(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=ym.fromString(t);om(yw(n));var r=new QS(n.get(1),n.get(3)),i=new Pm(n.popFirst(5));return r.isEqual(e)||em("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function SC(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var EC=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return tf(e,t),e.prototype.convertBytes=function(t){return new TE(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new fE(this.firestore,null,e)},e}(IC),CC=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=LE(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=TC(t,this._firestore),i=SC(r.converter,e,n),o=FE(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Xy.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=TC(t,this._firestore);return o="string"==typeof(e=_f(e))||e instanceof CE?GE(this._dataReader,"WriteBatch.update",a._key,e,n,r):zE(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(o.toMutation(a._key,Xy.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=TC(t,this._firestore);return this._mutations=this._mutations.concat(new hb(e._key,Xy.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Zg(Xg.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function TC(t,e){if((t=_f(t)).firestore!==e)throw new Zg(Xg.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var AC=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return tf(e,t),e.prototype.convertBytes=function(t){return new TE(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new fE(this.firestore,null,e)},e}(IC);function xC(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=uE(t,fE);var o=uE(t.firestore,_E),a=LE(o);return NC(o,[("string"==typeof(e=_f(e))||e instanceof CE?GE(a,"updateDoc",t._key,e,n,r):zE(a,"updateDoc",t._key,e)).toMutation(t._key,Xy.exists(!0))])}function OC(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=_f(t);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||wE(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(wE(i[s])){var f=i[s];i[s]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof fE)c=uE(t.firestore,_E),l=yy(t._key.path),u={next:function(e){i[s]&&i[s](DC(c,t,e))},error:i[s+1],complete:i[s+2]};else{var d=uE(t,dE);c=uE(d.firestore,_E),l=d._query;var p=new AC(c);u={next:function(t){i[s]&&i[s](new uC(c,p,d,t))},error:i[s+1],complete:i[s+2]},hC(t._query)}return function(t,e,n,r){var i=this,o=new DS(r),a=new BI(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return nf(i,void 0,void 0,function(){var e;return rf(this,function(n){switch(n.label){case 0:return e=FI,[4,zS(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return nf(i,void 0,void 0,function(){var e;return rf(this,function(n){switch(n.label){case 0:return e=VI,[4,zS(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}})})})}}(kE(c),l,h,u)}function NC(t,e){return function(t,e){var n=this,r=new Bw;return t.asyncQueue.enqueueAndForget(function(){return nf(n,void 0,void 0,function(){var n;return rf(this,function(i){switch(i.label){case 0:return n=tS,[4,HS(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(kE(t),e)}function DC(t,e,n){var r=n.docs.get(e._key),i=new AC(t);return new aC(t,i,e._key,r,new oC(n.hasPendingWrites,n.fromCache),e.converter)}var PC=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return tf(e,t),e.prototype.get=function(e){var n=this,r=TC(e,this._firestore),i=new AC(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new aC(n._firestore,i,r._key,t._document,new oC(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=LE(t)}return t.prototype.get=function(t){var e=this,n=TC(t,this._firestore),r=new EC(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return im();var i=t[0];if(i.isFoundDocument())return new nC(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new nC(e._firestore,r,n._key,null,n.converter);throw im()})},t.prototype.set=function(t,e,n){var r=TC(t,this._firestore),i=SC(r.converter,e,n),o=FE(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=TC(t,this._firestore);return o="string"==typeof(e=_f(e))||e instanceof CE?GE(this._dataReader,"Transaction.update",a._key,e,n,r):zE(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,o),this},t.prototype.delete=function(t){var e=TC(t,this._firestore);return this._transaction.delete(e._key),this},t}());function RC(){if("undefined"==typeof Uint8Array)throw new Zg(Xg.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function MC(){if("undefined"==typeof atob)throw new Zg(Xg.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var LC=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return MC(),new t(TE.fromBase64String(e))},t.fromUint8Array=function(e){return RC(),new t(TE.fromUint8Array(e))},t.prototype.toBase64=function(){return MC(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return RC(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),FC=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){EE(t=uE(t,_E));var n=kE(t),r=t._freezeSettings(),i=new NS;return SE(n,i,new xS(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){EE(t=uE(t,_E));var e=kE(t),n=t._freezeSettings(),r=new NS;return SE(e,r,new OS(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Zg(Xg.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Bw;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return nf(e,void 0,void 0,function(){var e;return rf(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return nf(this,void 0,void 0,function(){return rf(this,function(e){switch(e.label){case 0:return Gw.yt()?[4,Gw.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(nk(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),VC=function(){function t(t,e,n){var r=this;this._delegate=e,this.ta=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof QS||(this.ea=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=uE(t,hE))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&nm("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var i=ef({iss:"https://securetoken.google.com/demo-project",aud:"demo-project",iat:n,exp:n+3600,auth_time:n,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[uf.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),uf.encodeString(JSON.stringify(i),!1),""].join(".")}(r.mockUserToken),a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new Zg(Xg.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new JS(new XS(o,new Pk(a)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return nf(e,void 0,void 0,function(){var e,n;return rf(this,function(r){switch(r.label){case 0:return[4,jS(t)];case 1:return e=r.sent(),[4,BS(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=am(t);return e.$r.delete(0),oI(e)}(n))]}})})})}(kE(uE(this._delegate,_E)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return nf(e,void 0,void 0,function(){var e,n;return rf(this,function(r){switch(r.label){case 0:return[4,jS(t)];case 1:return e=r.sent(),[4,BS(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return nf(this,void 0,void 0,function(){var e;return rf(this,function(n){switch(n.label){case 0:return(e=am(t)).$r.add(0),[4,aI(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(kE(uE(this._delegate,_E)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&iE("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.ta.enableMultiTabIndexedDbPersistence(this):this.ta.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.ta.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.ea&&(this.ea._removeServiceInstance("firestore"),this.ea._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Bw;return t.asyncQueue.enqueueAndForget(function(){return nf(e,void 0,void 0,function(){var e;return rf(this,function(r){switch(r.label){case 0:return e=aS,[4,HS(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(kE(uE(this._delegate,_E)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new DS(e);return t.asyncQueue.enqueueAndForget(function(){return nf(n,void 0,void 0,function(){var e;return rf(this,function(n){switch(n.label){case 0:return e=function(t,e){am(t).Gr.add(e),e.next()},[4,zS(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return nf(n,void 0,void 0,function(){var e;return rf(this,function(n){switch(n.label){case 0:return e=function(t,e){am(t).Gr.delete(e)},[4,zS(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(kE(t=uE(t,_E)),wE(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.ea)throw new Zg(Xg.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.ea},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new JC(this,vE(this._delegate,t))}catch(t){throw zC(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new HC(this,gE(this._delegate,t))}catch(t){throw zC(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new YC(this,function(t,e){if(t=uE(t,hE),nE("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Zg(Xg.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new dE(t,null,function(t){return new gy(ym.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw zC(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Bw;return t.asyncQueue.enqueueAndForget(function(){return nf(n,void 0,void 0,function(){var n;return rf(this,function(i){switch(i.label){case 0:return[4,function(t){return US(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new RS(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(kE(t),function(n){return e(new PC(t,n))})}(this._delegate,function(n){return t(new jC(e,n))})},t.prototype.batch=function(){var t=this;return kE(this._delegate),new qC(new CC(this._delegate,function(e){return NC(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new Zg(Xg.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Zg(Xg.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),UC=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return tf(e,t),e.prototype.convertBytes=function(t){return new LC(new TE(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return HC.na(e,this.firestore,null)},e}(IC),jC=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new UC(t)}return t.prototype.get=function(t){var e=this,n=$C(t);return this._delegate.get(n).then(function(t){return new WC(e._firestore,new aC(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=$C(t);return n?(rE("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=$C(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,sf([a,e,n],i)),this},t.prototype.delete=function(t){var e=$C(t);return this._delegate.delete(e),this},t}(),qC=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=$C(t);return n?(rE("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=$C(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,sf([a,e,n],i)),this},t.prototype.delete=function(t){var e=$C(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),BC=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new sC(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new QC(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.sa=function(e,n){var r=t.ia,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new UC(e),n),i.set(n,o)),o},t}();BC.ia=new WeakMap;var HC=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new UC(t)}return t.ra=function(e,n,r){if(e.length%2!=0)throw new Zg(Xg.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new fE(n._delegate,r,new Pm(e)))},t.na=function(e,n,r){return new t(n,new fE(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new JC(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new JC(this.firestore,vE(this._delegate,t))}catch(t){throw zC(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=_f(t))instanceof fE&&mE(this._delegate,t)},t.prototype.set=function(t,e){e=rE("DocumentReference.set",e);try{return function(t,e,n){t=uE(t,fE);var r=uE(t.firestore,_E),i=SC(t.converter,e,n);return NC(r,[FE(LE(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Xy.none())])}(this._delegate,t,e)}catch(t){throw zC(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?xC(this._delegate,t):xC.apply(void 0,sf([this._delegate,t,e],n))}catch(t){throw zC(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return NC(uE((t=this._delegate).firestore,_E),[new hb(t._key,Xy.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=GC(e),i=KC(e,function(e){return new WC(t.firestore,new aC(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return OC(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=uE(t,fE);var e=uE(t.firestore,_E),n=kE(e),r=new AC(e);return function(t,e){var n=this,r=new Bw;return t.asyncQueue.enqueueAndForget(function(){return nf(n,void 0,void 0,function(){var n;return rf(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return nf(this,void 0,void 0,function(){var r,i;return rf(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=am(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Zg(Xg.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=NI(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,qS(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new aC(e,r,t._key,n,new oC(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=uE(t,fE);var e=uE(t.firestore,_E);return GS(kE(e),t._key,{source:"server"}).then(function(n){return DC(e,t,n)})}(this._delegate):function(t){t=uE(t,fE);var e=uE(t.firestore,_E);return GS(kE(e),t._key).then(function(n){return DC(e,t,n)})}(this._delegate)).then(function(t){return new WC(e.firestore,new aC(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?BC.sa(this.firestore,e):null))},t}();function zC(t,e,n){return t.message=t.message.replace(e,n),t}function GC(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!wE(r))return r}return{}}function KC(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=wE(t[0])?t[0]:wE(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var WC=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new HC(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return lC(this._delegate,t._delegate)},t}(),QC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tf(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(WC),YC=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new UC(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,dC(this._delegate,function(t,e,n){var r=e,i=iC("where",t);return new pC(i,r,n)}(e,n,r)))}catch(e){throw zC(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,dC(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=iC("orderBy",t);return new vC(r,n)}(e,n)))}catch(e){throw zC(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,dC(this._delegate,function(t){return cE("limit",t),new gC("limit",t,"F")}(e)))}catch(e){throw zC(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,dC(this._delegate,function(t){return cE("limitToLast",t),new gC("limitToLast",t,"L")}(e)))}catch(e){throw zC(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,dC(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new mC("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw zC(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,dC(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new mC("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw zC(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,dC(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new yC("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw zC(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,dC(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new yC("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw zC(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return yE(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=uE(t,dE);var e=uE(t.firestore,_E),n=kE(e),r=new AC(e);return function(t,e){var n=this,r=new Bw;return t.asyncQueue.enqueueAndForget(function(){return nf(n,void 0,void 0,function(){var n;return rf(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return nf(this,void 0,void 0,function(){var r,i,o,a,s;return rf(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,mk(t,e,!0)];case 1:return s=u.sent(),r=new WI(e,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=NI(a,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}})})},[4,qS(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new uC(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=uE(t,dE);var e=uE(t.firestore,_E),n=kE(e),r=new AC(e);return KS(n,t._query,{source:"server"}).then(function(n){return new uC(e,r,t,n)})}(this._delegate):function(t){t=uE(t,dE);var e=uE(t.firestore,_E),n=kE(e),r=new AC(e);return hC(t._query),KS(n,t._query).then(function(n){return new uC(e,r,t,n)})}(this._delegate)).then(function(t){return new ZC(e.firestore,new uC(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=GC(e),i=KC(e,function(e){return new ZC(t.firestore,new uC(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return OC(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?BC.sa(this.firestore,e):null))},t}(),XC=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new QC(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),ZC=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new YC(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new QC(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new XC(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new QC(n._firestore,r))})},t.prototype.isEqual=function(t){return lC(this._delegate,t._delegate)},t}(),JC=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return tf(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new HC(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new HC(this.firestore,void 0===t?gE(this._delegate):gE(this._delegate,t))}catch(t){throw zC(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=uE(t.firestore,_E),r=gE(t),i=SC(t.converter,e);return NC(n,[FE(LE(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Xy.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new HC(e.firestore,t)})},e.prototype.isEqual=function(t){return mE(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?BC.sa(this.firestore,t):null))},e}(YC);function $C(t){return uE(t,fE)}var tT,eT=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(CE.bind.apply(CE,sf([void 0],t)))}return t.documentId=function(){return new t(wm.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=_f(t))instanceof CE&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),nT=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new jE("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new VE("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new qE("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new BE("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new HE("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),rT={Firestore:VC,GeoPoint:xE,Timestamp:fm,Blob:LC,Transaction:jC,WriteBatch:qC,DocumentReference:HC,DocumentSnapshot:WC,Query:YC,QueryDocumentSnapshot:QC,QuerySnapshot:ZC,CollectionReference:JC,FieldPath:eT,FieldValue:nT,setLogLevel:function(t){Jg.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function iT(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return V(r)?(e.pop(),W(e,r)):nt(e)}(function(t,e){t.INTERNAL.registerComponent(new If("firestore",function(t){return function(t,e){return new VC(t,new _E(t,e),new FC)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},rT)))})(tT=Wf),tT.registerVersion("@firebase/firestore","2.3.1");var oT=function(t){u(n,t);var e=l(n);function n(t){var r;return v(this,n),(r=e.call(this))._value=t,r}return m(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(t){var e=s(p(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new P;return this._value}},{key:"next",value:function(t){s(p(n.prototype),"next",this).call(this,this._value=t)}}]),n}(L),aT=function(t){u(n,t);var e=l(n);function n(){return v(this,n),e.apply(this,arguments)}return m(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(T),sT=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this)).parent=t,o.outerValue=r,o.outerIndex=i,o.index=0,o}return m(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(T);function uT(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new sT(t,n,r);if(!i.closed)return e instanceof N?e.subscribe(i):K(e)(i)}var cT={},lT=function(){function t(e){v(this,t),this.resultSelector=e}return m(t,[{key:"call",value:function(t,e){return e.subscribe(new hT(t,this.resultSelector))}}]),t}(),hT=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return m(n,[{key:"_next",value:function(t){this.values.push(cT),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++)this.add(uT(this,t[n],void 0,n))}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n){var r=this.values,i=this.toRespond?r[n]===cT?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(aT),fT=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}();function dT(){return et(1)(iT.apply(void 0,arguments))}var pT=new N(function(t){return t.complete()});function vT(t){return t?function(t){return new N(function(e){return t.schedule(function(){return e.complete()})})}(t):pT}function gT(t){return new N(function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?Q(n):vT()).subscribe(e)})}function mT(t,e){return"function"==typeof e?function(n){return n.pipe(mT(function(n,r){return Q(t(n,r)).pipe(U(function(t,i){return e(n,t,r,i)}))}))}:function(e){return e.lift(new yT(t))}}var yT=function(){function t(e){v(this,t),this.project=e}return m(t,[{key:"call",value:function(t,e){return e.subscribe(new bT(t,this.project))}}]),t}(),bT=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).project=r,i.index=0,i}return m(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=this.innerSubscription;e&&e.unsubscribe();var n=new Y(this),r=this.destination;r.add(n),this.innerSubscription=Z(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||s(p(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&s(p(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t){this.destination.next(t)}}]),n}(X),wT=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();function _T(t){return function(e){return 0===t?vT():e.lift(new kT(t))}}var kT=function(){function t(e){if(v(this,t),this.total=e,this.total<0)throw new wT}return m(t,[{key:"call",value:function(t,e){return e.subscribe(new IT(t,this.total))}}]),t}(),IT=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return m(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(T);function ST(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new ET(t,e,n))}}var ET=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];v(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return m(t,[{key:"call",value:function(t,e){return e.subscribe(new CT(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),CT=function(t){u(n,t);var e=l(n);function n(t,r,i,o){var a;return v(this,n),(a=e.call(this,t)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return m(n,[{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}},{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}}]),n}(T);function TT(t,e){return function(n){return n.lift(new AT(t,e))}}var AT=function(){function t(e,n){v(this,t),this.predicate=e,this.thisArg=n}return m(t,[{key:"call",value:function(t,e){return e.subscribe(new xT(t,this.predicate,this.thisArg))}}]),t}(),xT=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this,t)).predicate=r,o.thisArg=i,o.count=0,o}return m(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(T);function OT(t){return function(e){var n=new NT(t),r=e.lift(n);return n.caught=r}}var NT=function(){function t(e){v(this,t),this.selector=e}return m(t,[{key:"call",value:function(t,e){return e.subscribe(new DT(t,this.selector,this.caught))}}]),t}(),DT=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this,t)).selector=r,o.caught=i,o}return m(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(o){return void s(p(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new Y(this);this.add(r);var i=Z(e,r);i!==r&&this.add(i)}}}]),n}(X);function PT(t,e){return J(t,e,1)}function RT(t){return function(e){return 0===t?vT():e.lift(new MT(t))}}var MT=function(){function t(e){if(v(this,t),this.total=e,this.total<0)throw new wT}return m(t,[{key:"call",value:function(t,e){return e.subscribe(new LT(t,this.total))}}]),t}(),LT=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).total=r,i.ring=new Array,i.count=0,i}return m(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()}}]),n}(T);function FT(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jT;return function(e){return e.lift(new VT(t))}}var VT=function(){function t(e){v(this,t),this.errorFactory=e}return m(t,[{key:"call",value:function(t,e){return e.subscribe(new UT(t,this.errorFactory))}}]),t}(),UT=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).errorFactory=r,i.hasValue=!1,i}return m(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(tT){t=tT}this.destination.error(t)}}]),n}(T);function jT(){return new fT}function qT(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new BT(t))}}var BT=function(){function t(e){v(this,t),this.defaultValue=e}return m(t,[{key:"call",value:function(t,e){return e.subscribe(new HT(t,this.defaultValue))}}]),t}(),HT=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).defaultValue=r,i.isEmpty=!0,i}return m(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(T);function zT(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?TT(function(e,n){return t(e,n,r)}):O,_T(1),n?qT(e):FT(function(){return new fT}))}}function GT(){}function KT(t,e,n){return function(r){return r.lift(new WT(t,e,n))}}var WT=function(){function t(e,n,r){v(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return m(t,[{key:"call",value:function(t,e){return e.subscribe(new QT(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),QT=function(t){u(n,t);var e=l(n);function n(t,r,i,o){var a;return v(this,n),(a=e.call(this,t))._tapNext=GT,a._tapError=GT,a._tapComplete=GT,a._tapError=i||GT,a._tapComplete=o||GT,d(r)?(a._context=f(a),a._tapNext=r):r&&(a._context=r,a._tapNext=r.next||GT,a._tapError=r.error||GT,a._tapComplete=r.complete||GT),a}return m(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(T),YT=function(){function t(e){v(this,t),this.callback=e}return m(t,[{key:"call",value:function(t,e){return e.subscribe(new XT(t,this.callback))}}]),t}(),XT=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).add(new S(r)),i}return n}(T),ZT=function t(e,n){v(this,t),this.id=e,this.url=n},JT=function(t){u(n,t);var e=l(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return v(this,n),(i=e.call(this,t,r)).navigationTrigger=o,i.restoredState=a,i}return m(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(ZT),$T=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this,t,r)).urlAfterRedirects=i,o}return m(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(ZT),tA=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this,t,r)).reason=i,o}return m(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(ZT),eA=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this,t,r)).error=i,o}return m(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(ZT),nA=function(t){u(n,t);var e=l(n);function n(t,r,i,o){var a;return v(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return m(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ZT),rA=function(t){u(n,t);var e=l(n);function n(t,r,i,o){var a;return v(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return m(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ZT),iA=function(t){u(n,t);var e=l(n);function n(t,r,i,o,a){var s;return v(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=a,s}return m(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(ZT),oA=function(t){u(n,t);var e=l(n);function n(t,r,i,o){var a;return v(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return m(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ZT),aA=function(t){u(n,t);var e=l(n);function n(t,r,i,o){var a;return v(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return m(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ZT),sA=function(){function t(e){v(this,t),this.route=e}return m(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),uA=function(){function t(e){v(this,t),this.route=e}return m(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),cA=function(){function t(e){v(this,t),this.snapshot=e}return m(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),lA=function(){function t(e){v(this,t),this.snapshot=e}return m(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),hA=function(){function t(e){v(this,t),this.snapshot=e}return m(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),fA=function(){function t(e){v(this,t),this.snapshot=e}return m(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),dA=function(){function t(e,n,r){v(this,t),this.routerEvent=e,this.position=n,this.anchor=r}return m(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),pA=function(){function t(e){v(this,t),this.params=e||{}}return m(t,[{key:"has",value:function(t){return Object.prototype.hasOwnProperty.call(this.params,t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function vA(t){return new pA(t)}function gA(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function mA(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function yA(t,e){var n,r=t?Object.keys(t):void 0,i=e?Object.keys(e):void 0;if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!bA(t[n=r[o]],e[n]))return!1;return!0}function bA(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;var r=n(t).sort(),i=n(e).sort();return r.every(function(t,e){return i[e]===t})}return t===e}function wA(t){return Array.prototype.concat.apply([],t)}function _A(t){return t.length>0?t[t.length-1]:null}function kA(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function IA(t){return Qo(t)?t:Wo(t)?Q(Promise.resolve(t)):iT(t)}var SA={exact:function t(e,n,r){if(!PA(e.segments,n.segments))return!1;if(!xA(e.segments,n.segments,r))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i],r))return!1}return!0},subset:TA},EA={exact:function(t,e){return yA(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return bA(t[n],e[n])})},ignored:function(){return!0}};function CA(t,e,n){return SA[n.paths](t.root,e.root,n.matrixParams)&&EA[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function TA(t,e,n){return AA(t,e,e.segments,n)}function AA(t,e,n,r){if(t.segments.length>n.length){var i=t.segments.slice(0,n.length);return!!PA(i,n)&&!e.hasChildren()&&!!xA(i,n,r)}if(t.segments.length===n.length){if(!PA(t.segments,n))return!1;if(!xA(t.segments,n,r))return!1;for(var o in e.children){if(!t.children[o])return!1;if(!TA(t.children[o],e.children[o],r))return!1}return!0}var a=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!PA(t.segments,a)&&!!xA(t.segments,a,r)&&!!t.children.primary&&AA(t.children.primary,e,s,r)}function xA(t,e,n){return e.every(function(e,r){return EA[n](t[r].parameters,e.parameters)})}var OA=function(){function t(e,n,r){v(this,t),this.root=e,this.queryParams=n,this.fragment=r}return m(t,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=vA(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return LA.serialize(this)}}]),t}(),NA=function(){function t(e,n){var r=this;v(this,t),this.segments=e,this.children=n,this.parent=null,kA(n,function(t,e){return t.parent=r})}return m(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return FA(this)}}]),t}(),DA=function(){function t(e,n){v(this,t),this.path=e,this.parameters=n}return m(t,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=vA(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return zA(this)}}]),t}();function PA(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}var RA=function t(){v(this,t)},MA=function(){function t(){v(this,t)}return m(t,[{key:"parse",value:function(t){var e=new YA(t);return new OA(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){var e,n,r;return"/".concat(VA(t.root,!0)).concat((n=t.queryParams,r=Object.keys(n).map(function(t){var e=n[t];return Array.isArray(e)?e.map(function(e){return"".concat(jA(t),"=").concat(jA(e))}).join("&"):"".concat(jA(t),"=").concat(jA(e))}),r.length?"?".concat(r.join("&")):"")).concat("string"==typeof t.fragment?"#".concat((e=t.fragment,encodeURI(e))):"")}}]),t}(),LA=new MA;function FA(t){return t.segments.map(function(t){return zA(t)}).join("/")}function VA(t,e){if(!t.hasChildren())return FA(t);if(e){var n=t.children.primary?VA(t.children.primary,!1):"",r=[];return kA(t.children,function(t,e){"primary"!==e&&r.push("".concat(e,":").concat(VA(t,!1)))}),r.length>0?"".concat(n,"(").concat(r.join("//"),")"):n}var i=function(t,e){var n=[];return kA(t.children,function(t,r){"primary"===r&&(n=n.concat(e(t,r)))}),kA(t.children,function(t,r){"primary"!==r&&(n=n.concat(e(t,r)))}),n}(t,function(e,n){return"primary"===n?[VA(t.children.primary,!1)]:["".concat(n,":").concat(VA(e,!1))]});return 1===Object.keys(t.children).length&&null!=t.children.primary?"".concat(FA(t),"/").concat(i[0]):"".concat(FA(t),"/(").concat(i.join("//"),")")}function UA(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jA(t){return UA(t).replace(/%3B/gi,";")}function qA(t){return UA(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function BA(t){return decodeURIComponent(t)}function HA(t){return BA(t.replace(/\+/g,"%20"))}function zA(t){return"".concat(qA(t.path)).concat((e=t.parameters,Object.keys(e).map(function(t){return";".concat(qA(t),"=").concat(qA(e[t]))}).join("")));var e}var GA=/^[^\/()?;=#]+/;function KA(t){var e=t.match(GA);return e?e[0]:""}var WA=/^[^=?&#]+/,QA=/^[^?&#]+/,YA=function(){function t(e){v(this,t),this.url=e,this.remaining=e}return m(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new NA([],{}):new NA([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new NA(t,e)),n}},{key:"parseSegment",value:function(){var t=KA(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new DA(BA(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=KA(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=KA(this.remaining);r&&(n=r,this.capture(n))}t[BA(e)]=BA(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(WA);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(QA);return e?e[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=HA(e),o=HA(n);if(t.hasOwnProperty(i)){var a=t[i];Array.isArray(a)||(a=[a],t[i]=a),a.push(o)}else t[i]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=KA(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");var o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new NA([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),XA=function(){function t(e){v(this,t),this._root=e}return m(t,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=ZA(t,this._root);return e?e.children.map(function(t){return t.value}):[]}},{key:"firstChild",value:function(t){var e=ZA(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=JA(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})}},{key:"pathFromRoot",value:function(t){return JA(t,this._root).map(function(t){return t.value})}}]),t}();function ZA(t,n){if(t===n.value)return n;var r,i=e(n.children);try{for(i.s();!(r=i.n()).done;){var o=ZA(t,r.value);if(o)return o}}catch(a){i.e(a)}finally{i.f()}return null}function JA(t,n){if(t===n.value)return[n];var r,i=e(n.children);try{for(i.s();!(r=i.n()).done;){var o=JA(t,r.value);if(o.length)return o.unshift(n),o}}catch(a){i.e(a)}finally{i.f()}return[]}var $A=function(){function t(e,n){v(this,t),this.value=e,this.children=n}return m(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function tx(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var ex=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).snapshot=r,sx(f(i),t),i}return m(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(XA);function nx(t,e){var n=function(t,e){var n=new ox([],{},{},"",{},"primary",e,null,t.root,-1,{});return new ax("",new $A(n,[]))}(t,e),r=new oT([new DA("",{})]),i=new oT({}),o=new oT({}),a=new oT({}),s=new oT(""),u=new rx(r,i,a,s,o,"primary",e,n.root);return u.snapshot=n.root,new ex(new $A(u,[]),n)}var rx=function(){function t(e,n,r,i,o,a,s,u){v(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return m(t,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(U(function(t){return vA(t)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(U(function(t){return vA(t)}))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),t}();function ix(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(t){return t.reduce(function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}var ox=function(){function t(e,n,r,i,o,a,s,u,c,l,h){v(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}return m(t,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=vA(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=vA(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map(function(t){return t.toString()}).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),t}(),ax=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,r)).url=t,sx(f(i),r),i}return m(n,[{key:"toString",value:function(){return ux(this._root)}}]),n}(XA);function sx(t,e){e.value._routerState=t,e.children.forEach(function(e){return sx(t,e)})}function ux(t){var e=t.children.length>0?" { ".concat(t.children.map(ux).join(", ")," } "):"";return"".concat(t.value).concat(e)}function cx(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,yA(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),yA(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!yA(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),yA(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function lx(t,e){return yA(t.params,e.params)&&function(t,e){return PA(t,e)&&t.every(function(t,n){return yA(t.parameters,e[n].parameters)})}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||lx(t.parent,e.parent))}function hx(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var o=function(t,n,r){return n.children.map(function(n){var i,o=e(r.children);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(t.shouldReuseRoute(n.value,a.value.snapshot))return hx(t,n,a)}}catch(s){o.e(s)}finally{o.f()}return hx(t,n)})}(t,n,r);return new $A(i,o)}if(t.shouldAttach(n.value)){var a=t.retrieve(n.value);if(null!==a){var s=a.route;return fx(n,s),s}}var u,c=new rx(new oT((u=n.value).url),new oT(u.params),new oT(u.queryParams),new oT(u.fragment),new oT(u.data),u.outlet,u.component,u),l=n.children.map(function(e){return hx(t,e)});return new $A(c,l)}function fx(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(var n=0;n<t.children.length;++n)fx(t.children[n],e.children[n])}function dx(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function px(t){return"object"==typeof t&&null!=t&&t.outlets}function vx(t,e,n,r,i){var o={};return r&&kA(r,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return"".concat(t)}):"".concat(t)}),new OA(n.root===t?e:gx(n.root,t,e),o,i)}function gx(t,e,n){var r={};return kA(t.children,function(t,i){r[i]=t===e?n:gx(t,e,n)}),new NA(t.segments,r)}var mx=function(){function t(e,n,r){if(v(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&dx(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find(px);if(i&&i!==_A(r))throw new Error("{outlets:{}} has to be the last command")}return m(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),yx=function t(e,n,r){v(this,t),this.segmentGroup=e,this.processChildren=n,this.index=r};function bx(t,e,n){if(t||(t=new NA([],{})),0===t.segments.length&&t.hasChildren())return wx(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=n[r];if(px(s))break;var u="".concat(s),c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!Sx(u,c,a))return o;r+=2}else{if(!Sx(u,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new NA(t.segments.slice(0,r.pathIndex),{});return o.children.primary=new NA(t.segments.slice(r.pathIndex),t.children),wx(o,0,i)}return r.match&&0===i.length?new NA(t.segments,{}):r.match&&!t.hasChildren()?_x(t,e,n):r.match?wx(t,0,i):_x(t,e,n)}function wx(t,e,n){if(0===n.length)return new NA(t.segments,{});var r=function(t){return px(t[0])?t[0].outlets:{primary:t}}(n),i={};return kA(r,function(n,r){"string"==typeof n&&(n=[n]),null!==n&&(i[r]=bx(t.children[r],e,n))}),kA(t.children,function(t,e){void 0===r[e]&&(i[e]=t)}),new NA(t.segments,i)}function _x(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){var o=n[i];if(px(o)){var a=kx(o.outlets);return new NA(r,a)}if(0===i&&dx(n[0]))r.push(new DA(t.segments[e].path,Ix(n[0]))),i++;else{var s=px(o)?o.outlets.primary:"".concat(o),u=i<n.length-1?n[i+1]:null;s&&u&&dx(u)?(r.push(new DA(s,Ix(u))),i+=2):(r.push(new DA(s,{})),i++)}}return new NA(r,{})}function kx(t){var e={};return kA(t,function(t,n){"string"==typeof t&&(t=[t]),null!==t&&(e[n]=_x(new NA([],{}),0,t))}),e}function Ix(t){var e={};return kA(t,function(t,n){return e[n]="".concat(t)}),e}function Sx(t,e,n){return t==n.path&&yA(e,n.parameters)}var Ex=function(){function t(e,n,r,i){v(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}return m(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),cx(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var r=this,i=tx(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]}),kA(i,function(t,e){r.deactivateRouteAndItsChildren(t,n)})}},{key:"deactivateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){for(var n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=tx(t),o=0,a=Object.keys(i);o<a.length;o++){var s=a[o];this.deactivateRouteAndItsChildren(i[s],r)}n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}},{key:"activateChildRoutes",value:function(t,e,n){var r=this,i=tx(e);t.children.forEach(function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new fA(t.value.snapshot))}),t.children.length&&this.forwardEvent(new lA(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(cx(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),Cx(s.route)}else{var u=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=c,a.outlet&&a.outlet.activateWith(r,c),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function Cx(t){cx(t.value),t.children.forEach(Cx)}var Tx=function t(e,n){v(this,t),this.routes=e,this.module=n};function Ax(t){return"function"==typeof t}function xx(t){return t instanceof OA}var Ox=Symbol("INITIAL_VALUE");function Nx(){return mT(function(t){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i;return V(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&_(e[0])&&(e=e[0]),nt(e,i).lift(new lT(r))}(t.map(function(t){return t.pipe(_T(1),function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return V(r)?(e.pop(),function(t){return dT(e,t,r)}):function(t){return dT(e,t)}}(Ox))})).pipe(ST(function(t,e){var n=!1;return e.reduce(function(t,r,i){if(t!==Ox)return t;if(r===Ox&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||xx(r))return r}return t},t)},Ox),TT(function(t){return t!==Ox}),U(function(t){return xx(t)?t:!0===t}),_T(1))})}var Dx=function(){var t=function t(){v(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=te({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Go(0,"router-outlet")},directives:function(){return[xO]},encapsulation:2}),t}();function Px(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var r=t[n];Rx(r,Mx(e,r))}}function Rx(t,e){t.children&&Px(t.children,e)}function Mx(t,e){return e?t||e.path?t&&!e.path?"".concat(t,"/"):!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function Lx(t){var e=t.children&&t.children.map(Lx),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Dx),n}function Fx(t){return t.outlet||"primary"}function Vx(t,e){var r=t.filter(function(t){return Fx(t)===e});return r.push.apply(r,n(t.filter(function(t){return Fx(t)!==e}))),r}var Ux={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function jx(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Ux):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};var i=(e.matcher||mA)(n,t,e);if(!i)return Object.assign({},Ux);var o={};kA(i.posParams,function(t,e){o[e]=t.path});var a=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:a,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function qx(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"corrected";if(r.length>0&&function(t,e,n){return n.some(function(n){return Bx(t,e,n)&&"primary"!==Fx(n)})}(t,r,i)){var a=new NA(n,function(t,n,r,i){var o={};o.primary=i,i._sourceSegment=t,i._segmentIndexShift=n.length;var a,s=e(r);try{for(s.s();!(a=s.n()).done;){var u=a.value;if(""===u.path&&"primary"!==Fx(u)){var c=new NA([],{});c._sourceSegment=t,c._segmentIndexShift=n.length,o[Fx(u)]=c}}}catch(l){s.e(l)}finally{s.f()}return o}(t,n,i,new NA(r,t.children)));return a._sourceSegment=t,a._segmentIndexShift=n.length,{segmentGroup:a,slicedSegments:[]}}if(0===r.length&&function(t,e,n){return n.some(function(n){return Bx(t,e,n)})}(t,r,i)){var s=new NA(t.segments,function(t,n,r,i,o,a){var s,u={},c=e(i);try{for(c.s();!(s=c.n()).done;){var l=s.value;if(Bx(t,r,l)&&!o[Fx(l)]){var h=new NA([],{});h._sourceSegment=t,h._segmentIndexShift="legacy"===a?t.segments.length:n.length,u[Fx(l)]=h}}}catch(f){c.e(f)}finally{c.f()}return Object.assign(Object.assign({},o),u)}(t,n,r,i,t.children,o));return s._sourceSegment=t,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:r}}var u=new NA(t.segments,t.children);return u._sourceSegment=t,u._segmentIndexShift=n.length,{segmentGroup:u,slicedSegments:r}}function Bx(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Hx(t,e,n,r){return!!(Fx(t)===r||"primary"!==r&&Bx(e,n,t))&&("**"===t.path||jx(e,t,n).matched)}function zx(t,e,n){return 0===e.length&&!t.children[n]}var Gx=function t(e){v(this,t),this.segmentGroup=e||null},Kx=function t(e){v(this,t),this.urlTree=e};function Wx(t){return new N(function(e){return e.error(new Gx(t))})}function Qx(t){return new N(function(e){return e.error(new Kx(t))})}function Yx(t){return new N(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))})}var Xx=function(){function t(e,n,r,i,o){v(this,t),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(Is)}return m(t,[{key:"apply",value:function(){var t=this,e=qx(this.urlTree.root,[],[],this.config).segmentGroup,n=new NA(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,"primary").pipe(U(function(e){return t.createUrlTree(Zx(e),t.urlTree.queryParams,t.urlTree.fragment)})).pipe(OT(function(e){if(e instanceof Kx)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof Gx)throw t.noMatchError(e);throw e}))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(U(function(n){return e.createUrlTree(Zx(n),t.queryParams,t.fragment)})).pipe(OT(function(t){if(t instanceof Gx)throw e.noMatchError(t);throw t}))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var r=t.segments.length>0?new NA([],{primary:t}):t;return new OA(r,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(U(function(t){return new NA([],t)})):this.expandSegment(t,n,e,n.segments,r,!0)}},{key:"expandChildren",value:function(t,e,n){for(var r=this,i=[],o=0,a=Object.keys(n.children);o<a.length;o++){var s=a[o];"primary"===s?i.unshift(s):i.push(s)}return Q(i).pipe(PT(function(i){var o=n.children[i],a=Vx(e,i);return r.expandSegmentGroup(t,a,o,i).pipe(U(function(t){return{segment:t,outlet:i}}))}),ST(function(t,e){return t[e.outlet]=e.segment,t},{}),function(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?TT(function(e,n){return t(e,n,r)}):O,RT(1),n?qT(e):FT(function(){return new fT}))}}())}},{key:"expandSegment",value:function(t,e,n,r,i,o){var a=this;return Q(n).pipe(PT(function(s){return a.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(OT(function(t){if(t instanceof Gx)return iT(null);throw t}))}),zT(function(t){return!!t}),OT(function(t,n){if(t instanceof fT||"EmptyError"===t.name){if(zx(e,r,i))return iT(new NA([],{}));throw new Gx(e)}throw t}))}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,r,i,o,a){return Hx(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Wx(e):Wx(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Qx(o):this.lineralizeSegments(n,o).pipe(J(function(n){var o=new NA(n,{});return i.expandSegment(t,o,e,n,r,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){var a=this,s=jx(e,r,i),u=s.matched,c=s.consumedSegments,l=s.lastChild,h=s.positionalParamSegments;if(!u)return Wx(e);var f=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?Qx(f):this.lineralizeSegments(r,f).pipe(J(function(r){return a.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,r,i){var o=this;if("**"===n.path)return n.loadChildren?(n._loadedConfig?iT(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(U(function(t){return n._loadedConfig=t,new NA(r,{})})):iT(new NA(r,{}));var a=jx(e,n,r),s=a.matched,u=a.consumedSegments,c=a.lastChild;if(!s)return Wx(e);var l=r.slice(c);return this.getChildConfig(t,n,r).pipe(J(function(t){var r=t.module,a=t.routes,s=qx(e,u,l,a),c=s.segmentGroup,h=s.slicedSegments,f=new NA(c.segments,c.children);if(0===h.length&&f.hasChildren())return o.expandChildren(r,a,f).pipe(U(function(t){return new NA(u,t)}));if(0===a.length&&0===h.length)return iT(new NA(u,{}));var d=Fx(n)===i;return o.expandSegment(r,f,a,h,d?"primary":i,!0).pipe(U(function(t){return new NA(u.concat(t.segments),t.children)}))}))}},{key:"getChildConfig",value:function(t,e,n){var r=this;return e.children?iT(new Tx(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?iT(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(J(function(n){return n?r.configLoader.load(t.injector,e).pipe(U(function(t){return e._loadedConfig=t,t})):function(t){return new N(function(e){return e.error(gA("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))})}(e)})):iT(new Tx([],t))}},{key:"runCanLoadGuards",value:function(t,e,n){var r=this,i=e.canLoad;return i&&0!==i.length?iT(i.map(function(r){var i,o=t.get(r);if(function(t){return t&&Ax(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!Ax(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return IA(i)})).pipe(Nx(),KT(function(t){if(xx(t)){var e=gA('Redirecting to "'.concat(r.urlSerializer.serialize(t),'"'));throw e.url=t,e}}),U(function(t){return!0===t})):iT(!0)}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return iT(n);if(r.numberOfChildren>1||!r.children.primary)return Yx(t.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new OA(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return kA(t,function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}},{key:"createSegmentGroup",value:function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return kA(e.children,function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)}),new NA(o,a)}},{key:"createSegments",value:function(t,e,n,r){var i=this;return e.map(function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)})}},{key:"findPosParam",value:function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return r}},{key:"findOrReturn",value:function(t,n){var r,i=0,o=e(n);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(a.path===t.path)return n.splice(i),a;i++}}catch(s){o.e(s)}finally{o.f()}return t}}]),t}();function Zx(t){for(var e={},n=0,r=Object.keys(t.children);n<r.length;n++){var i=r[n],o=Zx(t.children[i]);(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new NA(t.segments.concat(e.segments),e.children)}return t}(new NA(t.segments,e))}var Jx=function t(e){v(this,t),this.path=e,this.route=this.path[this.path.length-1]},$x=function t(e,n){v(this,t),this.component=e,this.route=n};function tO(t,e,n){var r=t._root;return nO(r,e?e._root:null,n,[r.value])}function eO(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function nO(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=tx(e);return t.children.forEach(function(t){!function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=t.value,a=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){var u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!PA(t.url,e.url);case"pathParamsOrQueryParamsChange":return!PA(t.url,e.url)||!yA(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lx(t,e)||!yA(t.queryParams,e.queryParams);case"paramsChange":default:return!lx(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Jx(r)):(o.data=a.data,o._resolvedData=a._resolvedData),nO(t,e,o.component?s?s.children:null:n,r,i),u&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new $x(s.outlet.component,a))}else a&&rO(e,s,i),i.canActivateChecks.push(new Jx(r)),nO(t,null,o.component?s?s.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),kA(o,function(t,e){return rO(t,n.getContext(e),i)}),i}function rO(t,e,n){var r=tx(t),i=t.value;kA(r,function(t,r){rO(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new $x(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var iO=function t(){v(this,t)};function oO(t){return new N(function(e){return e.error(t)})}var aO=function(){function t(e,n,r,i,o,a){v(this,t),this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return m(t,[{key:"recognize",value:function(){var t=qx(this.urlTree.root,[],[],this.config.filter(function(t){return void 0===t.redirectTo}),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary");if(null===e)return null;var n=new ox([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new $A(n,e),i=new ax(this.url,r);return this.inheritParamsAndData(i._root),i}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,r=ix(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){for(var r=[],i=0,o=Object.keys(e.children);i<o.length;i++){var a=o[i],s=e.children[a],u=Vx(t,a),c=this.processSegmentGroup(u,s,a);if(null===c)return null;r.push.apply(r,n(c))}var l=sO(r);return l.sort(function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)}),l}},{key:"processSegment",value:function(t,n,r,i){var o,a=e(t);try{for(a.s();!(o=a.n()).done;){var s=o.value,u=this.processSegmentAgainstRoute(s,n,r,i);if(null!==u)return u}}catch(c){a.e(c)}finally{a.f()}return zx(n,r,i)?[]:null}},{key:"processSegmentAgainstRoute",value:function(t,e,n,r){if(t.redirectTo||!Hx(t,e,n,r))return null;var i,o=[],a=[];if("**"===t.path){var s=n.length>0?_A(n).parameters:{};i=new ox(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,lO(t),Fx(t),t.component,t,uO(e),cO(e)+n.length,hO(t))}else{var u=jx(e,t,n);if(!u.matched)return null;o=u.consumedSegments,a=n.slice(u.lastChild),i=new ox(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,lO(t),Fx(t),t.component,t,uO(e),cO(e)+o.length,hO(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),l=qx(e,o,a,c.filter(function(t){return void 0===t.redirectTo}),this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(c,h);return null===d?null:[new $A(i,d)]}if(0===c.length&&0===f.length)return[new $A(i,[])];var p=Fx(t)===r,v=this.processSegment(c,h,f,p?"primary":r);return null===v?null:[new $A(i,v)]}}]),t}();function sO(t){var r,i=[],o=new Set,a=e(t);try{var s=function(){var t,e=r.value;if(!function(t){var e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}(e))return i.push(e),"continue";var a=i.find(function(t){return e.value.routeConfig===t.value.routeConfig});void 0!==a?((t=a.children).push.apply(t,n(e.children)),o.add(a)):i.push(e)};for(a.s();!(r=a.n()).done;)s()}catch(f){a.e(f)}finally{a.f()}var u,c=e(o);try{for(c.s();!(u=c.n()).done;){var l=u.value,h=sO(l.children);i.push(new $A(l.value,h))}}catch(f){c.e(f)}finally{c.f()}return i.filter(function(t){return!o.has(t)})}function uO(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function cO(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function lO(t){return t.data||{}}function hO(t){return t.resolve||{}}function fO(t){return mT(function(e){var n=t(e);return n?Q(n).pipe(U(function(){return e})):iT(e)})}var dO=function(t){u(n,t);var e=l(n);function n(){return v(this,n),e.apply(this,arguments)}return n}(function(){function t(){v(this,t)}return m(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}()),pO=new Qn("ROUTES"),vO=function(){function t(e,n,r,i){v(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return m(t,[{key:"load",value:function(t,e){var n=this;if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);var r=this.loadModuleFactory(e.loadChildren).pipe(U(function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new Tx(wA(i.injector.get(pO,void 0,Pt.Self|Pt.Optional)).map(Lx),i)}),OT(function(t){throw e._loader$=void 0,t}));return e._loader$=new st(r,function(){return new L}).pipe(rt()),e._loader$}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?Q(this.loader.load(t)):IA(t()).pipe(J(function(t){return t instanceof Ss?iT(t):Q(e.compiler.compileModuleAsync(t))}))}}]),t}(),gO=function t(){v(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new mO,this.attachRef=null},mO=function(){function t(){v(this,t),this.contexts=new Map}return m(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new gO,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),yO=function(){function t(){v(this,t)}return m(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function bO(t){throw t}function wO(t,e,n){return e.parse("/")}function _O(t,e){return iT(null)}var kO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},IO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},SO=function(){var t=function(){function t(e,n,r,i,o,a,s,u){var c=this;v(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new L,this.errorHandler=bO,this.malformedUriErrorHandler=wO,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:_O,afterPreactivation:_O},this.urlHandlingStrategy=new yO,this.routeReuseStrategy=new dO,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(Is),this.console=o.get(du);var l=o.get(Cu);this.isNgZoneEnabled=l instanceof Cu&&Cu.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new OA(new NA([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new vO(a,s,function(t){return c.triggerEvent(new sA(t))},function(t){return c.triggerEvent(new uA(t))}),this.routerState=nx(this.currentUrlTree,this.rootComponentType),this.transitions=new oT({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return m(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(TT(function(t){return 0!==t.id}),U(function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})}),mT(function(t){var r,i,o,a,s=!1,u=!1;return iT(t).pipe(KT(function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}}),mT(function(t){var r=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||r)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return iT(t).pipe(mT(function(t){var r=e.transitions.getValue();return n.next(new JT(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?pT:Promise.resolve(t)}),function(t,e,n,r){return mT(function(i){return function(t,e,n,r,i){return new Xx(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(U(function(t){return Object.assign(Object.assign({},i),{urlAfterRedirects:t})}))})}(e.ngModule.injector,e.configLoader,e.urlSerializer,e.config),KT(function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,n,r,i,o){return J(function(r){return function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";try{var a=new aO(t,e,n,r,i,o).recognize();return null===a?oO(new iO):iT(a)}catch(tT){return oO(tT)}}(t,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,e.serializeUrl(a)),i,o).pipe(U(function(t){return Object.assign(Object.assign({},r),{targetSnapshot:t})}));var a})}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),KT(function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects);var r=new nA(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)}));if(r&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var i=t.id,o=t.extractedUrl,a=t.source,s=t.restoredState,u=t.extras,c=new JT(i,e.serializeUrl(o),a,s);n.next(c);var l=nx(o,e.rootComponentType).snapshot;return iT(Object.assign(Object.assign({},t),{targetSnapshot:l,urlAfterRedirects:o,extras:Object.assign(Object.assign({},u),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),pT}),fO(function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})}),KT(function(t){var n=new rA(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),U(function(t){return Object.assign(Object.assign({},t),{guards:tO(t.targetSnapshot,t.currentSnapshot,e.rootContexts)})}),function(t,e){return J(function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?iT(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Q(t).pipe(J(function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?iT(o.map(function(o){var a,s=eO(o,e,i);if(function(t){return t&&Ax(t.canDeactivate)}(s))a=IA(s.canDeactivate(t,e,n,r));else{if(!Ax(s))throw new Error("Invalid CanDeactivate guard");a=IA(s(t,e,n,r))}return a.pipe(zT())})).pipe(Nx()):iT(!0)}(t.component,t.route,n,e,r)}),zT(function(t){return!0!==t},!0))}(s,r,i,t).pipe(J(function(n){return n&&function(t){return"boolean"==typeof t}(n)?function(t,e,n,r){return Q(e).pipe(PT(function(e){return dT(function(t,e){return null!==t&&e&&e(new cA(t)),iT(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new hA(t)),iT(!0)}(e.route,r),function(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)}).filter(function(t){return null!==t}).map(function(e){return gT(function(){return iT(e.guards.map(function(i){var o,a=eO(i,e.node,n);if(function(t){return t&&Ax(t.canActivateChild)}(a))o=IA(a.canActivateChild(r,t));else{if(!Ax(a))throw new Error("Invalid CanActivateChild guard");o=IA(a(r,t))}return o.pipe(zT())})).pipe(Nx())})});return iT(i).pipe(Nx())}(t,e.path,n),function(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?iT(r.map(function(r){return gT(function(){var i,o=eO(r,e,n);if(function(t){return t&&Ax(t.canActivate)}(o))i=IA(o.canActivate(e,t));else{if(!Ax(o))throw new Error("Invalid CanActivate guard");i=IA(o(e,t))}return i.pipe(zT())})})).pipe(Nx()):iT(!0)}(t,e.route,n))}),zT(function(t){return!0!==t},!0))}(r,a,t,e):iT(n)}),U(function(t){return Object.assign(Object.assign({},n),{guardsResult:t})}))})}(e.ngModule.injector,function(t){return e.triggerEvent(t)}),KT(function(t){if(xx(t.guardsResult)){var n=gA('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}var r=new iA(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(r)}),TT(function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new tA(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0}),fO(function(t){if(t.guards.canActivateChecks.length)return iT(t).pipe(KT(function(t){var n=new oA(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),mT(function(t){var r,i,o=!1;return iT(t).pipe((r=e.paramsInheritanceStrategy,i=e.ngModule.injector,J(function(t){var e=t.targetSnapshot,n=t.guards.canActivateChecks;if(!n.length)return iT(t);var o=0;return Q(n).pipe(PT(function(t){return function(t,e,n,r){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return iT({});var o={};return Q(i).pipe(J(function(i){return function(t,e,n,r){var i=eO(t,e,r);return IA(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(KT(function(t){o[i]=t}))}),RT(1),J(function(){return Object.keys(o).length===i.length?iT(o):pT}))}(t._resolve,t,e,r).pipe(U(function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),ix(t,n).resolve),null}))}(t.route,e,r,i)}),KT(function(){return o++}),RT(1),J(function(e){return o===n.length?iT(t):pT}))})),KT({next:function(){return o=!0},complete:function(){if(!o){var r=new tA(t.id,e.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");n.next(r),t.resolve(!1)}}}))}),KT(function(t){var n=new aA(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}))}),fO(function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})}),U(function(t){var n=function(t,e,n){var r=hx(t,e._root,n?n._root:void 0);return new ex(r,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:n})}),KT(function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)}),(i=e.rootContexts,o=e.routeReuseStrategy,a=function(t){return e.triggerEvent(t)},U(function(t){return new Ex(o,t.targetRouterState,t.currentRouterState,a).activate(i),t})),KT({next:function(){s=!0},complete:function(){s=!0}}),(r=function(){if(!s&&!u){e.resetUrlToCurrentUrlTree();var r=new tA(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(r),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new YT(r))}),OT(function(r){if(u=!0,(s=r)&&s.ngNavigationCancelingError){var i=xx(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new tA(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),i?setTimeout(function(){var n=e.urlHandlingStrategy.merge(r.url,e.rawUrlTree);e.scheduleNavigation(n,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new eA(t.id,e.serializeUrl(t.extractedUrl),r);n.next(a);try{t.resolve(e.errorHandler(r))}catch(Ty){t.reject(Ty)}}var s;return pT}))}))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.extractLocationChangeInfoFromEvent(e);t.shouldScheduleNavigation(t.lastLocationChangeInfo,n)&&setTimeout(function(){var e=n.source,r=n.state,i=n.urlTree,o={replaceUrl:!0};if(r){var a=Object.assign({},r);delete a.navigationId,0!==Object.keys(a).length&&(o.state=a)}t.scheduleNavigation(i,e,r,o)},0),t.lastLocationChangeInfo=n}))}},{key:"extractLocationChangeInfoFromEvent",value:function(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(t,e){if(!t)return!0;var n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){Px(t),this.config=t.map(Lx),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.relativeTo,i=e.queryParams,o=e.fragment,a=e.queryParamsHandling,s=e.preserveFragment,u=r||this.routerState.root,c=s?this.currentUrlTree.fragment:o,l=null;switch(a){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=i||null}return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,r,i,o){if(0===r.length)return vx(e.root,e.root,e,i,o);var a=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new mx(!0,0,t);var e=0,r=!1,i=t.reduce(function(t,i,o){if("object"==typeof i&&null!=i){if(i.outlets){var a={};return kA(i.outlets,function(t,e){a[e]="string"==typeof t?t.split("/"):t}),[].concat(n(t),[{outlets:a}])}if(i.segmentPath)return[].concat(n(t),[i.segmentPath])}return"string"!=typeof i?[].concat(n(t),[i]):0===o?(i.split("/").forEach(function(n,i){0==i&&"."===n||(0==i&&""===n?r=!0:".."===n?e++:""!=n&&t.push(n))}),t):[].concat(n(t),[i])},[]);return new mx(r,e,i)}(r);if(a.toRoot())return vx(e.root,new NA([],{}),e,i,o);var s=function(t,e,n){if(t.isAbsolute)return new yx(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){var r=n.snapshot._urlSegment;return new yx(r,r===e.root,0)}var i=dx(t.commands[0])?0:1;return function(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new yx(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(a,e,t),u=s.processChildren?wx(s.segmentGroup,s.index,a.commands):bx(s.segmentGroup,s.index,a.commands);return vx(s.segmentGroup,u,e,i,o)}(u,this.currentUrlTree,t,l,null!=c?c:null)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},n=xx(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(tT){e=this.malformedUriErrorHandler(tT,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){var n;if(n=!0===e?Object.assign({},kO):!1===e?Object.assign({},IO):e,xx(t))return CA(this.currentUrlTree,t,n);var r=this.parseUrl(t);return CA(this.currentUrlTree,r,n)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!=r&&(e[n]=r),e},{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe(function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new $T(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,e.resolve(!0)},function(e){t.console.warn("Unhandled Navigation Error: ")})}},{key:"scheduleNavigation",value:function(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);var o,a,s,u=this.getTransition(),c="imperative"!==e&&"imperative"===(null==u?void 0:u.source),l=(this.lastSuccessfulId===u.id||this.currentNavigation?u.rawUrl:u.urlAfterRedirects).toString()===t.toString();if(c&&l)return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,s=i.promise):s=new Promise(function(t,e){o=t,a=e});var h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(function(t){return Promise.reject(t)})}},{key:"setBrowserUrl",value:function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(lr(Xn),lr(RA),lr(mO),lr(bc),lr(Io),lr(Qu),lr(Iu),lr(void 0))},t.\u0275prov=It({token:t,factory:t.\u0275fac}),t}(),EO=function(){var t=function(){function t(e,n,r,i,o){v(this,t),this.router=e,this.route=n,this.commands=[],this.onChanges=new L,null==r&&i.setAttribute(o.nativeElement,"tabindex","0")}return m(t,[{key:"ngOnChanges",value:function(t){this.onChanges.next(this)}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"onClick",value:function(){var t={skipLocationChange:TO(this.skipLocationChange),replaceUrl:TO(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:TO(this.preserveFragment)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(jo(SO),jo(rx),Kn("tabindex"),jo(Wa),jo(za))},t.\u0275dir=ae({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&Yo("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[ye]}),t}(),CO=function(){var t=function(){function t(e,n,r){var i=this;v(this,t),this.router=e,this.route=n,this.locationStrategy=r,this.commands=[],this.onChanges=new L,this.subscription=e.events.subscribe(function(t){t instanceof $T&&i.updateTargetUrlAndHref()})}return m(t,[{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"ngOnChanges",value:function(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var o={skipLocationChange:TO(this.skipLocationChange),replaceUrl:TO(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:TO(this.preserveFragment)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(jo(SO),jo(rx),jo(pc))},t.\u0275dir=ae({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&Yo("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(ka("href",e.href,_r),Fo("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[ye]}),t}();function TO(t){return""===t||!!t}var AO=function(){var t=function(){function t(e,n,r,i,o,a){var s=this;v(this,t),this.router=e,this.element=n,this.renderer=r,this.cdr=i,this.link=o,this.linkWithHref=a,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=e.events.subscribe(function(t){t instanceof $T&&s.update()})}return m(t,[{key:"ngAfterContentInit",value:function(){var t=this;iT(this.links.changes,this.linksWithHrefs.changes,iT(null)).pipe(et()).subscribe(function(e){t.update(),t.subscribeToEachLinkOnChanges()})}},{key:"subscribeToEachLinkOnChanges",value:function(){var t,e=this;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();var r=[].concat(n(this.links.toArray()),n(this.linksWithHrefs.toArray()),[this.link,this.linkWithHref]).filter(function(t){return!!t}).map(function(t){return t.onChanges});this.linkInputChangesSubscription=Q(r).pipe(et()).subscribe(function(t){e.isActive!==e.isLinkActive(e.router)(t)&&e.update()})}},{key:"routerLinkActive",set:function(t){var e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(function(t){return!!t})}},{key:"ngOnChanges",value:function(t){this.update()}},{key:"ngOnDestroy",value:function(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}},{key:"update",value:function(){var t=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(function(){var e=t.hasActiveLinks();t.isActive!==e&&(t.isActive=e,t.cdr.markForCheck(),t.classes.forEach(function(n){e?t.renderer.addClass(t.element.nativeElement,n):t.renderer.removeClass(t.element.nativeElement,n)}))})}},{key:"isLinkActive",value:function(t){var e="paths"in this.routerLinkActiveOptions?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return function(n){return t.isActive(n.urlTree,e)}}},{key:"hasActiveLinks",value:function(){var t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(jo(SO),jo(za),jo(Wa),jo(vs),jo(EO,8),jo(CO,8))},t.\u0275dir=ae({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var r;(1&t&&(nu(n,EO,5),nu(n,CO,5)),2&t)&&(eu(r=ru())&&(e.links=r),eu(r=ru())&&(e.linksWithHrefs=r))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[ye]}),t}(),xO=function(){var t=function(){function t(e,n,r,i,o){v(this,t),this.parentContexts=e,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Hs,this.deactivateEvents=new Hs,this.name=i||"primary",e.onChildOutletCreated(this.name,this)}return m(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new OO(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(jo(mO),jo(Cs),jo(ja),Kn("name"),jo(vs))},t.\u0275dir=ae({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t}(),OO=function(){function t(e,n,r){v(this,t),this.route=e,this.childContexts=n,this.parent=r}return m(t,[{key:"get",value:function(t,e){return t===rx?this.route:t===mO?this.childContexts:this.parent.get(t,e)}}]),t}(),NO=function t(){v(this,t)},DO=function(){function t(){v(this,t)}return m(t,[{key:"preload",value:function(t,e){return iT(null)}}]),t}(),PO=function(){var t=function(){function t(e,n,r,i,o){v(this,t),this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new vO(n,r,function(t){return e.triggerEvent(new sA(t))},function(t){return e.triggerEvent(new uA(t))})}return m(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(TT(function(t){return t instanceof $T}),PT(function(){return t.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var t=this.injector.get(Is);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,n){var r,i=[],o=e(n);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(a.loadChildren&&!a.canLoad&&a._loadedConfig){var s=a._loadedConfig;i.push(this.processRoutes(s.module,s.routes))}else a.loadChildren&&!a.canLoad?i.push(this.preloadConfig(t,a)):a.children&&i.push(this.processRoutes(t,a.children))}}catch(u){o.e(u)}finally{o.f()}return Q(i).pipe(et(),U(function(t){}))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){return(e._loadedConfig?iT(e._loadedConfig):n.loader.load(t.injector,e)).pipe(J(function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)}))})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(lr(SO),lr(Qu),lr(Iu),lr(Io),lr(NO))},t.\u0275prov=It({token:t,factory:t.\u0275fac}),t}(),RO=function(){var t=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};v(this,t),this.router=e,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return m(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof JT?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof $T&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof dA&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new dA(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(lr(SO),lr(ll),lr(void 0))},t.\u0275prov=It({token:t,factory:t.\u0275fac}),t}(),MO=new Qn("ROUTER_CONFIGURATION"),LO=new Qn("ROUTER_FORROOT_GUARD"),FO=[bc,{provide:RA,useClass:MA},{provide:SO,useFactory:function(t,e,n,r,i,o,a){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,l=new SO(null,t,e,n,r,i,o,wA(a));return u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(s,l),s.enableTracing&&l.events.subscribe(function(t){var e,n;null===(e=console.group)||void 0===e||e.call(console,"Router Event: ".concat(t.constructor.name)),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),l},deps:[RA,mO,bc,Io,Qu,Iu,pO,MO,[function(){return function t(){v(this,t)}}(),new pr],[function(){return function t(){v(this,t)}}(),new pr]]},mO,{provide:rx,useFactory:function(t){return t.routerState.root},deps:[SO]},{provide:Qu,useClass:Zu},PO,DO,function(){function t(){v(this,t)}return m(t,[{key:"preload",value:function(t,e){return e().pipe(OT(function(){return iT(null)}))}}]),t}(),{provide:MO,useValue:{enableTracing:!1}}];function VO(){return new ju("Router",SO)}var UO=function(){var t=function(){function t(e,n){v(this,t)}return m(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[FO,HO(e),{provide:LO,useFactory:BO,deps:[[SO,new pr,new vr]]},{provide:MO,useValue:n||{}},{provide:pc,useFactory:qO,deps:[oc,[new dr(gc),new pr],MO]},{provide:RO,useFactory:jO,deps:[SO,ll,MO]},{provide:NO,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:DO},{provide:ju,multi:!0,useFactory:VO},[zO,{provide:ou,multi:!0,useFactory:GO,deps:[zO]},{provide:WO,useFactory:KO,deps:[zO]},{provide:fu,multi:!0,useExisting:WO}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[HO(e)]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(lr(LO,8),lr(SO,8))},t.\u0275mod=ie({type:t}),t.\u0275inj=St({}),t}();function jO(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new RO(t,e,n)}function qO(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new yc(t,e):new mc(t,e)}function BO(t){return"guarded"}function HO(t){return[{provide:Yn,multi:!0,useValue:t},{provide:pO,multi:!0,useValue:t}]}var zO=function(){var t=function(){function t(e){v(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new L}return m(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(sc,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(SO),i=t.injector.get(MO);return"disabled"===i.initialNavigation?(r.setUpLocationChangeListener(),e(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(r.hooks.afterPreactivation=function(){return t.initNavigation?iT(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()):e(!0),n})}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(MO),n=this.injector.get(PO),r=this.injector.get(RO),i=this.injector.get(SO),o=this.injector.get(Ku);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}]),t}();return t.\u0275fac=function(e){return new(e||t)(lr(Io))},t.\u0275prov=It({token:t,factory:t.\u0275fac}),t}();function GO(t){return t.appInitializer.bind(t)}function KO(t){return t.bootstrapListener.bind(t)}var WO=new Qn("Router Initializer"),QO=function(){var t=function(){function t(){v(this,t)}return m(t,[{key:"signup",value:function(t,e,n,r){return new Promise(function(i,o){Wf.auth().createUserWithEmailAndPassword(t,e).then(function(t){t.user.updateProfile({displayName:n+" "+r,photoURL:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSgziHQ3ubr4WDBvytWcg7e4_abFkjHTXahdQ&usqp=CAU"}).then(function(){i(t.user)}).catch(function(t){o(t)})}).catch(function(t){o(t)})})}},{key:"login",value:function(t,e){return Wf.auth().signInWithEmailAndPassword(t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function YO(t,e){1&t&&(Ho(0,"div",15),ya(1," A valid Email is required. "),zo())}function XO(t,e){1&t&&(Ho(0,"div",15),ya(1," Password is required. "),zo())}function ZO(t,e){1&t&&(Ho(0,"div",16),ya(1," You have been logged in successfully. "),zo())}function JO(t,e){if(1&t&&(Ho(0,"div",15),ya(1),zo()),2&t){var n=Jo();fi(1),wa(" ",n.userError.message," ")}}var $O=function(){var t=function(){function t(e,n,r){v(this,t),this.fb=e,this.authService=n,this.router=r,this.message="",this.myForm=this.fb.group({email:["",[eh.email,eh.required]],password:["",[eh.required]]})}return m(t,[{key:"ngOnInit",value:function(){}},{key:"onSubmit",value:function(t){var e=this;this.authService.login(t.value.email,t.value.password).then(function(t){e.message="You have been logged in successfully.",e.router.navigate(["/class"])}).catch(function(t){console.log(t),e.userError=t})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(jo(Jh),jo(QO),jo(SO))},t.\u0275cmp=te({type:t,selectors:[["app-login"]],decls:21,vars:8,consts:[[1,"container-fluid"],[1,"row","mt-5"],[1,"offset-md-3","col-md-6"],[1,"card","text-blank"],[1,"card-body"],[1,"card-title","text-center"],[1,"card-text"],[3,"formGroup","ngSubmit"],[1,"form-group"],["type","email","placeholder","Enter email","name","email",1,"form-control","form_input",3,"formControl"],["class","alert alert-danger",4,"ngIf"],["type","password","placeholder","Enter password","name","password",1,"form-control","form_input",3,"formControl"],[1,"text-center"],["type","submit",1,"btn","btn-block","btn-primary","submit_btn","round",3,"disabled"],["class","alert alert-success",4,"ngIf"],[1,"alert","alert-danger"],[1,"alert","alert-success"]],template:function(t,e){1&t&&(Ho(0,"div",0),Ho(1,"div",1),Ho(2,"div",2),Ho(3,"div",3),Ho(4,"div",4),Ho(5,"div",5),Ho(6,"h4"),ya(7,"Login Using Your Email"),zo(),zo(),Ho(8,"div",6),Ho(9,"form",7),Yo("ngSubmit",function(){return e.onSubmit(e.myForm)}),Ho(10,"div",8),Go(11,"input",9),zo(),Uo(12,YO,2,0,"div",10),Ho(13,"div",8),Go(14,"input",11),zo(),Uo(15,XO,2,0,"div",10),Ho(16,"div",12),Ho(17,"button",13),ya(18," Submit "),zo(),zo(),zo(),zo(),zo(),zo(),Uo(19,ZO,2,0,"div",14),Uo(20,JO,2,1,"div",10),zo(),zo(),zo()),2&t&&(fi(9),qo("formGroup",e.myForm),fi(2),qo("formControl",e.myForm.controls.email),fi(1),qo("ngIf",!e.myForm.controls.email.valid&&e.myForm.controls.email.touched),fi(2),qo("formControl",e.myForm.controls.password),fi(1),qo("ngIf",!e.myForm.controls.password.valid&&e.myForm.controls.password.touched),fi(2),qo("disabled",!e.myForm.valid),fi(2),qo("ngIf",e.message.length>0),fi(1),qo("ngIf",e.userError))},directives:[Bh,wh,Qh,Yl,bh,Kh,ol],styles:[".card-title[_ngcontent-%COMP%]{margin-bottom:40px}.form_input[_ngcontent-%COMP%]{padding:25px;font-size:18px;margin-bottom:30px}.form_input[_ngcontent-%COMP%]:focus{color:#000;background-color:#f8f8f8}.submit_btn[_ngcontent-%COMP%]{padding:15px;font-size:25px}div[_ngcontent-%COMP%]{font-family:poppins,sans-serif}@media only screen and (max-width:768px){.form_input[_ngcontent-%COMP%]{padding:10px;font-size:14px;margin-bottom:10px}.submit_btn[_ngcontent-%COMP%]{padding:10px;font-size:18px}}"]}),t}();function tN(t,e){1&t&&(Ho(0,"div",20),ya(1," First and Last name are required "),zo())}function eN(t,e){1&t&&(Ho(0,"div",20),ya(1," A valid email is required "),zo())}function nN(t,e){1&t&&(Ho(0,"div",20),ya(1," Password should be atleast 8 characters long. "),zo())}function rN(t,e){if(1&t&&(Ho(0,"div",21),ya(1),zo()),2&t){var n=Jo();fi(1),wa(" ",n.message," ")}}function iN(t,e){if(1&t&&(Ho(0,"div",20),ya(1),zo()),2&t){var n=Jo();fi(1),wa(" ",n.userError.message," ")}}var oN=function(){var t=function(){function t(e,n){v(this,t),this.fb=e,this.authService=n,this.message="",this.myForm=this.fb.group({firstName:["",[eh.required]],lastName:["",[eh.required]],email:["",[eh.required]],password:["",[eh.required,eh.minLength(8)]],confirmPassword:["",[eh.required]]},{validator:this.checkIfMatchingPasswords("password","confirmPassword")})}return m(t,[{key:"checkIfMatchingPasswords",value:function(t,e){return function(n){var r=n.controls[e];n.controls[t].value!=r.value&&r.setErrors({notEqualToPassword:!0})}}},{key:"onSubmit",value:function(t){var e=this;Wf.auth(),this.authService.signup(t.value.email,t.value.password,t.value.firstName,t.value.lastName).then(function(n){Wf.firestore().collection("users").doc(n.uid).set({firstName:t.value.firstName,lastName:t.value.lastName,email:t.value.email,photoURL:n.photoURL,password:t.value.password}).then(function(){e.message="You have been signed up successfully. Please login.Please Verify Your E-mail",n.sendEmailVerification().then(function(){this.message="Please Verify Your E-mail to proceed."}).catch(function(t){})})}).catch(function(t){console.log(t),e.userError=t})}},{key:"ngOnInit",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)(jo(Jh),jo(QO))},t.\u0275cmp=te({type:t,selectors:[["app-signup"]],decls:29,vars:12,consts:[[1,"container-fluid"],[1,"card","text-blank","border-0"],[1,"card-body"],[1,"card-title","text-center"],[1,"card-text"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"form-group","col-md-5"],["type","text","placeholder","First Name",1,"form-control","form_input",3,"formControl"],[1,"form-group","col-md-7"],["type","text","placeholder","Last Name",1,"form-control","form_input",3,"formControl"],["class","alert alert-danger",4,"ngIf"],[1,"form-group"],["type","email","placeholder","Enter your email",1,"form-control","form_input",3,"formControl"],[1,"form-text","text-muted"],["type","password","placeholder","Password",1,"form-control","form_input",3,"formControl"],["type","password","placeholder","Confirm Password",1,"form-control","form_input",3,"formControl"],[1,"text-center"],["type","submit",1,"btn","btn-block","btn-primary","submit_btn",3,"disabled"],["class","alert alert-success",4,"ngIf"],[1,"alert","alert-danger"],[1,"alert","alert-success"]],template:function(t,e){1&t&&(Ho(0,"div",0),Ho(1,"div",1),Ho(2,"div",2),Ho(3,"div",3),Ho(4,"h2"),ya(5,"Sign Up For Free"),zo(),zo(),Ho(6,"div",4),Ho(7,"form",5),Yo("ngSubmit",function(){return e.onSubmit(e.myForm)}),Ho(8,"div",6),Ho(9,"div",7),Go(10,"input",8),zo(),Ho(11,"div",9),Go(12,"input",10),zo(),zo(),Uo(13,tN,2,0,"div",11),Ho(14,"div",12),Go(15,"input",13),Ho(16,"small",14),ya(17," We'll never share your email with anyone else "),zo(),zo(),Uo(18,eN,2,0,"div",11),Ho(19,"div",12),Go(20,"input",15),zo(),Ho(21,"div",12),Go(22,"input",16),zo(),Uo(23,nN,2,0,"div",11),Ho(24,"div",17),Ho(25,"button",18),ya(26," Submit "),zo(),zo(),zo(),zo(),zo(),zo(),Uo(27,rN,2,1,"div",19),Uo(28,iN,2,1,"div",11),zo()),2&t&&(fi(7),qo("formGroup",e.myForm),fi(3),qo("formControl",e.myForm.controls.firstName),fi(2),qo("formControl",e.myForm.controls.lastName),fi(1),qo("ngIf",(!e.myForm.controls.firstName.valid||!e.myForm.controls.lastName.valid)&&(e.myForm.controls.firstName.touched||e.myForm.controls.lastName.touched)),fi(2),qo("formControl",e.myForm.controls.email),fi(3),qo("ngIf",!e.myForm.controls.email.valid&&e.myForm.controls.email.touched),fi(2),qo("formControl",e.myForm.controls.password),fi(2),qo("formControl",e.myForm.controls.confirmPassword),fi(1),qo("ngIf",!e.myForm.controls.password.valid&&e.myForm.controls.password.touched),fi(2),qo("disabled",!e.myForm.valid),fi(2),qo("ngIf",e.message.length>0),fi(1),qo("ngIf",e.userError))},directives:[Bh,wh,Qh,Yl,bh,Kh,ol],styles:[".card-title[_ngcontent-%COMP%]{margin-bottom:20px}.form_input[_ngcontent-%COMP%]{padding:25px;font-size:18px}.form_input[_ngcontent-%COMP%]:focus{color:#000;background-color:#f8f8f8}.submit_btn[_ngcontent-%COMP%]{padding:15px;font-size:25px}@media only screen and (max-width:768px){.form_input[_ngcontent-%COMP%]{padding:10px;font-size:14px}.submit_btn[_ngcontent-%COMP%]{padding:10px;font-size:18px}}"]}),t}(),aN=function(){var t=function(){function t(){v(this,t)}return m(t,[{key:"ngOnInit",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=te({type:t,selectors:[["app-home"]],decls:89,vars:0,consts:[[1,"container-fluid"],[1,"row"],[1,"col-lg-6"],["width","100%","src","/assets/classroom.jpg",1,"align-middle","mt-2","mr-1","mb-2"],[1,"container","mt-5","mb-5"],[2,"text-align","center"],[1,"fas","fa-chevron-down"],[1,"row","mt-5"],[1,"col-md-6"],["src","/assets/1.png",2,"width","100%","height","auto"],["src","/assets/2.png",2,"width","100%","height","auto"],[1,"row","mt-3","mb-5"],[1,"col-md-12","mt-5","p-3",2,"text-align","center"]],template:function(t,e){1&t&&(Ho(0,"div",0),Ho(1,"div",1),Ho(2,"div",2),Go(3,"img",3),zo(),Ho(4,"div",2),Go(5,"app-signup"),zo(),zo(),Ho(6,"div",4),Ho(7,"h6",5),ya(8," Scroll down for features "),Go(9,"i",6),zo(),zo(),Ho(10,"div",7),Ho(11,"div",8),Ho(12,"h4",5),ya(13,"Create and Join Features"),zo(),Go(14,"img",9),zo(),Ho(15,"div",8),Ho(16,"ul"),Ho(17,"li"),ya(18," Create Class with "),Ho(19,"ul"),Ho(20,"li"),ya(21,"Class Name"),zo(),Ho(22,"li"),ya(23,"Subject"),zo(),zo(),zo(),Go(24,"br"),Ho(25,"li"),ya(26," Join Class with "),Ho(27,"ul"),Ho(28,"li"),ya(29,"Class Code ( As shared by the teacher )"),zo(),Ho(30,"li"),ya(31," Teacher Name ( Enter Teacher Name according to your convenience. "),Go(32,"br"),ya(33," To easily itentify class.) "),zo(),Ho(34,"li"),ya(35,"Subject (Enter Subject Name according to your convenience)"),zo(),Go(36,"br"),Ho(37,"li"),ya(38," When user join the class, it sends a request to the class owner to allow the user in the class "),zo(),Ho(39,"li"),ya(40,"In the top user can see the requests send for classes."),zo(),Ho(41,"li"),ya(42,"User can withdraw requests for classes that send earliar."),zo(),zo(),zo(),zo(),zo(),zo(),Ho(43,"div",7),Ho(44,"div",8),Ho(45,"h4",5),ya(46,"Created and Joined Classes"),zo(),Go(47,"img",10),zo(),Ho(48,"div",8),Ho(49,"ul"),Ho(50,"li"),ya(51," Created Classes "),Ho(52,"ul"),Ho(53,"li"),ya(54,"Edit Class Name of class"),zo(),Ho(55,"li"),ya(56,"Edit Subject"),zo(),Ho(57,"li"),ya(58,"Create Assignments"),zo(),Ho(59,"li"),ya(60,"Give notice to whole classes"),zo(),Ho(61,"li"),ya(62,"Can remove any student from the class"),zo(),Ho(63,"li"),ya(64,"Can remove whole class"),zo(),zo(),zo(),Go(65,"br"),Ho(66,"li"),ya(67," Joined Classes "),Ho(68,"ul"),Ho(69,"li"),ya(70,"Edit Teacher Name in class"),zo(),Ho(71,"li"),ya(72,"Edit Subject"),zo(),Ho(73,"li"),ya(74,"Submit Assignments"),zo(),Ho(75,"li"),ya(76,"See notices by instructor"),zo(),Ho(77,"li"),ya(78,"Can leave class."),zo(),zo(),zo(),Go(79,"br"),Ho(80,"li"),Ho(81,"b"),ya(82,"User can change name from the Profile Section"),zo(),zo(),zo(),zo(),zo(),Ho(83,"div",11),Ho(84,"div",12),Ho(85,"p"),ya(86," Designed and Developed by Yash Kumar Saini"),Go(87,"br"),ya(88," \xa9 2021 All Rights Reserved. "),zo(),zo(),zo(),zo())},directives:[oN],styles:["div[_ngcontent-%COMP%]{font-family:poppins,sans-serif}"]}),t}();function sN(t,e){if(1&t&&(Ho(0,"div",7),ya(1),zo()),2&t){var n=Jo();fi(1),wa(" ",n.message," ")}}function uN(t,e){if(1&t&&(Ho(0,"div",8),ya(1),zo()),2&t){var n=Jo();fi(1),wa(" ",n.errormessage," ")}}(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in i||(i[a]={}),i=i[a]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var a=n.setTimeout;r.prototype.c=function(t){a(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(sd){this.f(sd)}}}this.a=null},r.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new r;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(sd){n.reject(sd)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(fg){o(fg)}}:e}var i,o,a=new e(function(t,e){i=t,o=e});return this.Qa(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var r=i(t),a=r.next();!a.done;a=r.next())o(a.value).Qa(e,n)})},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e(function(t,e){function i(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,o(r.value).Qa(i(a.length-1),e),r=n.next()}while(!r.done)})},e});var o=o||{},a=this||self,s=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&s.test(t)?t:""}function l(){}function h(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){return"function"==h(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function v(t){return Object.prototype.hasOwnProperty.call(t,g)&&t[g]||(t[g]=++m)}var g="closure_uid_"+(1e9*Math.random()>>>0),m=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function b(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:b).apply(null,arguments)}function _(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var k=Date.now;function I(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function S(t){return t}function E(t,e,n){this.code=A+t,this.message=e||x[t]||"",this.a=n||null}function C(t){var e=t&&t.code;return e?new E(e.substring(A.length),t.message,t.serverResponse):null}I(E,Error),E.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},E.prototype.toJSON=function(){return this.w()};var T,A="auth/",x={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},O={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function N(t){for(var e in O)if(O[e].id===t)return{firebaseEndpoint:(t=O[e]).Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function D(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function P(t){if(Error.captureStackTrace)Error.captureStackTrace(this,P);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function R(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");P.call(this,n+t[r])}function M(t,e){throw new R("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function L(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function F(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function V(){this.b=this.a=null}T=N("__EID__")?"__EID__":void 0,I(P,Error),P.prototype.name="CustomError",I(R,P),R.prototype.name="AssertionError",L.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var U=new L(function(){return new q},function(t){t.reset()});function j(){var t=ge,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function q(){this.next=this.b=this.a=null}V.prototype.add=function(t,e){var n=U.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var B=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},H=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},z=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},G=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},K=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function W(t,e){return 0<=B(t,e)}function Q(t,e){var n;return(n=0<=(e=B(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Y(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)})}function X(t){return Array.prototype.concat.apply([],arguments)}function Z(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var J,$=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},tt=/&/g,et=/</g,nt=/>/g,rt=/"/g,it=/'/g,ot=/\x00/g,at=/[\x00&<>"']/;function st(t,e){return-1!=t.indexOf(e)}function ut(t,e){return t<e?-1:t>e?1:0}t:{var ct=a.navigator;if(ct){var lt=ct.userAgent;if(lt){J=lt;break t}}J=""}function ht(t){return st(J,t)}function ft(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function dt(t){for(var e in t)return!1;return!0}function pt(t){var e,n={};for(e in t)n[e]=t[e];return n}var vt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<vt.length;o++)n=vt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function mt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break t}}catch(s){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(p(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function yt(t,e){this.a=t===kt&&e||"",this.b=_t}function bt(t){return t instanceof yt&&t.constructor===yt&&t.b===_t?t.a:(M("expected object of type Const, got '"+t+"'"),"type_error:Const")}yt.prototype.sa=!0,yt.prototype.ra=function(){return this.a},yt.prototype.toString=function(){return"Const{"+this.a+"}"};var wt,_t={},kt={};function It(){if(void 0===wt){var t=null,e=a.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:S,createScript:S,createScriptURL:S})}catch(n){a.console&&a.console.error(n.message)}wt=t}else wt=t}return wt}function St(t,e){this.a=e===xt?t:""}function Et(t){return t instanceof St&&t.constructor===St?t.a:(M("expected object of type TrustedResourceUrl, got '"+t+"' of type "+h(t)),"type_error:TrustedResourceUrl")}function Ct(t,e){var n=bt(t);if(!At.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=It();return new St(t=e?e.createScriptURL(t):t,xt)}(t=n.replace(Tt,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof yt?bt(t):encodeURIComponent(String(t))}))}St.prototype.sa=!0,St.prototype.ra=function(){return this.a.toString()},St.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Tt=/%{(\w+)}/g,At=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,xt={};function Ot(t,e){this.a=e===Ft?t:""}function Nt(t){return t instanceof Ot&&t.constructor===Ot?t.a:(M("expected object of type SafeUrl, got '"+t+"' of type "+h(t)),"type_error:SafeUrl")}Ot.prototype.sa=!0,Ot.prototype.ra=function(){return this.a.toString()},Ot.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Dt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Pt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Rt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Mt(t){if(t instanceof Ot)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Rt.test(t))t=new Ot(t,Ft);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Pt);t=e&&Dt.test(e[1])?new Ot(t,Ft):null}return t}function Lt(t){return t instanceof Ot?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Rt.test(t)||(t="about:invalid#zClosurez"),new Ot(t,Ft))}var Ft={},Vt=new Ot("about:invalid#zClosurez",Ft);function Ut(t,e,n){this.a=n===jt?t:""}Ut.prototype.sa=!0,Ut.prototype.ra=function(){return this.a.toString()},Ut.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var jt={};function qt(t,e,n,r){return t=t instanceof Ot?t:Lt(t),e=e||a,n=n instanceof yt?bt(n):n||"",e.open(Nt(t),n,r,void 0)}function Bt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ht(t){return at.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(tt,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(et,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(nt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(rt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(it,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(ot,"&#0;"))),t}function zt(t){return zt[" "](t),t}zt[" "]=l;var Gt,Kt=ht("Opera"),Wt=ht("Trident")||ht("MSIE"),Qt=ht("Edge"),Yt=Qt||Wt,Xt=ht("Gecko")&&!(st(J.toLowerCase(),"webkit")&&!ht("Edge"))&&!(ht("Trident")||ht("MSIE"))&&!ht("Edge"),Zt=st(J.toLowerCase(),"webkit")&&!ht("Edge");function Jt(){var t=a.document;return t?t.documentMode:void 0}t:{var $t="",te=function(){var t=J;return Xt?/rv:([^\);]+)(\)|;)/.exec(t):Qt?/Edge\/([\d\.]+)/.exec(t):Wt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Zt?/WebKit\/(\S+)/.exec(t):Kt?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(te&&($t=te?te[1]:""),Wt){var ee=Jt();if(null!=ee&&ee>parseFloat($t)){Gt=String(ee);break t}}Gt=$t}var ne={};function re(t){return function(t,e){var n=ne;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=$(String(Gt)).split("."),r=$(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=ut(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ut(0==a[2].length,0==s[2].length)||ut(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var ie=a.document&&Wt&&(Jt()||parseInt(Gt,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(xd){}var oe=!Wt||9<=Number(ie);function ae(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function se(t,e){ft(e,function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:le.hasOwnProperty(n)?t.setAttribute(le[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}var ue,ce,le={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function he(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||p(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(p(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(d(o)){a="function"==typeof o.item;break t}}a=!1}H(a?Z(o):o,r)}}}function fe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function de(t){a.setTimeout(function(){throw t},0)}function pe(t,e){ce||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);ce=function(){t.then(me)}}else ce=function(){var t=me;!d(a.setImmediate)||a.Window&&a.Window.prototype&&!ht("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(ue||(ue=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ht("Presto")&&(t=function(){var t=fe(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=w(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ht("Trident")&&!ht("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Gb;n.Gb=null,t()}},function(t){r.next={Gb:t},r=r.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}()),ue(t)):a.setImmediate(t)}}(),ve||(ce(),ve=!0),ge.add(t,e)}var ve=!1,ge=new V;function me(){for(var t;t=j();){try{t.a.call(t.b)}catch(e){de(e)}F(U,t)}ve=!1}function ye(t,e){if(this.a=be,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=l)try{var n=this;t.call(e,function(t){De(n,we,t)},function(t){if(!(t instanceof Ue))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(tT){}De(n,_e,t)})}catch(r){De(this,_e,r)}}var be=0,we=2,_e=3;function ke(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}ke.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ie=new L(function(){return new ke},function(t){t.reset()});function Se(t,e,n){var r=Ie.get();return r.g=t,r.b=e,r.f=n,r}function Ee(t){if(t instanceof ye)return t;var e=new ye(l);return De(e,we,t),e}function Ce(t){return new ye(function(e,n){n(t)})}function Te(t,e,n){Pe(t,e,n,null)||pe(_(e,t))}function Ae(t){return new ye(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Te(t[o],_(i,o,!0),_(i,o,!1));else e(r)})}function xe(t,e){if(t.a==be)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==be&&1==r?xe(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Me(n),Le(n,i,_e,e)))}t.c=null}else De(t,_e,e)}function Oe(t,e){t.b||t.a!=we&&t.a!=_e||Re(t),t.f?t.f.next=e:t.b=e,t.f=e}function Ne(t,e,n,r){var i=Se(null,null,null);return i.a=new ye(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(sd){o(sd)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Ue?o(e):t(i)}catch(sd){o(sd)}}:o}),i.a.c=t,Oe(t,i),i.a}function De(t,e,n){t.a==be&&(t===n&&(e=_e,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Pe(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Re(t),e!=_e||n instanceof Ue||function(t,e){t.g=!0,pe(function(){t.g&&Ve.call(null,e)})}(t,n)))}function Pe(t,e,n,r){if(t instanceof ye)return Oe(t,Se(e||l,n||null,r)),!0;if(D(t))return t.then(e,n,r),!0;if(p(t))try{var i=t.then;if(d(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,function(t){a||(a=!0,n.call(i,t))},o)}catch(s){o(s)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Re(t){t.h||(t.h=!0,pe(t.gc,t))}function Me(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Le(t,e,n,r){if(n==_e&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Fe(e,n,r);else try{e.c?e.g.call(e.f):Fe(e,n,r)}catch(tT){Ve.call(null,tT)}F(Ie,e)}function Fe(t,e,n){e==we?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}ye.prototype.then=function(t,e,n){return Ne(this,d(t)?t:null,d(e)?e:null,n)},ye.prototype.$goog_Thenable=!0,(t=ye.prototype).oa=function(t,e){return(t=Se(t,t,e)).c=!0,Oe(this,t),this},t.o=function(t,e){return Ne(this,null,t,e)},t.cancel=function(t){if(this.a==be){var e=new Ue(t);pe(function(){xe(this,e)},this)}},t.$c=function(t){this.a=be,De(this,we,t)},t.ad=function(t){this.a=be,De(this,_e,t)},t.gc=function(){for(var t;t=Me(this);)Le(this,t,this.a,this.i);this.h=!1};var Ve=de;function Ue(t){P.call(this,t)}function je(){0!=qe&&(Be[v(this)]=this),this.xa=this.xa,this.pa=this.pa}I(Ue,P),Ue.prototype.name="cancel";var qe=0,Be={};function He(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=qe)){var e=v(t);if(0!=qe&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Be[e]}}je.prototype.xa=!1,je.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var ze=Object.freeze||function(t){return t},Ge=!Wt||9<=Number(ie),Ke=Wt&&!re("9"),We=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",l,e),a.removeEventListener("test",l,e)}catch(n){}return t}();function Qe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ye(t,e){if(Qe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Xt){t:{try{zt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Xe[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Qe.prototype.preventDefault=function(){this.defaultPrevented=!0},I(Ye,Qe);var Xe=ze({2:"touch",3:"pen",4:"mouse"});Ye.prototype.preventDefault=function(){Ye.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ke)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Ye.prototype.g=function(){return this.a};var Ze="closure_listenable_"+(1e6*Math.random()|0),Je=0;function $e(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Va=i,this.key=++Je,this.va=this.Pa=!1}function tn(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function en(t){this.src=t,this.a={},this.b=0}function nn(t,e){var n=e.type;n in t.a&&Q(t.a[n],e)&&(tn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function rn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==r)return i}return-1}en.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=rn(t,e,r,i);return-1<a?(e=t[a],n||(e.Pa=!1)):((e=new $e(e,this.src,o,!!r,i)).Pa=n,t.push(e)),e};var on="closure_lm_"+(1e6*Math.random()|0),an={};function sn(t,e,n,r,i){if(r&&r.once)cn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)sn(t,e[o],n,r,i);else n=yn(n),t&&t[Ze]?wn(t,e,n,p(r)?!!r.capture:!!r,i):un(t,e,n,!1,r,i)}function un(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=p(i)?!!i.capture:!!i,s=gn(t);if(s||(t[on]=s=new en(t)),!(n=s.add(e,n,r,a,o)).proxy)if(r=function(){var t=vn,e=Ge?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)We||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(fn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function cn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else n=yn(n),t&&t[Ze]?_n(t,e,n,p(r)?!!r.capture:!!r,i):un(t,e,n,!0,r,i)}function ln(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=yn(n),t&&t[Ze]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=rn(o=t.a[e],n,r,i))&&(tn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=gn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=rn(e,n,r,i)),(n=-1<t?e[t]:null)&&hn(n))}function hn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[Ze])nn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(fn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=gn(e))?(nn(n,t),0==n.b&&(n.src=null,e[on]=null)):tn(t)}}}function fn(t){return t in an?an[t]:an[t]="on"+t}function dn(t,e,n,r){var i=!0;if((t=gn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=pn(o,r),i=i&&!1!==o)}return i}function pn(t,e){var n=t.listener,r=t.Va||t.src;return t.Pa&&hn(t),n.call(r,e)}function vn(t,e){if(t.va)return!0;if(!Ge){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Ye(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=dn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=dn(r[i],t,!1,e),n=n&&o}return n}return pn(t,new Ye(e,this))}function gn(t){return(t=t[on])instanceof en?t:null}var mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function yn(t){return d(t)?t:(t[mn]||(t[mn]=function(e){return t.handleEvent(e)}),t[mn])}function bn(){je.call(this),this.v=new en(this),this.ac=this,this.gb=null}function wn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function _n(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function kn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.va&&a.capture==n){var s=a.listener,u=a.Va||a.src;a.Pa&&nn(t.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function In(t,e,n){if(d(t))n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function Sn(t){var e=null;return new ye(function(n,r){-1==(e=In(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).o(function(t){throw a.clearTimeout(e),t})}function En(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Cn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Tn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Tn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function An(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];xn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)xn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function xn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}I(bn,je),bn.prototype[Ze]=!0,bn.prototype.addEventListener=function(t,e,n,r){sn(this,t,e,n,r)},bn.prototype.removeEventListener=function(t,e,n,r){ln(this,t,e,n,r)},bn.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var r=t.type||t;if("string"==typeof t)t=new Qe(t,n);else if(t instanceof Qe)t.target=t.target||n;else{var i=t;gt(t=new Qe(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=kn(a,r,!0,t)&&i}if(i=kn(a=t.b=n,r,!0,t)&&i,i=kn(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=kn(a=t.b=e[o],r,!1,t)&&i;return i},bn.prototype.Da=function(){if(bn.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)tn(n[r]);delete e.a[t],e.b--}}this.gb=null},(t=Tn.prototype).W=function(){An(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return An(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return xn(this.b,t)?this.b[t]:e},t.set=function(t,e){xn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var On=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Nn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Nn?(this.i=void 0!==e?e:t.i,Dn(this,t.c),this.l=t.l,this.a=t.a,Pn(this,t.g),this.f=t.f,Rn(this,$n(t.b)),this.h=t.h):t&&(n=String(t).match(On))?(this.i=!!e,Dn(this,n[1]||"",!0),this.l=Un(n[2]||""),this.a=Un(n[3]||"",!0),Pn(this,n[4]),this.f=Un(n[5]||"",!0),Rn(this,n[6]||"",!0),this.h=Un(n[7]||"")):(this.i=!!e,this.b=new Wn(null,this.i))}function Dn(t,e,n){t.c=n?Un(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Pn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Rn(t,e,n){e instanceof Wn?(t.b=e,function(t,e){e&&!t.f&&(Qn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Xn(this,e),Jn(this,n,t))},t)),t.f=e}(t.b,t.i)):(n||(e=jn(e,Gn)),t.b=new Wn(e,t.i))}function Mn(t,e,n){t.b.set(e,n)}function Ln(t,e){return t.b.get(e)}function Fn(t){return t instanceof Nn?new Nn(t):new Nn(t,void 0)}function Vn(t,e,n,r){var i=new Nn(null,void 0);return t&&Dn(i,t),e&&(i.a=e),n&&Pn(i,n),r&&(i.f=r),i}function Un(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function jn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,qn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function qn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Nn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(jn(e,Bn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(jn(e,Bn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(jn(n,"/"==n.charAt(0)?zn:Hn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",jn(n,Kn)),t.join("")},Nn.prototype.resolve=function(t){var e=new Nn(this),n=!!t.c;n?Dn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Pn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(st(i,"./")||st(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Rn(e,$n(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Bn=/[#\/\?@]/g,Hn=/[#\?:]/g,zn=/[#\?]/g,Gn=/[#\?@]/g,Kn=/#/g;function Wn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Qn(t){t.a||(t.a=new Tn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Yn(t){var e=Cn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Wn(null,void 0);t=En(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Jn(n,i,o):n.add(i,o)}return n}function Xn(t,e){Qn(t),e=tr(t,e),xn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,xn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&An(t)))}function Zn(t,e){return Qn(t),e=tr(t,e),xn(t.a.b,e)}function Jn(t,e,n){Xn(t,e),0<n.length&&(t.c=null,t.a.set(tr(t,e),Z(n)),t.b+=n.length)}function $n(t){var e=new Wn;return e.c=t.c,t.a&&(e.a=new Tn(t.a),e.b=t.b),e}function tr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function er(t){var e=[];return rr(new nr,t,e),e.join("")}function nr(){}function rr(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),rr(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(o=e[r])&&(n.push(i),ar(r,n),n.push(":"),rr(t,o,n),i=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":ar(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Wn.prototype).add=function(t,e){Qn(this),this.c=null,t=tr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Qn(this),this.a.forEach(function(n,r){H(n,function(n){t.call(e,n,r,this)},this)},this)},t.Y=function(){Qn(this);for(var t=this.a.W(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.W=function(t){Qn(this);var e=[];if("string"==typeof t)Zn(this,t)&&(e=X(e,this.a.get(tr(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=X(e,t[n])}return e},t.set=function(t,e){return Qn(this),this.c=null,Zn(this,t=tr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var ir={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},or=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ar(t,e){e.push('"',t.replace(or,function(t){var e=ir[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ir[t]=e),e}),'"')}function sr(){var t=Cr();return Wt&&!!ie&&11==ie||/Edge\/\d+/.test(t)}function ur(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function cr(t,e){e=e||a.window;var n="about:blank";t&&(n=Nt(Mt(t)||Vt)),e.location.href=n}function lr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<lr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function hr(t){return!!((t=(t||Cr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function fr(t){t=t||a.window;try{t.close()}catch(e){}}function dr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Cr().toLowerCase(),r&&(e.target=r,st(n,"crios/")&&(e.target="_blank")),Ir(Cr())==kr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Ot?n:Mt(void 0!==n.href?n.href:String(n))||Vt,n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((ht("iPhone")&&!ht("iPod")&&!ht("iPad")||ht("iPad")||ht("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(mt(a=fe(document,"A"),"HTMLAnchorElement"),e=e instanceof Ot?e:Lt(e),a.href=Nt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=qt("",r,n,a),t=Nt(e),a&&(Yt&&st(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ht(t)+'">',t=new Ut(t=(r=It())?r.createHTML(t):t,null,jt),r=a.document)&&(r.write(function(t){return t instanceof Ut&&t.constructor===Ut?t.a:(M("expected object of type SafeHtml, got '"+t+"' of type "+h(t)),"type_error:SafeHtml")}(t)),r.close())):(a=qt(e,r,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(Xf){}return a}var pr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vr=/^[^@]+@[^@]+$/;function gr(){var t=null;return new ye(function(e){"complete"==a.document.readyState?e():(t=function(){e()},cn(window,"load",t))}).o(function(e){throw ln(window,"load",t),e})}function mr(t){return t=t||Cr(),!("file:"!==Nr()&&"ionic:"!==Nr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function yr(){var t=a.window;try{return!(!t||t==t.top)}catch(e){return!1}}function br(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function wr(){return Wf.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Wf.INTERNAL.hasOwnProperty("node")?"Node":br()?"Worker":"Browser"}function _r(){var t=wr();return"ReactNative"===t||"Node"===t}var kr="Firefox";function Ir(t){var e=t.toLowerCase();return st(e,"opera/")||st(e,"opr/")||st(e,"opios/")?"Opera":st(e,"iemobile")?"IEMobile":st(e,"msie")||st(e,"trident/")?"IE":st(e,"edge/")?"Edge":st(e,"firefox/")?kr:st(e,"silk/")?"Silk":st(e,"blackberry")?"Blackberry":st(e,"webos")?"Webos":!st(e,"safari/")||st(e,"chrome/")||st(e,"crios/")||st(e,"android")?!st(e,"chrome/")&&!st(e,"crios/")||st(e,"edge/")?st(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":"Chrome":"Safari"}var Sr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Er(t,e){e=e||[];var n,r=[],i={};for(n in Sr)i[Sr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=wr())?r=Ir(i=Cr()):"Worker"===r&&(r=Ir(i=Cr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Cr(){return a.navigator&&a.navigator.userAgent||""}function Tr(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Ar(){try{var t=a.localStorage,e=Lr();if(t)return t.setItem(e,"1"),t.removeItem(e),!sr()||!!a.indexedDB}catch(n){return br()&&!!a.indexedDB}return!1}function xr(){return(Or()||"chrome-extension:"===Nr()||mr())&&!_r()&&Ar()&&!br()}function Or(){return"http:"===Nr()||"https:"===Nr()}function Nr(){return a.location&&a.location.protocol||null}function Dr(t){return!hr(t=t||Cr())&&Ir(t)!=kr}function Pr(t){return void 0===t?null:er(t)}function Rr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Mr(t){if(null!==t)return JSON.parse(t)}function Lr(t){return t||Math.floor(1e9*Math.random()).toString()}function Fr(t){return"Safari"!=Ir(t=t||Cr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Vr(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Ur(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Cr(),e=wr(),this.b=hr(t)||"ReactNative"===e}function jr(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function qr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Br(){return!(!Tr("fireauth.oauthhelper",a)&&!Tr("fireauth.iframe",a))}Ur.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Or()&&"chrome-extension:"!==Nr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Hr,zr={};function Gr(t){zr[t]||(zr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Kr={};Object.defineProperty(Kr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Kr,"abcd",{configurable:!0,enumerable:!0,value:2}),Hr=2==Kr.abcd}catch(xd){Hr=!1}function Wr(t,e,n){Hr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Qr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Wr(t,n,e[n])}function Yr(t){var e={};return Qr(e,t),e}function Xr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Wr(e,n,Xr(t[n]));return e}function Zr(t){var e=t&&(t[ni]?"phone":null);if(!(e&&t&&t[ei]))throw new E("internal-error","Internal assert: invalid MultiFactorInfo object");Wr(this,"uid",t[ei]),Wr(this,"displayName",t[$r]||null);var n=null;t[ti]&&(n=new Date(t[ti]).toUTCString()),Wr(this,"enrollmentTime",n),Wr(this,"factorId",e)}function Jr(t){try{var e=new ri(t)}catch(n){e=null}return e}Zr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var $r="displayName",ti="enrolledAt",ei="mfaEnrollmentId",ni="phoneInfo";function ri(t){Zr.call(this,t),Wr(this,"phoneNumber",t[ni])}function ii(t){var e={},n=t[ui],r=t[li],i=t[hi];if(t=Jr(t[ci]),!i||i!=ai&&i!=si&&!n||i==si&&!r||i==oi&&!t)throw Error("Invalid checkActionCode response!");i==si?(e[di]=n||null,e[vi]=n||null,e[fi]=r):(e[di]=r||null,e[vi]=r||null,e[fi]=n||null),e[pi]=t||null,Wr(this,mi,i),Wr(this,gi,Xr(e))}I(ri,Zr),ri.prototype.w=function(){var t=ri.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var oi="REVERT_SECOND_FACTOR_ADDITION",ai="EMAIL_SIGNIN",si="VERIFY_AND_CHANGE_EMAIL",ui="email",ci="mfaInfo",li="newEmail",hi="requestType",fi="email",di="fromEmail",pi="multiFactorInfo",vi="previousEmail",gi="data",mi="operation";function yi(t){var e=Ln(t=Fn(t),bi)||null,n=Ln(t,wi)||null,r=Ln(t,Ii)||null;if(r=r&&Ei[r]||null,!e||!n||!r)throw new E("argument-error",bi+", "+wi+"and "+Ii+" are required in a valid action code URL.");Qr(this,{apiKey:e,operation:r,code:n,continueUrl:Ln(t,_i)||null,languageCode:Ln(t,ki)||null,tenantId:Ln(t,Si)||null})}var bi="apiKey",wi="oobCode",_i="continueUrl",ki="languageCode",Ii="mode",Si="tenantId",Ei={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:oi,signIn:ai,verifyAndChangeEmail:si,verifyEmail:"VERIFY_EMAIL"};function Ci(t){try{return new yi(t)}catch(e){return null}}function Ti(t){var e=t[Di];if(void 0===e)throw new E("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new E("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ai];if(n&&"object"==typeof n){e=n[Mi];var r=n[Pi];if(n=n[Ri],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new E("argument-error",Pi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new E("argument-error",Ri+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new E("argument-error",Mi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new E("missing-android-pkg-name")}}else if(void 0!==n)throw new E("argument-error",Ai+" property must be a non null object when specified.");if(this.f=null,(e=t[Ni])&&"object"==typeof e){if("string"==typeof(e=e[Li])&&e.length)this.f=e;else if(void 0!==e)throw new E("argument-error",Li+" property must be a non empty string when specified.")}else if(void 0!==e)throw new E("argument-error",Ni+" property must be a non null object when specified.");if(void 0!==(e=t[Oi])&&"boolean"!=typeof e)throw new E("argument-error",Oi+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[xi])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new E("argument-error",xi+" property must be a non empty string when specified.");this.i=t||null}var Ai="android",xi="dynamicLinkDomain",Oi="handleCodeInApp",Ni="iOS",Di="url",Pi="installApp",Ri="minimumVersion",Mi="packageName",Li="bundleId";function Fi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Vi=null;function Ui(t){var e=qi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function ji(t){try{return new Ui(t)}catch(e){return null}}function qi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=function(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Vi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Vi){Vi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Vi[o]&&(Vi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,function(t){e.push(t)}),e}(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var a=r[e++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else o=r[e++],a=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(t.join(""))}catch(sd){}return null}Ui.prototype.T=function(){return this.f},Ui.prototype.l=function(){return this.c},Ui.prototype.toString=function(){return this.h};var Bi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Hi=["client_id","response_type","scope","redirect_uri","state"],zi={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Hi},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Hi},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Hi},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Bi},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Gi(t){for(var e in zi)if(zi[e].fa==t)return zi[e];return null}function Ki(t){var e={};e["facebook.com"]=Zi,e["google.com"]=$i,e["github.com"]=Ji,e["twitter.com"]=to;var n=t&&t[Qi];try{if(n)return e[n]?new e[n](t):new Xi(t);if(void 0!==t[Wi])return new Yi(t)}catch(r){}return null}var Wi="idToken",Qi="providerId";function Yi(t){var e=t[Qi];if(!e&&t[Wi]){var n=ji(t[Wi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Wr(this,"providerId",e),Wr(this,"isNewUser",n)}function Xi(t){Yi.call(this,t),Wr(this,"profile",Xr((t=Mr(t.rawUserInfo||"{}"))||{}))}function Zi(t){if(Xi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ji(t){if(Xi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Wr(this,"username",this.profile&&this.profile.login||null)}function $i(t){if(Xi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function to(t){if(Xi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Wr(this,"username",t.screenName||null)}function eo(t){var e=Fn(t),n=Ln(e,"link"),r=Ln(Fn(n),"link");return e=Ln(e,"deep_link_id"),Ln(Fn(e),"link")||e||r||n||t}function no(t,e){if(!t&&!e)throw new E("internal-error","Internal assert: no raw session string available");if(t&&e)throw new E("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?ro:io}I(Xi,Yi),I(Zi,Xi),I(Ji,Xi),I($i,Xi),I(to,Xi);var ro="enroll",io="signin";function oo(){}function ao(t,e){return t.then(function(t){if(t[Wa]){var n=ji(t[Wa]);if(!n||e!=n.i)throw new E("user-mismatch");return t}throw new E("user-mismatch")}).o(function(t){throw t&&t.code&&t.code==A+"user-not-found"?new E("user-mismatch"):t})}function so(t,e){if(!e)throw new E("internal-error","failed to construct a credential");this.a=e,Wr(this,"providerId",t),Wr(this,"signInMethod",t)}function uo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function co(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new so(t.providerId,t.pendingToken)}catch(e){}return null}function lo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Wr(this,"idToken",e.idToken),e.accessToken&&Wr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Wr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new E("internal-error","failed to construct a credential");Wr(this,"accessToken",e.oauthToken),Wr(this,"secret",e.oauthTokenSecret)}Wr(this,"providerId",t),Wr(this,"signInMethod",n)}function ho(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Yn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function fo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new lo(t.providerId,e,t.signInMethod)}catch(n){}}return null}function po(t,e){this.Qc=e||[],Qr(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(Gi(t)||{}).Ja||null,this.ob=null}function vo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new E("argument-error",'SAML provider IDs must be prefixed with "saml."');po.call(this,t,[])}function go(t){po.call(this,t,Hi),this.a=[]}function mo(){go.call(this,"facebook.com")}function yo(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new mo).credential({accessToken:e})}function bo(){go.call(this,"github.com")}function wo(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new bo).credential({accessToken:e})}function _o(){go.call(this,"google.com"),this.Ca("profile")}function ko(t,e){var n=t;return p(t)&&(n=t.idToken,e=t.accessToken),(new _o).credential({idToken:n,accessToken:e})}function Io(){po.call(this,"twitter.com",Bi)}function So(t,e){var n=t;if(p(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new E("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new lo("twitter.com",n,"twitter.com")}function Eo(t,e,n){this.a=t,this.f=e,Wr(this,"providerId","password"),Wr(this,"signInMethod",n===To.EMAIL_LINK_SIGN_IN_METHOD?To.EMAIL_LINK_SIGN_IN_METHOD:To.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Co(t){return t&&t.email&&t.password?new Eo(t.email,t.password,t.signInMethod):null}function To(){Qr(this,{providerId:"password",isOAuthProvider:!1})}function Ao(t,e){if(!(e=xo(e)))throw new E("argument-error","Invalid email link!");return new Eo(t,e.code,To.EMAIL_LINK_SIGN_IN_METHOD)}function xo(t){return(t=Ci(t=eo(t)))&&t.operation===ai?t:null}function Oo(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new E("internal-error");this.a=t,Wr(this,"providerId","phone"),this.fa="phone",Wr(this,"signInMethod","phone")}function No(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new Oo(e)}return null}function Do(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function Po(t){try{this.a=t||Wf.auth()}catch(e){throw new E("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Qr(this,{providerId:"phone",isOAuthProvider:!1})}function Ro(t,e){if(!t)throw new E("missing-verification-id");if(!e)throw new E("missing-verification-code");return new Oo({eb:t,cb:e})}function Mo(t){if(t.temporaryProof&&t.phoneNumber)return new Oo({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return ko(o,n);case"facebook.com":return yo(n);case"github.com":return wo(n);case"twitter.com":return So(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new so(e,a):new lo(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new go(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(Xf){return null}}function Lo(t){if(!t.isOAuthProvider)throw new E("invalid-oauth-provider")}function Fo(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new E("invalid-auth-event");if(this.g&&this.a)throw new E("invalid-auth-event");if(this.g&&!this.f)throw new E("invalid-auth-event")}function Vo(t){return(t=t||{}).type?new Fo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&C(t.error),t.postBody,t.tenantId):null}function Uo(){this.b=null,this.a=[]}no.prototype.Ha=function(){return Ee(this.a?this.a:this.b)},no.prototype.w=function(){return this.type==ro?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},oo.prototype.ka=function(){},oo.prototype.b=function(){},oo.prototype.c=function(){},oo.prototype.w=function(){},so.prototype.ka=function(t){return ps(t,uo(this))},so.prototype.b=function(t,e){var n=uo(this);return n.idToken=e,vs(t,n)},so.prototype.c=function(t,e){return ao(gs(t,uo(this)),e)},so.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},lo.prototype.ka=function(t){return ps(t,ho(this))},lo.prototype.b=function(t,e){var n=ho(this);return n.idToken=e,vs(t,n)},lo.prototype.c=function(t,e){return ao(gs(t,ho(this)),e)},lo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},po.prototype.Ka=function(t){return this.Ib=pt(t),this},I(vo,po),I(go,po),go.prototype.Ca=function(t){return W(this.a,t)||this.a.push(t),this},go.prototype.Qb=function(){return Z(this.a)},go.prototype.credential=function(t,e){var n;if(!(n=p(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new E("argument-error","credential failed: must provide the ID token and/or the access token.");return new lo(this.providerId,n,this.providerId)},I(mo,go),Wr(mo,"PROVIDER_ID","facebook.com"),Wr(mo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),I(bo,go),Wr(bo,"PROVIDER_ID","github.com"),Wr(bo,"GITHUB_SIGN_IN_METHOD","github.com"),I(_o,go),Wr(_o,"PROVIDER_ID","google.com"),Wr(_o,"GOOGLE_SIGN_IN_METHOD","google.com"),I(Io,po),Wr(Io,"PROVIDER_ID","twitter.com"),Wr(Io,"TWITTER_SIGN_IN_METHOD","twitter.com"),Eo.prototype.ka=function(t){return this.signInMethod==To.EMAIL_LINK_SIGN_IN_METHOD?Zs(t,Ss,{email:this.a,oobCode:this.f}):Zs(t,Ks,{email:this.a,password:this.f})},Eo.prototype.b=function(t,e){return this.signInMethod==To.EMAIL_LINK_SIGN_IN_METHOD?Zs(t,Es,{idToken:e,email:this.a,oobCode:this.f}):Zs(t,Vs,{idToken:e,email:this.a,password:this.f})},Eo.prototype.c=function(t,e){return ao(this.ka(t),e)},Eo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Qr(To,{PROVIDER_ID:"password"}),Qr(To,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Qr(To,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Oo.prototype.ka=function(t){return t.fb(Do(this))},Oo.prototype.b=function(t,e){var n=Do(this);return n.idToken=e,Zs(t,Qs,n)},Oo.prototype.c=function(t,e){var n=Do(this);return n.operation="REAUTH",ao(t=Zs(t,Ys,n),e)},Oo.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Po.prototype.fb=function(t,e){var n=this.a.a;return Ee(e.verify()).then(function(r){if("string"!=typeof r)throw new E("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=p(t)?t.session:null,o=p(t)?t.phoneNumber:t;return(i&&i.type==ro?i.Ha().then(function(t){return function(t,e){return Zs(t,js,e).then(function(t){return t.phoneSessionInfo.sessionInfo})}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})}):i&&i.type==io?i.Ha().then(function(e){return function(t,e){return Zs(t,qs,e).then(function(t){return t.phoneResponseInfo.sessionInfo})}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})}):function(t,e){return Zs(t,Ls,e)}(n,{phoneNumber:o,recaptchaToken:r})).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new E("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Qr(Po,{PROVIDER_ID:"phone"}),Qr(Po,{PHONE_SIGN_IN_METHOD:"phone"}),Fo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Fo.prototype.T=function(){return this.h},Fo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var jo,qo=null;function Bo(t){var e="unauthorized-domain",n=void 0,r=Fn(t);t=r.a,"chrome-extension"==(r=r.c)?n=Bt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Bt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",E.call(this,e,n)}function Ho(t,e,n){E.call(this,t,n),(t=e||{}).Jb&&Wr(this,"email",t.Jb),t.ea&&Wr(this,"phoneNumber",t.ea),t.credential&&Wr(this,"credential",t.credential),t.Zb&&Wr(this,"tenantId",t.Zb)}function zo(t){if(t.code){var e=t.code||"";0==e.indexOf(A)&&(e=e.substring(A.length));var n={credential:Mo(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new E(e,t.message||void 0);return new Ho(e,n,t.message)}return null}function Go(){}function Ko(){}function Wo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(tT){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Qo(){}function Yo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.qc,this),this.a.onerror=w(this.Sb,this),this.a.onprogress=w(this.rc,this),this.a.ontimeout=w(this.vc,this)}function Xo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Zo(t,e,n){this.reset(t,e,n,void 0,void 0)}function Jo(t){this.f=t,this.b=this.c=this.a=null}function $o(t,e){this.name=t,this.value=e}I(Bo,E),I(Ho,E),Ho.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&gt(t,e),t},Ho.prototype.toJSON=function(){return this.w()},Go.prototype.c=null,I(Ko,Go),Ko.prototype.a=function(){var t=Wo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Ko.prototype.b=function(){var t={};return Wo(this)&&(t[0]=!0,t[1]=!0),t},jo=new Ko,I(Qo,Go),Qo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Yo;throw Error("Unsupported browser")},Qo.prototype.b=function(){return{}},(t=Yo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Xo(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",Xo(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,Xo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Zo.prototype.a=null,Zo.prototype.reset=function(t,e,n,r,i){r||k(),delete this.a},$o.prototype.toString=function(){return this.name};var ta=new $o("SEVERE",1e3),ea=new $o("WARNING",900),na=new $o("CONFIG",700),ra=new $o("FINE",500);function ia(t){return t.c?t.c:t.a?ia(t.a):(M("Root logger has no level set."),null)}Jo.prototype.log=function(t,e,n){if(t.value>=ia(this).value)for(d(e)&&(e=e()),t=new Zo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var oa={},aa=null;function sa(t){var e;if(aa||(aa=new Jo(""),oa[""]=aa,aa.c=na),!(e=oa[t])){e=new Jo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=sa(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,oa[t]=e}return e}function ua(t,e){t&&t.log(ra,e,void 0)}function ca(t){this.f=t}function la(t){bn.call(this),this.u=t,this.h=void 0,this.readyState=ha,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=sa("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}I(ca,Go),ca.prototype.a=function(){return new la(this.f)},ca.prototype.b=function(t){return function(){return t}}({}),I(la,bn);var ha=0;function fa(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function da(t){t.readyState=4,t.g=null,t.c=null,t.m=null,pa(t)}function pa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function va(t){bn.call(this),this.headers=new Tn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=ga,this.u=this.S=!1}(t=la.prototype).open=function(t,e){if(this.readyState!=ha)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,pa(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,da(this)),this.readyState=ha},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,pa(this)),this.a&&(this.readyState=3,pa(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,fa(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?da(this):pa(this),3==this.readyState&&fa(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,da(this))},t.sc=function(t){this.a&&(this.response=t,da(this))},t.Ua=function(t){var e=this.i;e&&e.log(ea,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&da(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(ea,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(ea,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(la.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),I(va,bn);var ga="";va.prototype.b=sa("goog.net.XhrIo");var ma=/^https?$/i,ya=["POST","PUT"];function ba(t){return"content-type"==t.toLowerCase()}function wa(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,_a(t),Ia(t)}function _a(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ka(t){if(t.c&&void 0!==o)if(t.C[1]&&4==Ea(t)&&2==Ca(t))ua(t.b,Ta(t,"Local request error detected and ignored"));else if(t.i&&4==Ea(t))In(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==Ea(t)){ua(t.b,Ta(t,"Request complete")),t.c=!1;try{var e,n=Ca(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.l).match(On)[1]||null;if(!s&&a.self&&a.self.location){var u=a.self.location.protocol;s=u.substr(0,u.length-1)}i=!ma.test(s?s.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Ea(t)?t.a.statusText:""}catch(l){ua(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+Ca(t)+"]",_a(t)}}finally{Ia(t)}}}function Ia(t,e){if(t.a){Sa(t);var n=t.a,r=t.C[0]?l:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(tT){(t=t.b)&&t.log(ta,"Problem encountered resetting onreadystatechange: "+tT.message,void 0)}}}function Sa(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function Ea(t){return t.a?t.a.readyState:0}function Ca(t){try{return 2<Ea(t)?t.a.status:-1}catch(e){return-1}}function Ta(t,e){return e+" ["+t.R+" "+t.l+" "+Ca(t)+"]"}function Aa(t){var e=Ua;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function xa(t,e,n){t.a=!0,t.c=n,t.f=!e,Pa(t)}function Oa(t){if(t.a){if(!t.v)throw new Ra(t);t.v=!1}}function Na(t,e,n,r){t.g.push([e,n,r]),t.a&&Pa(t)}function Da(t){return K(t.g,function(t){return d(t[1])})}function Pa(t){if(t.h&&t.a&&Da(t)){var e=t.h,n=Fa[e];n&&(a.clearTimeout(n.a),delete Fa[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(D(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,Da(t)||(n=!0)}}t.c=e,r&&(u=w(t.m,t,!0),r=w(t.m,t,!1),e instanceof Aa?(Na(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new La(e),Fa[e.a]=e,t.h=e.a)}function Ra(){P.call(this)}function Ma(){P.call(this)}function La(t){this.a=a.setTimeout(w(this.c,this),0),this.b=t}(t=va.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ua(this.b,Ta(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ua(this.b,Ta(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ia(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ia(this,!0)),va.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?ka(this):this.Jc())},t.Jc=function(){ka(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ga:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(ta,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return ua(this.b,"Can not get response: "+e.message),null}},Aa.prototype.cancel=function(t){if(this.a)this.c instanceof Aa&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Ma(this),Oa(this),xa(this,!1,t))}},Aa.prototype.m=function(t,e){this.i=!1,xa(this,t,e)},Aa.prototype.then=function(t,e,n){var r,i,o=new ye(function(t,e){r=t,i=e});return Na(this,r,function(t){t instanceof Ma?o.cancel():i(t)}),o.then(t,e,n)},Aa.prototype.$goog_Thenable=!0,I(Ra,P),Ra.prototype.message="Deferred has already fired",Ra.prototype.name="AlreadyCalledError",I(Ma,P),Ma.prototype.message="Deferred was canceled",Ma.prototype.name="CanceledError",La.prototype.c=function(){throw delete Fa[this.a],this.b};var Fa={};function Va(t){var e={},n=e.document||document,r=Et(t).toString(),i=fe(document,"SCRIPT"),o={Wb:i,Ma:void 0},s=new Aa(o),l=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(l=window.setTimeout(function(){ja(i,!0);var t=new Ha(Ba,"Timeout reached for loading script "+r);Oa(s),xa(s,!1,t)},h),o.Ma=l),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(ja(i,e.xd||!1,l),Oa(s),xa(s,!0,null))},i.onerror=function(){ja(i,!0,l);var t=new Ha(qa,"Error while loading script "+r);Oa(s),xa(s,!1,t)},gt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),se(i,o),function(t,e){mt(t,"HTMLScriptElement"),t.src=Et(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=a?e=c(e.document):(null===u&&(u=c(a.document)),e=u),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function Ua(){if(this&&this.Wb){var t=this.Wb;t&&"SCRIPT"==t.tagName&&ja(t,!0,this.Ma)}}function ja(t,e,n){null!=n&&a.clearTimeout(n),t.onload=l,t.onerror=l,t.onreadystatechange=l,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var qa=0,Ba=1;function Ha(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),P.call(this,n),this.code=t}function za(t){this.f=t}function Ga(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Qa,this.g=pt(t.secureTokenHeaders||Ya),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||Xa,this.a=pt(t.firebaseHeaders||Za),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==wr(),!(n=a.XMLHttpRequest||n&&Wf.INTERNAL.node&&Wf.INTERNAL.node.XMLHttpRequest)&&!br())throw new E("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=br()?new ca(self):_r()?new za(n):new Qo,this.b=null}I(Ha,P),I(za,Go),za.prototype.a=function(){return new this.f},za.prototype.b=function(){return{}};var Ka,Wa="idToken",Qa=new Ur(3e4,6e4),Ya={"Content-Type":"application/x-www-form-urlencoded"},Xa=new Ur(3e4,6e4),Za={"Content-Type":"application/json"};function Ja(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function $a(t,e){e&&(t.l=ts("https://securetoken.googleapis.com/v1/token",e),t.h=ts("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=ts("https://identitytoolkit.googleapis.com/v2/",e))}function ts(t,e){return t=Fn(t),e=Fn(e.url),t.f=t.a+t.f,Dn(t,e.c),t.a=e.a,Pn(t,e.g),t.toString()}function es(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function ns(t,e,n,r,i,o,s){(function(){var t=Cr();return!((t="Chrome"!=Ir(t)?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Wt&&ie&&!(9<ie))})()||br()?t=w(t.u,t):(Ka||(Ka=new ye(function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(a[is]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Na(t,null,e,void 0)}(Va(Ct(rs,{onload:is})),function(){e(Error("CORS_UNSUPPORTED"))}))}(t,e)})),t=w(t.s,t)),t(e,n,r,i,o,s)}Ga.prototype.T=function(){return this.b},Ga.prototype.u=function(t,e,n,r,i,o){if(br()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new E("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new va(this.f);if(o){s.g=Math.max(0,o);var u=setTimeout(function(){s.dispatchEvent("timeout")},o)}wn(s,"complete",function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ua(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(sd){t=null}e&&e(t)}),_n(s,"ready",function(){u&&clearTimeout(u),He(this)}),_n(s,"timeout",function(){u&&clearTimeout(u),He(this),e&&e(null)}),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():jo.a(),t.C=function(t){return t.c||(t.c=t.b())}(t.D?t.D:jo),t.a.onreadystatechange=w(t.Vb,t);try{ua(t.b,Ta(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(s){return ua(t.b,Ta(t,"Error opening Xhr: "+s.message)),void wa(t,s)}e=r||"";var o=new Tn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)H(t,e,void 0);else for(var n=Cn(t),r=En(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,function(t,e){o.set(e,t)}),i=function(t){t:{for(var e=ba,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=a.FormData&&e instanceof a.FormData,!W(ya,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Sa(t),0<t.g&&(t.u=function(t){return Wt&&re(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),ua(t.b,Ta(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=w(t.Ma,t)):t.s=In(t.Ma,t.g,t)),ua(t.b,Ta(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(s){ua(t.b,Ta(t,"Send error: "+s.message)),wa(t,s)}}(s,t,n,r,i)};var rs=new yt(kt,"https://apis.google.com/js/client.js?onload=%{onload}"),is="__fcb"+Math.floor(1e6*Math.random()).toString();function os(t){if("string"!=typeof(t=t.email)||!vr.test(t))throw new E("invalid-email")}function as(t){"email"in t&&os(t)}function ss(t){if(!t[Wa]){if(t.mfaPendingCredential)throw new E("multi-factor-auth-required",null,pt(t));throw new E("internal-error")}}function us(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new E("internal-error")}else{if(!t.sessionInfo)throw new E("missing-verification-id");if(!t.code)throw new E("missing-verification-code")}}Ga.prototype.s=function(t,e,n,r,i){var o=this;Ka.then(function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).o(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Ga.prototype.zb=function(){return Zs(this,Us,{})},Ga.prototype.Bb=function(t,e){return Zs(this,Fs,{idToken:t,email:e})},Ga.prototype.Cb=function(t,e){return Zs(this,Vs,{idToken:t,password:e})};var cs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ls(t){if(!t.phoneVerificationInfo)throw new E("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new E("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new E("missing-verification-code")}function hs(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new E("internal-error")}function fs(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Zn(t=new Wn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function ds(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=zo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=zo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=zo(t)):t.errorMessage&&(e=Js(t.errorMessage)),e)throw e;ss(t)}function ps(t,e){return e.returnIdpCredential=!0,Zs(t,Bs,e)}function vs(t,e){return e.returnIdpCredential=!0,Zs(t,zs,e)}function gs(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Zs(t,Hs,e)}function ms(t){if(!t.oobCode)throw new E("invalid-action-code")}(t=Ga.prototype).Db=function(t,e){var n={idToken:t},r=[];return ft(cs,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),Zs(this,Fs,n)},t.vb=function(t,e){return gt(t={requestType:"PASSWORD_RESET",email:t},e),Zs(this,Ds,t)},t.wb=function(t,e){return gt(t={requestType:"EMAIL_SIGNIN",email:t},e),Zs(this,xs,t)},t.ub=function(t,e){return gt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Zs(this,Os,t)},t.Eb=function(t,e,n){return gt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Zs(this,Ns,t)},t.fb=function(t){return Zs(this,Ws,t)},t.nb=function(t,e){return Zs(this,Ms,{oobCode:t,newPassword:e})},t.Ra=function(t){return Zs(this,bs,{oobCode:t})},t.jb=function(t){return Zs(this,ys,{oobCode:t})};var ys={endpoint:"setAccountInfo",A:ms,Z:"email",B:!0},bs={endpoint:"resetPassword",A:ms,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new E("internal-error")},B:!0},ws={endpoint:"signupNewUser",A:function(t){if(os(t),!t.password)throw new E("weak-password")},G:ss,V:!0,B:!0},_s={endpoint:"createAuthUri",B:!0},ks={endpoint:"deleteAccount",N:["idToken"]},Is={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new E("internal-error")}},Ss={endpoint:"emailLinkSignin",N:["email","oobCode"],A:os,G:ss,V:!0,B:!0},Es={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:os,G:ss,V:!0},Cs={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:ls,G:ss,B:!0,Na:!0},Ts={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:ls,G:ss,B:!0,Na:!0},As={endpoint:"getAccountInfo"},xs={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new E("internal-error");os(t)},Z:"email",B:!0},Os={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new E("internal-error")},Z:"email",B:!0},Ns={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new E("internal-error")},Z:"email",B:!0},Ds={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new E("internal-error");os(t)},Z:"email",B:!0},Ps={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Rs={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new E("internal-error")}},Ms={endpoint:"resetPassword",A:ms,Z:"email",B:!0},Ls={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Fs={endpoint:"setAccountInfo",N:["idToken"],A:as,V:!0},Vs={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(as(t),!t.password)throw new E("weak-password")},G:ss,V:!0},Us={endpoint:"signupNewUser",G:ss,V:!0,B:!0},js={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new E("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new E("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new E("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new E("internal-error")},B:!0,Na:!0},qs={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new E("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new E("internal-error")},B:!0,Na:!0},Bs={endpoint:"verifyAssertion",A:hs,Ya:fs,G:ds,V:!0,B:!0},Hs={endpoint:"verifyAssertion",A:hs,Ya:fs,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new E("user-not-found");if(t.errorMessage)throw Js(t.errorMessage);ss(t)},V:!0,B:!0},zs={endpoint:"verifyAssertion",A:function(t){if(hs(t),!t.idToken)throw new E("internal-error")},Ya:fs,G:ds,V:!0},Gs={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new E("invalid-custom-token")},G:ss,V:!0,B:!0},Ks={endpoint:"verifyPassword",A:function(t){if(os(t),!t.password)throw new E("wrong-password")},G:ss,V:!0,B:!0},Ws={endpoint:"verifyPhoneNumber",A:us,G:ss,B:!0},Qs={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new E("internal-error");us(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",zo(t);ss(t)}},Ys={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:us,G:ss,B:!0},Xs={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Wa]^!!t.refreshToken)throw new E("internal-error")},B:!0,Na:!0};function Zs(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.N))return Ce(new E("internal-error"));var r,i=!!e.Na,o=e.Ub||"POST";return Ee(n).then(e.A).then(function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,a){var s=Fn(e+n);Mn(s,"key",t.c),a&&Mn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Mn(s,c,i[c]);return new ye(function(e,n){ns(t,s.toString(),function(t){t?t.error?n($s(t,o||{})):e(t):n(new E("network-request-failed"))},r,u?void 0:er(Rr(i)),t.a,t.v.get())})}(t,i?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)}).then(function(t){return r=t,e.Ya?e.Ya(n,r):r}).then(e.G).then(function(){if(!e.Z)return r;if(!(e.Z in r))throw new E("internal-error");return r[e.Z]})}function Js(t){return $s({error:{errors:[{message:t}],code:400,message:t}})}function $s(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new E(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",gt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new E(r[i],e);return!e&&t&&(e=Pr(t)),new E("internal-error",e)}function tu(t){this.b=t,this.a=null,this.rb=function(t){return(iu||(iu=new ye(function(t,e){function n(){Vr(),Tr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Vr(),e(Error("Network Error"))},timeout:nu.get()})}if(Tr("gapi.iframes.Iframe"))t();else if(Tr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){Tr("gapi.load")?n():e(Error("Network Error"))},Ee(Va(r=Ct(eu,{onload:r}))).o(function(){e(Error("Network Error"))})}}).o(function(t){throw iu=null,t}))).then(function(){return new ye(function(e,n){Tr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Tr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},ru.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}var eu=new yt(kt,"https://apis.google.com/js/api.js?onload=%{onload}"),nu=new Ur(3e4,6e4),ru=new Ur(5e3,15e3),iu=null;function ou(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?Vn((t=Fn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):Vn("https",this.l,null,"/__/auth/iframe"),this.a=t,Mn(this.a,"apiKey",this.h),Mn(this.a,"appName",this.i),this.b=null,this.c=[]}function au(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function su(t){try{return Wf.app(t).auth().Ga()}catch(e){return[]}}function uu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function cu(t){var e=ur();return function(t){return Zs(t,Ps,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Fn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Fn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:pr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Bo(ur())})}function lu(t){return t.m||(t.m=gr().then(function(){if(!t.u){var e=t.c,n=t.i,r=su(t.b),i=new ou(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=Z(r||[]),t.u=i.toString()}t.v=new tu(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then(function(){t.a.register("authEvent",e,Tr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.v,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Vo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ee(n)}return n.status="ERROR",Ee(n)})}(t)})),t.m}function hu(t){return t.l||(t.C=t.c?Er(t.c,su(t.b)):null,t.l=new Ga(t.g,N(t.i),t.C),t.f&&$a(t.l,t.f)),t.l}function fu(t,e,n,r,i,o,a,s,u,c,l,h){return(t=new au(t,e,n,r,i,h)).l=o,t.g=a,t.i=s,t.b=pt(u||null),t.f=c,t.yb(l).toString()}function du(t){if(this.a=t||Wf.INTERNAL.reactNative&&Wf.INTERNAL.reactNative.AsyncStorage,!this.a)throw new E("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function pu(t){this.b=t,this.a={},this.f=w(this.c,this)}ou.prototype.toString=function(){return this.f?Mn(this.a,"v",this.f):Xn(this.a.b,"v"),this.b?Mn(this.a,"eid",this.b):Xn(this.a.b,"eid"),this.c.length?Mn(this.a,"fw",this.c.join(",")):Xn(this.a.b,"fw"),this.a.toString()},au.prototype.yb=function(t){return this.h=t,this},au.prototype.toString=function(){if(this.v){var t=Fn(this.v.url);t=Vn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Vn("https",this.u,null,"/__/auth/handler");if(Mn(t,"apiKey",this.s),Mn(t,"appName",this.c),Mn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=Wf.app(this.c).auth().la()}catch(Xf){n=null}for(var r in e.ob=n,Mn(t,"providerId",this.a.providerId),e=Rr((n=this.a).Ib))e[r]=e[r].toString();r=n.Qc,e=pt(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.pb&&n.ob&&!e[n.pb]&&(e[n.pb]=n.ob),dt(e)||Mn(t,"customParameters",Pr(e))}if("function"==typeof this.a.Qb&&(n=this.a.Qb()).length&&Mn(t,"scopes",n.join(",")),this.l?Mn(t,"redirectUrl",this.l):Xn(t.b,"redirectUrl"),this.g?Mn(t,"eventId",this.g):Xn(t.b,"eventId"),this.i?Mn(t,"v",this.i):Xn(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Ln(t,a)&&Mn(t,a,this.b[a]);return this.h?Mn(t,"tid",this.h):Xn(t.b,"tid"),this.f?Mn(t,"eid",this.f):Xn(t.b,"eid"),(a=su(this.c)).length&&Mn(t,"fw",a.join(",")),t.toString()},(t=uu.prototype).Ob=function(t,e,n){var r=new E("popup-closed-by-user"),i=new E("web-storage-unsupported"),o=this,a=!1;return this.ma().then(function(){(function(t){var e={type:"webStorageSupport"};return lu(t).then(function(){return function(t,e){return t.rb.then(function(){return new ye(function(n){t.a.send(e.type,e,n,Tr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.v,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&fr(t),e(i),a=!0)})}).o(function(){}).then(function(){if(!a)return function(t){return new ye(function(e){return function n(){Sn(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!a)return Sn(n).then(function(){e(r)})})},t.Xb=function(){var t=Cr();return!Dr(t)&&!Fr(t)},t.Tb=function(){return!1},t.Mb=function(t,e,n,r,i,o,a,s){if(!t)return Ce(new E("popup-blocked"));if(a&&!Dr())return this.ma().o(function(e){fr(t),i(e)}),r(),Ee();this.a||(this.a=cu(hu(this)));var u=this;return this.a.then(function(){var e=u.ma().o(function(e){throw fr(t),i(e),e});return r(),e}).then(function(){Lo(n),a||cr(fu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)}).o(function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t})},t.Nb=function(t,e,n,r){this.a||(this.a=cu(hu(this)));var i=this;return this.a.then(function(){Lo(e),cr(fu(i.s,i.g,i.b,t,e,ur(),n,i.c,void 0,i.i,r,i.f))}).o(function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t})},t.ma=function(){var t=this;return lu(this).then(function(){return t.v.rb}).o(function(){throw t.a=null,new E("network-request-failed")})},t.$b=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Sa=function(t){Y(this.h,function(e){return e==t})},(t=du.prototype).get=function(t){return Ee(this.a.getItem(t)).then(function(t){return t&&Mr(t)})},t.set=function(t,e){return Ee(this.a.setItem(t,Pr(e)))},t.U=function(t){return Ee(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var vu,gu=[];function mu(t,e,n){dt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function yu(t){this.a=t}function bu(t){this.c=t,this.b=!1,this.a=[]}function wu(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return Ce(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ye(function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout(function(){r(Error("unsupported_event"))},l),t.a.push(c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))}).then(function(e){return _u(t,c),e}).o(function(e){throw _u(t,c),e})}function _u(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),Y(t.a,function(t){return t==e})}}function ku(){if(!Cu())throw new E("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;br()&&self?(this.v=function(){var t=br()?self:null;if(H(gu,function(n){n.b==t&&(e=n)}),!e){var e=new pu(t);gu.push(e)}return e}(),mu(this.v,"keyChanged",function(e,n){return Nu(t).then(function(e){return 0<e.length&&H(t.a,function(t){t(e)}),{keyProcessed:W(e,n.key)}})}),mu(this.v,"ping",function(){return Ee(["keyChanged"])})):function(){var t=a.navigator;return t&&t.serviceWorker?Ee().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).o(function(){return null}):Ee(null)}().then(function(e){(t.h=e)&&(t.g=new bu(new yu(e)),wu(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&W(e[0].value,"keyChanged")&&(t.s=!0)}).o(function(){}))})}function Iu(t){return new ye(function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new ye(function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}(t).then(function(){return Iu(t)}).then(function(t){e(t)}).o(function(t){n(t)})}})}function Su(t){return t.i||(t.i=Iu(t)),t.i}function Eu(t,e){var n=0;return new ye(function r(i,o){Su(t).then(e).then(i).o(function(e){if(!(3<++n))return Su(t).then(function(e){return e.close(),t.i=void 0,r(i,o)}).o(function(t){o(t)});o(e)})})}function Cu(){try{return!!a.indexedDB}catch(xd){return!1}}function Tu(t){return t.objectStore("firebaseLocalStorage")}function Au(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function xu(t){return new ye(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function Ou(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?wu(t.g,"keyChanged",{key:e},t.s).then(function(){}).o(function(){}):Ee()}function Nu(t){return Su(t).then(function(t){var e=Tu(Au(t,!1));return e.getAll?xu(e.getAll()):new ye(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=lr(t.c,n),t.c=n}return r})}function Du(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Pu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ee().then(function(){if(Cu()){var t=Lr(),r="__sak"+t;return vu||(vu=new ku),(n=vu).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)}).then(function(){return n}).o(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.ca(function(t){H(e.a,function(e){e(t)})}),t})}function Ru(){this.a={},this.type="inMemory"}function Mu(){if(!function(){var t="Node"==wr();if(!(t=Lu()||t&&Wf.INTERNAL.node&&Wf.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==wr())throw new E("internal-error","The LocalStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Lu()||Wf.INTERNAL.node.localStorage,this.type="localStorage"}function Lu(){try{var t=a.localStorage,e=Lr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Fu(){this.type="nullStorage"}function Vu(){if(!function(){var t="Node"==wr();if(!(t=Uu()||t&&Wf.INTERNAL.node&&Wf.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==wr())throw new E("internal-error","The SessionStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Uu()||Wf.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Uu(){try{var t=a.sessionStorage,e=Lr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function ju(){var t={};t.Browser=Hu,t.Node=zu,t.ReactNative=Gu,t.Worker=Ku,this.a=t[wr()]}pu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];H(r,function(e){i.push(Ee().then(function(){return e(t.origin,t.data.data)}))}),Ae(i).then(function(r){var i=[];H(r,function(t){i.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})}),H(i,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},yu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},bu.prototype.close=function(){for(;0<this.a.length;)_u(this,this.a[0]);this.b=!0},(t=ku.prototype).set=function(t,e){var n=this,r=!1;return Eu(this,function(e){return xu((e=Tu(Au(e,!0))).get(t))}).then(function(i){return Eu(n,function(o){if(o=Tu(Au(o,!0)),i)return i.value=e,xu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=t,a.value=e,xu(o.add(a))})}).then(function(){return n.c[t]=e,Ou(n,t)}).oa(function(){r&&n.b--})},t.get=function(t){return Eu(this,function(e){return xu(Tu(Au(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.U=function(t){var e=this,n=!1;return Eu(this,function(r){return n=!0,e.b++,xu(Tu(Au(r,!0)).delete(t))}).then(function(){return delete e.c[t],Ou(e,t)}).oa(function(){n&&e.b--})},t.ca=function(t){0==this.a.length&&function(t){Du(t),function e(){t.f=setTimeout(function(){t.l=Nu(t).then(function(e){0<e.length&&H(t.a,function(t){t(e)})}).then(function(){e()}).o(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},t.ia=function(t){Y(this.a,function(e){return e==t}),0==this.a.length&&Du(this)},(t=Pu.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.U=function(t){return this.b.then(function(e){return e.U(t)})},t.ca=function(t){this.a.push(t)},t.ia=function(t){Y(this.a,function(e){return e==t})},(t=Ru.prototype).get=function(t){return Ee(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ee()},t.U=function(t){return delete this.a[t],Ee()},t.ca=function(){},t.ia=function(){},(t=Mu.prototype).get=function(t){var e=this;return Ee().then(function(){return Mr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Ee().then(function(){var r=Pr(e);null===r?n.U(t):n.a.setItem(t,r)})},t.U=function(t){var e=this;return Ee().then(function(){e.a.removeItem(t)})},t.ca=function(t){a.window&&sn(a.window,"storage",t)},t.ia=function(t){a.window&&ln(a.window,"storage",t)},(t=Fu.prototype).get=function(){return Ee(null)},t.set=function(){return Ee()},t.U=function(){return Ee()},t.ca=function(){},t.ia=function(){},(t=Vu.prototype).get=function(t){var e=this;return Ee().then(function(){return Mr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Ee().then(function(){var r=Pr(e);null===r?n.U(t):n.a.setItem(t,r)})},t.U=function(t){var e=this;return Ee().then(function(){e.a.removeItem(t)})},t.ca=function(){},t.ia=function(){};var qu,Bu,Hu={F:Mu,bb:Vu},zu={F:Mu,bb:Vu},Gu={F:du,bb:Fu},Ku={F:Mu,bb:Fu},Wu={rd:"local",NONE:"none",td:"session"};function Qu(){var t=!(Fr(Cr())||!yr()),e=Dr(),n=Ar();this.m=t,this.h=e,this.l=n,this.a={},qu||(qu=new ju),t=qu;try{this.g=!sr()&&Br()||!a.indexedDB?new t.a.F:new Pu(br()?new Ru:new t.a.F)}catch(r){this.g=new Ru,this.h=!0}try{this.i=new t.a.bb}catch(r){this.i=new Ru}this.v=new Ru,this.f=w(this.Yb,this),this.b={}}function Yu(){return Bu||(Bu=new Qu),Bu}function Xu(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function Zu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Ju(t,e,n){return n=Zu(e,n),"local"==e.F&&(t.b[n]=null),Xu(t,e.F).U(n)}function $u(t){t.c&&(clearInterval(t.c),t.c=null)}function tc(t){this.a=t,this.b=Yu()}(t=Qu.prototype).get=function(t,e){return Xu(this,t.F).get(Zu(t,e))},t.set=function(t,e,n){var r=Zu(t,n),i=this,o=Xu(this,t.F);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.F&&(i.b[r]=e)})},t.addListener=function(t,e,n){t=Zu(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),dt(this.a)&&(Xu(this,"local").ca(this.f),this.h||(sr()||!Br())&&a.indexedDB||!this.l||function(t){$u(t),t.c=setInterval(function(){for(var e in t.a){var n=a.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Ye({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Yb(n))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Zu(t,e),this.a[t]&&(Y(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),dt(this.a)&&(Xu(this,"local").ia(this.f),$u(this))},t.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Xu(this,"local").ia(this.f):$u(this),this.m)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.mb(e))},Wt&&ie&&10==ie&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else H(t,w(this.mb,this))},t.mb=function(t){this.a[t]&&H(this.a[t],function(t){t()})};var ec,nc={name:"authEvent",F:"local"};function rc(){this.a=Yu()}function ic(t,e){this.b=oc,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===ec&&(ec=a.Int32Array?new Int32Array(fc):fc),this.reset()}I(ic,function(){this.b=-1});for(var oc=64,ac=oc-1,sc=[],uc=0;uc<ac;uc++)sc[uc]=0;var cc=X(128,sc);function lc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|ec[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function hc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(lc(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(lc(t),i=0)}}t.c=i,t.g+=n}ic.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):Z(this.h)};var fc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function dc(){ic.call(this,8,pc)}I(dc,ic);var pc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function vc(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new rc,this.g=new tc(this.h),this.f=null,this.b=[],this.a=this.c=null}function gc(t){return new E("invalid-cordova-configuration",t)}function mc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function yc(t){return t.f||(t.f=t.ma().then(function(){return new ye(function(e){t.Ea(function n(r){return e(r),t.Sa(n),!1}),function(t){function e(e){r=!0,i&&i.cancel(),bc(t).then(function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=eo(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Mr(Ln(o=Fn(i),"firebaseError")||null))?C(o):null)?new Fo(r.c,r.b,null,null,o,null,r.T()):new Fo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}mc(t,i)})}var n=new Fo("unknown",null,null,null,new E("no-auth-event")),r=!1,i=Sn(500).then(function(){return bc(t).then(function(){r||mc(t,n)})}),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Tr("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(Xf){console.error(Xf)}},qo||(qo=new Uo),function(t){var e=qo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Tr("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)})})),t.f}function bc(t){var e=null;return function(t){return t.b.get(nc,t.a).then(function(t){return Vo(t)})}(t.g).then(function(n){return e=n,Ju((n=t.g).b,nc,n.a)}).then(function(){return e})}function wc(t){this.a=t,this.b=Yu()}(t=vc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(mr(void 0)?gr().then(function(){return new ye(function(t,e){var n=a.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):Ce(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof Tr("universalLinks.subscribe",a))throw gc("cordova-universal-links-plugin-fix is not installed");if(void 0===Tr("BuildInfo.packageName",a))throw gc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Tr("cordova.plugins.browsertab.openUrl",a))throw gc("cordova-plugin-browsertab is not installed");if("function"!=typeof Tr("cordova.InAppBrowser.open",a))throw gc("cordova-plugin-inappbrowser is not installed")},function(){throw new E("cordova-not-ready")})},t.Ob=function(t,e){return e(new E("operation-not-supported-in-this-environment")),Ee()},t.Mb=function(){return Ce(new E("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(t,e,n,r){if(this.c)return Ce(new E("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,l=null;return this.c=Ee().then(function(){return Lo(e),yc(i)}).then(function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Fo(e,r,null,o,new E("no-auth-event"),null,i),u=Tr("BuildInfo.packageName",a);if("string"!=typeof u)throw new E("invalid-cordova-configuration");var c=Tr("BuildInfo.displayName",a),l={};if(Cr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Cr().toLowerCase().match(/android/))return Ce(new E("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=function(t){var e=new dc;hc(e,t),t=[];var n=8*e.g;hc(e,cc,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(lc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return G(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}(o),l.sessionId=o;var h=fu(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then(function(){var e=t.h;return t.C.a.set(nc,s.w(),e)}).then(function(){var e=Tr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new E("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=Tr("cordova.plugins.browsertab.openUrl",a)))throw new E("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Tr("cordova.InAppBrowser.open",a)))throw new E("invalid-cordova-configuration");e=Cr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(i,t,e,n,r)}).then(function(){return new ye(function(t,e){u=function(){var e=Tr("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),l=function(){jr()&&c()},o.addEventListener("resume",c=function(){s||(s=Sn(2e3).then(function(){e(new E("redirect-cancelled-by-user"))}))},!1),Cr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)}).o(function(t){return bc(i).then(function(){throw t})})}).oa(function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),u&&i.Sa(u),i.c=null})},t.Ea=function(t){this.b.push(t),yc(this).o(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Fo("unknown",null,null,null,new E("no-auth-event")),t(e))})},t.Sa=function(t){Y(this.b,function(e){return e==t})};var _c={name:"pendingRedirect",F:"session"};function kc(t){return Ju(t.b,_c,t.a)}function Ic(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=w(this.s,this),this.b=new Vc,this.C=new Hc,this.g=new wc(Lc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Sc(this.D,this.v,this.m,T,this.J)}function Sc(t,e,n,r,i){var o=Wf.SDK_VERSION||null;return mr()?new vc(t,e,n,o,r,i):new uu(t,e,n,o,r,i)}function Ec(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o(function(n){throw t.a==e&&t.reset(),n})}function Cc(t){t.a.Xb()&&Ec(t).o(function(e){var n=new Fo("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));Dc(e)&&t.s(n)}),t.a.Tb()||Uc(t.b)}function Tc(t,e){W(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(_c,t.a).then(function(t){return"pending"==t})}(t.g).then(function(e){e?kc(t.g).then(function(){Ec(t).o(function(e){var n=new Fo("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));Dc(e)&&t.s(n)})}):Cc(t)}).o(function(){Cc(t)})}function Ac(t,e){Y(t.h,function(t){return t==e})}Ic.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Sc(this.D,this.v,this.m,null,this.J),this.i={}},Ic.prototype.s=function(t){if(!t)throw new E("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Uc(this.b),e};var xc=new Ur(2e3,1e4),Oc=new Ur(3e4,6e4);function Nc(t,e,n,r,i,o,a){return t.a.Mb(e,n,r,function(){t.f||(t.f=!0,t.a.Ea(t.l))},function(){t.reset()},i,o,a)}function Dc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Pc(t,e,n,r,i){var o;return function(t){return t.b.set(_c,"pending",t.a)}(t.g).then(function(){return t.a.Nb(e,n,r,i).o(function(e){if(Dc(e))throw new E("operation-not-supported-in-this-environment");return o=e,kc(t.g).then(function(){throw o})}).then(function(){return t.a.$b()?new ye(function(){}):kc(t.g).then(function(){return t.qa()}).then(function(){}).o(function(){})})})}function Rc(t,e,n,r,i){return t.a.Ob(r,function(t){e.na(n,null,t,i)},xc.get())}Ic.prototype.qa=function(){return this.b.qa()};var Mc={};function Lc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Fc(t,e,n,r){var i=Lc(e,n,r);return Mc[i]||(Mc[i]=new Ic(t,e,n,r)),Mc[i]}function Vc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Uc(t){t.g||(t.g=!0,Bc(t,!1,null,null))}function jc(t){t.g&&!t.i&&Bc(t,!1,null,null)}function qc(t,e){if(t.b=function(){return Ee(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Bc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ce(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):qc(t,n):qc(t,{user:null}),t.f=[],t.c=[]}function Hc(){}function zc(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function Gc(t,e){this.a=e,Wr(this,"verificationId",t)}function Kc(t,e,n,r){return new Po(t).fb(e,n).then(function(t){return new Gc(t,r)})}function Wc(t){var e=qi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new E("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Qr(this,{token:t,expirationTime:qr(1e3*e.exp),authTime:qr(1e3*e.auth_time),issuedAtTime:qr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Qc(t,e,n){var r=e&&e[Xc];if(!r)throw new E("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=pt(e),this.g=n,this.c=new no(null,r),this.b=[];var i=this;H(e[Yc]||[],function(t){(t=Jr(t))&&i.b.push(t)}),Wr(this,"auth",this.a),Wr(this,"session",this.c),Wr(this,"hints",this.b)}Vc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Vc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Bc(this,!0,null,t.a),Ee()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.T(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then(function(e){Bc(t,s,e,null)}).o(function(e){Bc(t,s,null,e)})}(this,t,e):Ce(new E("invalid-auth-event")):(Bc(this,!1,null,null),Ee())}else Ce(new E("invalid-auth-event"))},Vc.prototype.qa=function(){var t=this;return new ye(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new E("timeout");t.a&&t.a.cancel(),t.a=Sn(Oc.get()).then(function(){t.b||(t.g=!0,Bc(t,!0,null,e))})}(t))})},Hc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Ee()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then(function(t){e.na(r,t,null,n)}).o(function(t){e.na(r,null,t,n)})}(t,e):Ce(new E("invalid-auth-event"))}else Ce(new E("invalid-auth-event"))},Gc.prototype.confirm=function(t){return t=Ro(this.verificationId,t),this.a(t)};var Yc="mfaInfo",Xc="mfaPendingCredential";function Zc(t,e,n,r){E.call(this,"multi-factor-auth-required",r,e),this.b=new Qc(t,e,n),Wr(this,"resolver",this.b)}function Jc(t,e,n){if(t&&p(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Zc(e,t.serverResponse,n,t.message)}catch(r){}return null}function $c(){}function tl(t){Wr(this,"factorId",t.fa),this.a=t}function el(t){if(tl.call(this,t),this.a.fa!=Po.PROVIDER_ID)throw new E("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function nl(t,e){for(var n in Qe.call(this,t),e)this[n]=e[n]}function rl(t,e){this.a=t,this.b=[],this.c=w(this.yc,this),sn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&H(e.multiFactor.enrolledFactors,function(t){var e=null,r={};if(t){t.uid&&(r[ei]=t.uid),t.displayName&&(r[$r]=t.displayName),t.enrollmentTime&&(r[ti]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ni]=t.phoneNumber);try{e=new ri(r)}catch(i){}t=e}else t=null;t&&n.push(t)}),il(this,n)}function il(t,e){t.b=e,Wr(t,"enrolledFactors",e)}function ol(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function al(t,e){t.stop(),t.b=Sn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then(function(){return function(){var t=a.document,e=null;return jr()||!t?Ee():new ye(function(n){e=function(){jr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).o(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}()}).then(function(){return t.h()}).then(function(){al(t,!0)}).o(function(e){t.i(e)&&al(t,!1)})}function sl(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function ul(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function cl(t,e){t.b=ji(e[Wa]||""),t.a=e.refreshToken,ul(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function ll(t,e){this.a=t||null,this.b=e||null,Qr(this,{lastSignInTime:qr(e||null),creationTime:qr(t||null)})}function hl(t,e,n,r,i,o){Qr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function fl(t,e,n){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=Wf.SDK_VERSION?Er(Wf.SDK_VERSION):null;this.a=new Ga(this.l,N(T),r),t.emulatorConfig&&$a(this.a,t.emulatorConfig),this.b=new sl(this.a),wl(this,e[Wa]),cl(this.b,e),Wr(this,"refreshToken",this.b.a),Il(this,n||{}),bn.call(this),this.R=!1,this.s&&xr()&&(this.i=Fc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(t){return new ol(function(){return t.I(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0})}(this),this.aa=w(this.hb,this);var i=this;this.ya=null,this.Oa=function(t){i.wa(t.h)},this.ja=null,this.Aa=function(t){$a(i.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){vl(i,t.f)},this.ba=null,this.O=new rl(this,n),Wr(this,"multiFactor",this.O)}function dl(t,e){t.ja&&ln(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&sn(e,"languageCodeChanged",t.Oa)}function pl(t,e){t.X&&ln(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&sn(e,"emulatorConfigChanged",t.Aa)}function vl(t,e){t.$=e,es(t.a,Wf.SDK_VERSION?Er(Wf.SDK_VERSION,t.$):null)}function gl(t,e){t.ba&&ln(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&sn(e,"frameworkChanged",t.Ba)}function ml(t){try{return Wf.app(t.m).auth()}catch(e){throw new E("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function yl(t){t.D||t.u.b||(t.u.start(),ln(t,"tokenChanged",t.aa),sn(t,"tokenChanged",t.aa))}function bl(t){ln(t,"tokenChanged",t.aa),t.u.stop()}function wl(t,e){t.za=e,Wr(t,"_lat",e)}function _l(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return Ae(e).then(function(){return t})}function kl(t){t.i&&!t.R&&(t.R=!0,Tc(t.i,t))}function Il(t,e){Qr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new ll(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Sl(){}function El(t){return Ee().then(function(){if(t.D)throw new E("app-deleted")})}function Cl(t){return G(t.providerData,function(t){return t.providerId})}function Tl(t,e){e&&(Al(t,e.providerId),t.providerData.push(e))}function Al(t,e){Y(t.providerData,function(t){return t.providerId==e})}function xl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Wr(t,e,n)}function Ol(t,e){t!=e&&(Qr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Wr(t,"metadata",e.metadata?function(t){return new ll(t.a,t.b)}(e.metadata):new ll),H(e.providerData,function(e){Tl(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Wr(t,"refreshToken",t.b.a),il(t.O,e.O.b))}function Nl(t){return t.I().then(function(e){var n=t.isAnonymous;return function(t,e){return Zs(t.a,As,{idToken:e}).then(w(t.Kc,t))}(t,e).then(function(){return n||xl(t,"isAnonymous",!1),e})})}function Dl(t,e){e[Wa]&&t.za!=e[Wa]&&(cl(t.b,e),t.dispatchEvent(new nl("tokenChanged")),wl(t,e[Wa]),xl(t,"refreshToken",t.b.a))}function Pl(t,e){return Nl(t).then(function(){if(W(Cl(t),e))return _l(t).then(function(){throw new E("provider-already-linked")})})}function Rl(t,e,n){return Yr({user:t,credential:Mo(e),additionalUserInfo:e=Ki(e),operationType:n})}function Ml(t,e){return Dl(t,e),t.reload().then(function(){return t})}function Ll(t,e,n,r,i){if(!xr())return Ce(new E("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ce(t.h);var o=Gi(n.providerId),a=Lr(t.uid+":::"),s=null;(!Dr()||yr())&&t.s&&n.isOAuthProvider&&(s=fu(t.s,t.l,t.m,e,n,null,a,Wf.SDK_VERSION||null,null,null,t.tenantId));var u=dr(s,o&&o.ua,o&&o.ta);return r=r().then(function(){if(Vl(t),!i)return t.I().then(function(){})}).then(function(){return Nc(t.i,u,e,n,a,!!s,t.tenantId)}).then(function(){return new ye(function(n,r){t.na(e,null,new E("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=a,t.c=Rc(t.i,t,e,u,a)})}).then(function(t){return u&&fr(u),t?Yr(t):null}).o(function(t){throw u&&fr(u),t}),Ul(t,r,i)}function Fl(t,e,n,r,i){if(!xr())return Ce(new E("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ce(t.h);var o=null,a=Lr(t.uid+":::");return r=r().then(function(){if(Vl(t),!i)return t.I().then(function(){})}).then(function(){return t.ga=a,_l(t)}).then(function(e){return t.ha&&(e=(e=t.ha).b.set(Bl,t.w(),e.a)),e}).then(function(){return Pc(t.i,e,n,a,t.tenantId)}).o(function(e){if(o=e,t.ha)return Hl(t.ha);throw o}).then(function(){if(o)throw o}),Ul(t,r,i)}function Vl(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new E("internal-error");throw new E("auth-domain-config-required")}}function Ul(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Ce(t.h)):e.o(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new nl("userInvalidated")),t.h=e),e})}(t,e,n);return t.J.push(r),r.oa(function(){Q(t.J,r)}),r.o(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Jc(e.w(),ml(t),w(t.jc,t))),n||e})}function jl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Wa]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new fl(e,n,t);return t.providerData&&H(t.providerData,function(t){t&&Tl(i,Yr(t))}),t.redirectEventId&&(i.ga=t.redirectEventId),i}function ql(t){this.a=t,this.b=Yu()}Qc.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then(function(t){var n=pt(e.f);return delete n[Yc],delete n[Xc],gt(n,t),e.g(n)})},I(Zc,E),$c.prototype.sb=function(t,e,n){return e.type==ro?function(t,e,n,r){return n.Ha().then(function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),gt(n,{phoneVerificationInfo:Do(t.a)}),Zs(e,Cs,n)})}(this,t,e,n):function(t,e,n){return n.Ha().then(function(n){return gt(n={mfaPendingCredential:n},{phoneVerificationInfo:Do(t.a)}),Zs(e,Ts,n)})}(this,t,e)},I(tl,$c),I(el,tl),I(nl,Qe),(t=rl.prototype).yc=function(t){il(this,function(t){var e=[];return H(t.mfaInfo||[],function(t){(t=Jr(t))&&e.push(t)}),e}(t.hd))},t.Rb=function(){return this.a.I().then(function(t){return new no(t,null)})},t.fc=function(t,e){var n=this,r=this.a.a;return this.Rb().then(function(n){return t.sb(r,n,e)}).then(function(t){return Dl(n.a,t),n.a.reload()})},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then(function(t){return Zs(r,Xs,{idToken:t,mfaEnrollmentId:n})}).then(function(t){var r=z(e.b,function(t){return t.uid!=n});return il(e,r),Dl(e.a,t),e.a.reload().o(function(t){if("auth/user-token-expired"!=t.code)throw t})})},t.w=function(){return{multiFactor:{enrolledFactors:G(this.b,function(t){return t.w()})}}},ol.prototype.start=function(){this.a=this.c,al(this,!0)},ol.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},sl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},sl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ce(new E("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?function(t,e){return function(t,e){return new ye(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ns(t,t.l+"?key="+encodeURIComponent(t.c),function(t){t?t.error?r($s(t)):t.access_token&&t.refresh_token?n(t):r(new E("internal-error")):r(new E("network-request-failed"))},"POST",Yn(e).toString(),t.g,t.m.get()):r(new E("internal-error"))})}(t.f,e).then(function(e){return t.b=ji(e.access_token),t.a=e.refresh_token,ul(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}}).o(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):Ee(null):Ee({accessToken:this.b.toString(),refreshToken:this.a})},ll.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},I(fl,bn),fl.prototype.wa=function(t){this.ya=t,Ja(this.a,t)},fl.prototype.la=function(){return this.ya},fl.prototype.Ga=function(){return Z(this.$)},fl.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},Wr(fl.prototype,"providerId","firebase"),(t=fl.prototype).reload=function(){var t=this;return Ul(this,El(this).then(function(){return Nl(t).then(function(){return _l(t)}).then(Sl)}))},t.oc=function(t){return this.I(t).then(function(t){return new Wc(t)})},t.I=function(t){var e=this;return Ul(this,El(this).then(function(){return e.b.getToken(t)}).then(function(t){if(!t)throw new E("internal-error");return t.accessToken!=e.za&&(wl(e,t.accessToken),e.dispatchEvent(new nl("tokenChanged"))),xl(e,"refreshToken",t.refreshToken),t.accessToken}))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new E("internal-error");Il(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?G(t,function(t){return new hl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)Tl(this,e[n]);xl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new nl("userReloaded",{hd:t}))},t.Lc=function(t){return Gr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},t.tb=function(t){var e=this,n=null;return Ul(this,t.c(this.a,this.uid).then(function(t){return Dl(e,t),n=Rl(e,t,"reauthenticate"),e.h=null,e.reload()}).then(function(){return n}),!0)},t.Cc=function(t){return Gr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},t.qb=function(t){var e=this,n=null;return Ul(this,Pl(this,t.providerId).then(function(){return e.I()}).then(function(n){return t.b(e.a,n)}).then(function(t){return n=Rl(e,t,"link"),Ml(e,t)}).then(function(){return n}))},t.Dc=function(t,e){var n=this;return Ul(this,Pl(this,"phone").then(function(){return Kc(ml(n),t,e,w(n.qb,n))}))},t.Mc=function(t,e){var n=this;return Ul(this,Ee().then(function(){return Kc(ml(n),t,e,w(n.tb,n))}),!0)},t.Bb=function(t){var e=this;return Ul(this,this.I().then(function(n){return e.a.Bb(n,t)}).then(function(t){return Dl(e,t),e.reload()}))},t.ed=function(t){var e=this;return Ul(this,this.I().then(function(n){return t.b(e.a,n)}).then(function(t){return Dl(e,t),e.reload()}))},t.Cb=function(t){var e=this;return Ul(this,this.I().then(function(n){return e.a.Cb(n,t)}).then(function(t){return Dl(e,t),e.reload()}))},t.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return El(this);var e=this;return Ul(this,this.I().then(function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Dl(e,t),xl(e,"displayName",t.displayName||null),xl(e,"photoURL",t.photoUrl||null),H(e.providerData,function(t){"password"===t.providerId&&(Wr(t,"displayName",e.displayName),Wr(t,"photoURL",e.photoURL))}),_l(e)}).then(Sl))},t.cd=function(t){var e=this;return Ul(this,Nl(this).then(function(n){return W(Cl(e),t)?function(t,e,n){return Zs(t,Is,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then(function(t){var n={};return H(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),H(Cl(e),function(t){n[t]||Al(e,t)}),n[Po.PROVIDER_ID]||Wr(e,"phoneNumber",null),_l(e)}):_l(e).then(function(){throw new E("no-such-provider")})}))},t.delete=function(){var t=this;return Ul(this,this.I().then(function(e){return Zs(t.a,ks,{idToken:e})}).then(function(){t.dispatchEvent(new nl("userDeleted"))})).then(function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");dl(t,null),pl(t,null),gl(t,null),t.J=[],t.D=!0,bl(t),Wr(t,"refreshToken",null),t.i&&Ac(t.i,t)})},t.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?w(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?w(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?w(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?w(this.Lb,this):null},t.Ec=function(t){var e=this;return Ll(this,"linkViaPopup",t,function(){return Pl(e,t.providerId).then(function(){return _l(e)})},!1)},t.Nc=function(t){return Ll(this,"reauthViaPopup",t,function(){return Ee()},!0)},t.Fc=function(t){var e=this;return Fl(this,"linkViaRedirect",t,function(){return Pl(e,t.providerId)},!1)},t.Oc=function(t){return Fl(this,"reauthViaRedirect",t,function(){return Ee()},!0)},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Ul(this,this.I().then(function(n){return vs(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})}).then(function(t){return o=Rl(i,t,"link"),Ml(i,t)}).then(function(){return o}))},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Ul(this,Ee().then(function(){return ao(gs(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)}).then(function(t){return o=Rl(i,t,"reauthenticate"),Dl(i,t),i.h=null,i.reload()}).then(function(){return o}),!0)},t.ub=function(t){var e=this,n=null;return Ul(this,this.I().then(function(e){return n=e,void 0===t||dt(t)?{}:Fi(new Ti(t))}).then(function(t){return e.a.ub(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.Eb=function(t,e){var n=this,r=null;return Ul(this,this.I().then(function(t){return r=t,void 0===e||dt(e)?{}:Fi(new Ti(e))}).then(function(e){return n.a.Eb(r,t,e)}).then(function(t){if(n.email!=t)return n.reload()}).then(function(){}))},t.jc=function(t){var e=null,n=this;return Ul(this,t=ao(Ee(t),n.uid).then(function(t){return e=Rl(n,t,"reauthenticate"),Dl(n,t),n.h=null,n.reload()}).then(function(){return e}),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&gt(t,this.metadata.w()),H(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),gt(t,this.O.w()),t};var Bl={name:"redirectUser",F:"session"};function Hl(t){return Ju(t.b,Bl,t.a)}function zl(t){this.a=t,this.b=Yu(),this.c=null,this.f=function(t){var e=Wl("local"),n=Wl("session"),r=Wl("none");return function(t,e,n){var r=Zu(e,n),i=Xu(t,e.F);return t.get(e,n).then(function(o){var s=null;try{s=Mr(a.localStorage.getItem(r))}catch(Xf){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)})}(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(Kl,t.a).then(function(t){return t?Wl(t):e})})})}).then(function(e){return t.c=e,Gl(t,e.F)}).o(function(){t.c||(t.c=e)})}(this),this.b.addListener(Wl("local"),this.a,w(this.g,this))}function Gl(t,e){var n,r=[];for(n in Wu)Wu[n]!==e&&r.push(Ju(t.b,Wl(Wu[n]),t.a));return r.push(Ju(t.b,Kl,t.a)),function(t){return new ye(function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)Te(t[s],_(o,s),a);else e(i)})}(r)}zl.prototype.g=function(){var t=this,e=Wl("local");Zl(this,function(){return Ee().then(function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null}).then(function(n){if(n)return Gl(t,"local").then(function(){t.c=e})})})};var Kl={name:"persistence",F:"session"};function Wl(t){return{name:"authUser",F:t}}function Ql(t,e){return Zl(t,function(){return t.b.set(t.c,e.w(),t.a)})}function Yl(t){return Zl(t,function(){return Ju(t.b,t.c,t.a)})}function Xl(t,e,n){return Zl(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),jl(t||{})})})}function Zl(t,e){return t.f=t.f.then(e,e),t.f}function Jl(t){if(this.l=!1,Wr(this,"settings",new zc),Wr(this,"app",t),!ah(this).options||!ah(this).options.apiKey)throw new E("invalid-api-key");t=Wf.SDK_VERSION?Er(Wf.SDK_VERSION):null,this.a=new Ga(ah(this).options&&ah(this).options.apiKey,N(T),t),this.R=[],this.s=[],this.O=[],this.hb=Wf.INTERNAL.createSubscribe(w(this.zc,this)),this.X=void 0,this.bc=Wf.INTERNAL.createSubscribe(w(this.Ac,this)),ih(this,null),this.i=new zl(ah(this).options.apiKey+":"+ah(this).name),this.D=new ql(ah(this).options.apiKey+":"+ah(this).name),this.$=lh(this,function(t){var e=ah(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Bl,t.a).then(function(t){return t&&e&&(t.authDomain=e),jl(t||{})})}(t.D,ah(t).options.authDomain).then(function(e){return(t.m=e)&&(e.ha=t.D),Hl(t.D)});return lh(t,e)}(t).then(function(){return Xl(t.i,e,t.P)}).then(function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then(function(){return Ql(t.i,e).then(function(){return e})}).o(function(n){return"auth/network-request-failed"==n.code?e:Yl(t.i)})):null}).then(function(e){ih(t,e||null)});return lh(t,n)}(this)),this.h=lh(this,function(t){return t.$.then(function(){return rh(t)}).o(function(){}).then(function(){if(!t.l)return t.ja()}).o(function(){}).then(function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(Wl("local"),e.a,t.ja)}})}(this)),this.ba=!1,this.ja=w(this.Zc,this),this.Ba=w(this.da,this),this.ya=w(this.mc,this),this.za=w(this.wc,this),this.Aa=w(this.xc,this),this.b=null,function(t){var e=ah(t).options.authDomain,n=ah(t).options.apiKey;e&&xr()&&(t.Oa=t.$.then(function(){if(!t.l){if(t.b=Fc(e,n,ah(t).name,t.P),Tc(t.b,t),sh(t)&&kl(sh(t)),t.m){kl(t.m);var r=t.m;r.wa(t.la()),dl(r,t),vl(r=t.m,t.J),gl(r,t),$a((r=t.m).a,t.P),pl(r,t),t.m=null}return t.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Gc,this),this.u=0,bn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.P){var t=Fn(this.P.url);t=Yr({protocol:t.c,host:t.a,port:t.g,options:Yr({disableWarnings:this.P.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.P=null}function $l(t){Qe.call(this,"languageCodeChanged"),this.h=t}function th(t){Qe.call(this,"emulatorConfigChanged"),this.c=t}function eh(t){Qe.call(this,"frameworkChanged"),this.f=t}function nh(t){return t.Oa||Ce(new E("auth-domain-config-required"))}function rh(t){if(!xr())return Ce(new E("operation-not-supported-in-this-environment"));var e=nh(t).then(function(){return t.b.qa()}).then(function(t){return t?Yr(t):null});return lh(t,e)}function ih(t,e){sh(t)&&(function(t,e){Y(t.S,function(t){return t==e})}(sh(t),t.Ba),ln(sh(t),"tokenChanged",t.ya),ln(sh(t),"userDeleted",t.za),ln(sh(t),"userInvalidated",t.Aa),bl(sh(t))),e&&(e.S.push(t.Ba),sn(e,"tokenChanged",t.ya),sn(e,"userDeleted",t.za),sn(e,"userInvalidated",t.Aa),0<t.u&&yl(e)),Wr(t,"currentUser",e),e&&(e.wa(t.la()),dl(e,t),vl(e,t.J),gl(e,t),$a(e.a,t.P),pl(e,t))}function oh(t,e){var n=null,r=null;return lh(t,e.then(function(e){return n=Mo(e),r=Ki(e),function(t,e){var n={};return n.apiKey=ah(t).options.apiKey,n.authDomain=ah(t).options.authDomain,n.appName=ah(t).name,t.P&&(n.emulatorConfig=t.P),t.$.then(function(){return function(t,e,n,r){var i=new fl(t,e);return n&&(i.ha=n),r&&vl(i,r),i.reload().then(function(){return i})}(n,e,t.D,t.Ga())}).then(function(e){return sh(t)&&e.uid==sh(t).uid?(Ol(sh(t),e),t.da(e)):(ih(t,e),kl(e),t.da(e))}).then(function(){ch(t)})}(t,e)},function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Jc(e.w(),t,w(t.kc,t))),n||e}).then(function(){return Yr({user:sh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function ah(t){return t.app}function sh(t){return t.currentUser}function uh(t){return sh(t)&&sh(t)._lat||null}function ch(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](uh(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](uh(t))}}function lh(t,e){return t.R.push(e),e.oa(function(){Q(t.R,e)}),e}function hh(){}function fh(){this.a={},this.b=1e12}zl.prototype.xb=function(t){var e=null,n=this;return function(t){var e=new E("invalid-persistence-type"),n=new E("unsupported-persistence-type");t:{for(r in Wu)if(Wu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(wr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Cu()&&"none"!==t)throw n;break;default:if(!Ar()&&"none"!==t)throw n}}(t),Zl(this,function(){return t!=n.c.F?n.b.get(n.c,n.a).then(function(r){return e=r,Gl(n,t)}).then(function(){if(n.c=Wl(t),e)return n.b.set(n.c,e,n.a)}):Ee()})},I(Jl,bn),I($l,Qe),I(th,Qe),I(eh,Qe),(t=Jl.prototype).xb=function(t){return lh(this,t=this.i.xb(t))},t.wa=function(t){this.aa===t||this.l||(this.aa=t,Ja(this.a,this.aa),this.dispatchEvent(new $l(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=a.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new E("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!t&&gr().then(function(){var t=a.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),a.document.body.appendChild(t)})})(e=!!e&&!!e.disableWarnings),this.P={url:t,ec:e},this.settings.ib=!0,$a(this.a,this.P),this.dispatchEvent(new th(this.P))}},t.Gc=function(t){this.J.push(t),es(this.a,Wf.SDK_VERSION?Er(Wf.SDK_VERSION,this.J):null),this.dispatchEvent(new eh(this.J))},t.Ga=function(){return Z(this.J)},t.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:ah(this).options.apiKey,authDomain:ah(this).options.authDomain,appName:ah(this).name,currentUser:sh(this)&&sh(this).w()}},t.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?w(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then(function(){return oh(i,ps(i.a,o))})},t.Xc=function(t){if(!xr())return Ce(new E("operation-not-supported-in-this-environment"));var e=this,n=Gi(t.providerId),r=Lr(),i=null;(!Dr()||yr())&&ah(this).options.authDomain&&t.isOAuthProvider&&(i=fu(ah(this).options.authDomain,ah(this).options.apiKey,ah(this).name,"signInViaPopup",t,null,r,Wf.SDK_VERSION||null,null,null,this.T(),this.P));var o=dr(i,n&&n.ua,n&&n.ta);return lh(this,n=nh(this).then(function(n){return Nc(n,o,"signInViaPopup",t,r,!!i,e.T())}).then(function(){return new ye(function(t,n){e.na("signInViaPopup",null,new E("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=r,e.c=Rc(e.b,e,"signInViaPopup",o,r)})}).then(function(t){return o&&fr(o),t?Yr(t):null}).o(function(t){throw o&&fr(o),t}))},t.Yc=function(t){if(!xr())return Ce(new E("operation-not-supported-in-this-environment"));var e=this;return lh(this,nh(this).then(function(){return function(t){return Zl(t,function(){return t.b.set(Kl,t.c.F,t.a)})}(e.i)}).then(function(){return Pc(e.b,"signInViaRedirect",t,void 0,e.T())}))},t.qa=function(){var t=this;return rh(this).then(function(e){return t.b&&jc(t.b.b),e}).o(function(e){throw t.b&&jc(t.b.b),e})},t.dd=function(t){if(!t)return Ce(new E("null-user"));if(this.S!=t.tenantId)return Ce(new E("tenant-id-mismatch"));var e=this,n={};n.apiKey=ah(this).options.apiKey,n.authDomain=ah(this).options.authDomain,n.appName=ah(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Wa]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new fl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&vl(e,r),Ol(e,t),e}(t,n,e.D,e.Ga());return lh(this,this.h.then(function(){if(ah(e).options.apiKey!=t.l)return r.reload()}).then(function(){return sh(e)&&t.uid==sh(e).uid?(Ol(sh(e),t),e.da(t)):(ih(e,r),kl(r),e.da(r))}).then(function(){ch(e)}))},t.Ab=function(){var t=this;return lh(this,this.h.then(function(){return t.b&&jc(t.b.b),sh(t)?(ih(t,null),Yl(t.i).then(function(){ch(t)})):Ee()}))},t.Zc=function(){var t=this;return Xl(this.i,ah(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=sh(t)&&e){n=sh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Ol(sh(t),e),sh(t).I();(sh(t)||e)&&(ih(t,e),e&&(kl(e),e.ha=t.D),t.b&&Tc(t.b,t),ch(t))}})},t.da=function(t){return Ql(this.i,t)},t.mc=function(){ch(this),this.da(sh(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()},t.kc=function(t){var e=this;return this.h.then(function(){return oh(e,Ee(t))})},t.zc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(sh(e))})},t.Ac=function(t){var e=this;!function(t,e){t.O.push(e),lh(t,t.h.then(function(){!t.l&&W(t.O,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(uh(t)))}))}(this,function(){t.next(sh(e))})},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof t?t(sh(r)):"function"==typeof t.next&&t.next(sh(r))}),this.hb(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){r.X=r.getUid(),"function"==typeof t?t(sh(r)):"function"==typeof t.next&&t.next(sh(r))}),this.bc(t,e,n)},t.nc=function(t){var e=this;return lh(this,this.h.then(function(){return sh(e)?sh(e).I(t).then(function(t){return{accessToken:t}}):null}))},t.Tc=function(t){var e=this;return this.h.then(function(){return oh(e,Zs(e.a,Gs,{token:t}))}).then(function(t){var n=t.user;return xl(n,"isAnonymous",!1),e.da(n),t})},t.Uc=function(t,e){var n=this;return this.h.then(function(){return oh(n,Zs(n.a,Ks,{email:t,password:e}))})},t.dc=function(t,e){var n=this;return this.h.then(function(){return oh(n,Zs(n.a,ws,{email:t,password:e}))})},t.$a=function(t){var e=this;return this.h.then(function(){return oh(e,t.ka(e.a))})},t.Sc=function(t){return Gr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},t.zb=function(){var t=this;return this.h.then(function(){var e=sh(t);if(e&&e.isAnonymous){var n=Yr({providerId:null,isNewUser:!1});return Yr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return oh(t,t.a.zb()).then(function(e){var n=e.user;return xl(n,"isAnonymous",!0),t.da(n),e})})},t.getUid=function(){return sh(this)&&sh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&sh(this)&&yl(sh(this))},t.Pc=function(t){var e=this;H(this.s,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&sh(this)&&bl(sh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),lh(this,this.h.then(function(){e.l||W(e.s,t)&&t(uh(e))}))},t.removeAuthTokenListener=function(t){Y(this.s,function(e){return e==t})},t.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(Wl("local"),t.a,this.ja),this.b&&(Ac(this.b,this),jc(this.b.b)),Promise.resolve()},t.hc=function(t){return lh(this,function(t,e){return Zs(t,_s,{identifier:e,continueUri:Or()?ur():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.a,t))},t.Bc=function(t){return!!xo(t)},t.wb=function(t,e){var n=this;return lh(this,Ee().then(function(){var t=new Ti(e);if(!t.c)throw new E("argument-error",Oi+" must be true when sending sign in link to email");return Fi(t)}).then(function(e){return n.a.wb(t,e)}).then(function(){}))},t.jd=function(t){return this.Ra(t).then(function(t){return t.data.email})},t.nb=function(t,e){return lh(this,this.a.nb(t,e).then(function(){}))},t.Ra=function(t){return lh(this,this.a.Ra(t).then(function(t){return new ii(t)}))},t.jb=function(t){return lh(this,this.a.jb(t).then(function(){}))},t.vb=function(t,e){var n=this;return lh(this,Ee().then(function(){return void 0===e||dt(e)?{}:Fi(new Ti(e))}).then(function(e){return n.a.vb(t,e)}).then(function(){}))},t.Wc=function(t,e){return lh(this,Kc(this,t,e,w(this.$a,this)))},t.Vc=function(t,e){var n=this;return lh(this,Ee().then(function(){var r=e||ur(),i=Ao(t,r);if(!(r=xo(r)))throw new E("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new E("tenant-id-mismatch");return n.$a(i)}))},hh.prototype.render=function(){},hh.prototype.reset=function(){},hh.prototype.getResponse=function(){},hh.prototype.execute=function(){};var dh=null;function ph(t,e){return(e=vh(e))&&t.a[e]||null}function vh(t){return(t=void 0===t?1e12:t)?t.toString():null}function gh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ae(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():sn(this.f,"click",this.i)}function mh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function yh(){}function bh(){}fh.prototype.render=function(t,e){return this.a[this.b.toString()]=new gh(t,e),this.b++},fh.prototype.reset=function(t){var e=ph(this,t);t=vh(t),e&&t&&(e.delete(),delete this.a[t])},fh.prototype.getResponse=function(t){return(t=ph(this,t))?t.getResponse():null},fh.prototype.execute=function(t){(t=ph(this,t))&&t.execute()},gh.prototype.getResponse=function(){return mh(this),this.b},gh.prototype.execute=function(){mh(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()},6e4)},500))},gh.prototype.delete=function(){mh(this),this.g=!0,clearTimeout(this.a),this.a=null,ln(this.f,"click",this.i)},Wr(yh,"FACTOR_ID","phone"),bh.prototype.g=function(){return dh||(dh=new fh),Ee(dh)},bh.prototype.c=function(){};var wh=null;function _h(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var kh=new yt(kt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Ih=new Ur(3e4,6e4);_h.prototype.g=function(t){var e=this;return new ye(function(n,r){var i=setTimeout(function(){r(new E("network-request-failed"))},Ih.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new E("internal-error"));delete a[e.a]},Ee(Va(Ct(kh,{onload:e.a,hl:t||""}))).o(function(){clearTimeout(i),r(new E("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),n(a.grecaptcha))})},_h.prototype.c=function(){this.b--};var Sh=null;function Eh(t,e,n,r,i,o,s){if(Wr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,s?(wh||(wh=new bh),s=wh):(Sh||(Sh=new _h),s=Sh),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Ah])throw new E("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[xh],!a.document)throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ae(e)||!this.i&&ae(e).hasChildNodes())throw new E("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ga(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Ch];this.a[Ch]=function(t){if(Oh(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Tr(c,a);"function"==typeof e&&e(t)}};var l=this.a[Th];this.a[Th]=function(){if(Oh(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=Tr(l,a);"function"==typeof t&&t()}}}var Ch="callback",Th="expired-callback",Ah="sitekey",xh="size";function Oh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Nh(t,e){return t.h.push(e),e.oa(function(){Q(t.h,e)}),e}function Dh(t){if(t.D)throw new E("internal-error","RecaptchaVerifier instance has been destroyed.")}function Ph(t,e,n){var r=!1;try{this.b=n||Wf.app()}catch(a){throw new E("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new E("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(a){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}o=Wf.SDK_VERSION?Er(Wf.SDK_VERSION,o):null,Eh.call(this,n,t,e,function(){try{var t=i.b.auth().la()}catch(Xf){t=null}return t},o,N(T),r)}function Rh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new E("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Mh.length)throw new E("internal-error","Argument validator received an unsupported number of arguments.");n=Mh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new E("argument-error",t+" failed: "+r)}(t=Eh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Nh(this,Ee().then(function(){if(Or()&&!br())return gr();throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.m.g(t.u())}).then(function(e){return t.g=e,Zs(t.s,Rs,{})}).then(function(e){t.a[Ah]=e.recaptchaSiteKey}).o(function(e){throw t.f=null,e}))},t.render=function(){Dh(this);var t=this;return Nh(this,this.Ia().then(function(){if(null===t.c){var e=t.v;if(!t.i){var n=ae(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!oe&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Ht(a.name),'"'),a.type){o.push(' type="',Ht(a.type),'"');var s={};gt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=fe(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):se(o,a)),2<r.length&&he(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){Dh(this);var t=this;return Nh(this,this.render().then(function(e){return new ye(function(n){var r=t.g.getResponse(e);if(r)n(r);else{t.l.push(function e(r){r&&(function(t,e){Y(t.l,function(t){return t==e})}(t,e),n(r))}),t.i&&t.g.execute(t.c)}})}))},t.reset=function(){Dh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Dh(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ae(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},I(Ph,Eh);var Mh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Lh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Fh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Vh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:p}}function Uh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function jh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function qh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.ka||t&&e.providerId!==t)}}}function Bh(t,e){return p(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Hh(t){return p(t)&&"string"==typeof t.uid}function zh(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Gh(t,e){for(var n in e){var r=e[n].name;t[r]=Qh(r,t[n],e[n].j)}}function Kh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:_(function(t){return this[t]},n),set:_(function(t,e,n,r){Rh(t,[n],[r],!0),this[e]=r},r,n,e[n].kb),enumerable:!0})}}function Wh(t,e,n,r){t[e]=Qh(e,n,r)}function Qh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Rh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Gh(Jl.prototype,{jb:{name:"applyActionCode",j:[Lh("code")]},Ra:{name:"checkActionCode",j:[Lh("code")]},nb:{name:"confirmPasswordReset",j:[Lh("code"),Lh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Lh("email"),Lh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Lh("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Lh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[zh(Vh(),Uh(),"nextOrObserver"),Uh("opt_error",!0),Uh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[zh(Vh(),Uh(),"nextOrObserver"),Uh("opt_error",!0),Uh("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Lh("email"),zh(Vh("opt_actionCodeSettings",!0),jh(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Lh("email"),Vh("actionCodeSettings")]},xb:{name:"setPersistence",j:[Lh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[qh()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[qh()]},Tc:{name:"signInWithCustomToken",j:[Lh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Lh("email"),Lh("password")]},Vc:{name:"signInWithEmailLink",j:[Lh("email"),Lh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Lh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[zh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof fl)}},jh(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Lh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Lh("url"),Vh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Lh("code")]}}),Kh(Jl.prototype,{lc:{name:"languageCode",kb:zh(Lh(),jh(),"languageCode")},ti:{name:"tenantId",kb:zh(Lh(),jh(),"tenantId")}}),(Jl.Persistence=Wu).LOCAL="local",Jl.Persistence.SESSION="session",Jl.Persistence.NONE="none",Gh(fl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Fh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Fh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[qh()]},qb:{name:"linkWithCredential",j:[qh()]},Dc:{name:"linkWithPhoneNumber",j:[Lh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[qh()]},tb:{name:"reauthenticateWithCredential",j:[qh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Lh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[zh(Vh("opt_actionCodeSettings",!0),jh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Lh(null,!0)]},cd:{name:"unlink",j:[Lh("provider")]},Bb:{name:"updateEmail",j:[Lh("email")]},Cb:{name:"updatePassword",j:[Lh("password")]},ed:{name:"updatePhoneNumber",j:[qh("phone")]},Db:{name:"updateProfile",j:[Vh("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Lh("email"),zh(Vh("opt_actionCodeSettings",!0),jh(null,!0),"opt_actionCodeSettings",!0)]}}),Gh(fh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Gh(hh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Gh(ye.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Kh(zc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Fh("appVerificationDisabledForTesting")}}),Gh(Gc.prototype,{confirm:{name:"confirm",j:[Lh("verificationCode")]}}),Wh(oo,"fromJSON",function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[fo,Co,No,co],r=0;r<n.length;r++)if(e=n[r](t))return e;return null},[zh(Lh(),Vh(),"json")]),Wh(To,"credential",function(t,e){return new Eo(t,e)},[Lh("email"),Lh("password")]),Gh(Eo.prototype,{w:{name:"toJSON",j:[Lh(null,!0)]}}),Gh(mo.prototype,{Ca:{name:"addScope",j:[Lh("scope")]},Ka:{name:"setCustomParameters",j:[Vh("customOAuthParameters")]}}),Wh(mo,"credential",yo,[zh(Lh(),Vh(),"token")]),Wh(To,"credentialWithLink",Ao,[Lh("email"),Lh("emailLink")]),Gh(bo.prototype,{Ca:{name:"addScope",j:[Lh("scope")]},Ka:{name:"setCustomParameters",j:[Vh("customOAuthParameters")]}}),Wh(bo,"credential",wo,[zh(Lh(),Vh(),"token")]),Gh(_o.prototype,{Ca:{name:"addScope",j:[Lh("scope")]},Ka:{name:"setCustomParameters",j:[Vh("customOAuthParameters")]}}),Wh(_o,"credential",ko,[zh(Lh(),zh(Vh(),jh()),"idToken"),zh(Lh(),jh(),"accessToken",!0)]),Gh(Io.prototype,{Ka:{name:"setCustomParameters",j:[Vh("customOAuthParameters")]}}),Wh(Io,"credential",So,[zh(Lh(),Vh(),"token"),Lh("secret",!0)]),Gh(go.prototype,{Ca:{name:"addScope",j:[Lh("scope")]},credential:{name:"credential",j:[zh(Lh(),zh(Vh(),jh()),"optionsOrIdToken"),zh(Lh(),jh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Vh("customOAuthParameters")]}}),Gh(lo.prototype,{w:{name:"toJSON",j:[Lh(null,!0)]}}),Gh(so.prototype,{w:{name:"toJSON",j:[Lh(null,!0)]}}),Wh(Po,"credential",Ro,[Lh("verificationId"),Lh("verificationCode")]),Gh(Po.prototype,{fb:{name:"verifyPhoneNumber",j:[zh(Lh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Bh(t.session,ro)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Bh(t.session,io)&&Hh(t.multiFactorHint):t.session&&t.multiFactorUid?Bh(t.session,io)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Gh(Oo.prototype,{w:{name:"toJSON",j:[Lh(null,!0)]}}),Gh(E.prototype,{toJSON:{name:"toJSON",j:[Lh(null,!0)]}}),Gh(Ho.prototype,{toJSON:{name:"toJSON",j:[Lh(null,!0)]}}),Gh(Bo.prototype,{toJSON:{name:"toJSON",j:[Lh(null,!0)]}}),Gh(Zc.prototype,{toJSON:{name:"toJSON",j:[Lh(null,!0)]}}),Gh(Qc.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}]}}),Gh(rl.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}},Lh("displayName",!0)]},bd:{name:"unenroll",j:[zh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Hh},Lh(),"multiFactorInfoIdentifier")]}}),Gh(Ph.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Wh(yi,"parseLink",Ci,[Lh("link")]),Wh(yh,"assertion",function(t){return new el(t)},[qh("phone")]),function(){if(void 0===Wf||!Wf.INTERNAL||!Wf.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ai,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:oi,VERIFY_AND_CHANGE_EMAIL:si,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Jl,AuthCredential:oo,Error:E};Wh(t,"EmailAuthProvider",To,[]),Wh(t,"FacebookAuthProvider",mo,[]),Wh(t,"GithubAuthProvider",bo,[]),Wh(t,"GoogleAuthProvider",_o,[]),Wh(t,"TwitterAuthProvider",Io,[]),Wh(t,"OAuthProvider",go,[Lh("providerId")]),Wh(t,"SAMLAuthProvider",vo,[Lh("providerId")]),Wh(t,"PhoneAuthProvider",Po,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof Jl)}}]),Wh(t,"RecaptchaVerifier",Ph,[zh(Lh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Vh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof Wf.app.App)}}]),Wh(t,"ActionCodeURL",yi,[]),Wh(t,"PhoneMultiFactorGenerator",yh,[]),Wf.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Jl(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),Wf.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:w((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:w(t.nc,t),addAuthTokenListener:w(t.cc,t),removeAuthTokenListener:w(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Wf.registerVersion("@firebase/auth","0.16.6"),Wf.INTERNAL.extendNamespace({User:fl})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var cN=function(){var t=function(){function t(e,n){v(this,t),this.fb=e,this.authService=n,this.user={},this.message="",this.errormessage="",this.classCreated=new Hs,this.myForm=this.fb.group({className:["",[eh.required]],subject:["",[eh.required]]}),this.getProfile()}return m(t,[{key:"getProfile",value:function(){var t=this,e=Wf.auth().currentUser.uid;Wf.firestore().collection("users").doc(e).get().then(function(e){t.user=e.data(),t.user.displayName=t.user.firstName+" "+t.user.lastName,t.user.id=e.id}).catch(function(t){console.log(t)})}},{key:"ngOnInit",value:function(){}},{key:"createClass",value:function(t){var e=this,n=t.value.className,r=t.value.subject;this.cCode=Math.random().toString(36).substr(2,5),Wf.firestore().collection("classes").add({name:this.user.displayName,email:this.user.email,cCode:this.cCode,subject:r,className:n,status:"allow",type:"teacher",owner:Wf.auth().currentUser.uid}).then(function(t){console.log(t),e.classCreated.emit(),e.message="Class Created Successfully"}).catch(function(t){console.log(t),e.errormessage="Try Again"})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(jo(Jh),jo(QO))},t.\u0275cmp=te({type:t,selectors:[["app-create"]],outputs:{classCreated:"classCreated"},decls:10,vars:6,consts:[[1,"mb-2","mt-2",2,"text-align","center"],[3,"formGroup","ngSubmit"],["type","text","placeholder","Class Name",1,"form-control","mt-1","form_input",3,"formControl"],["type","text","placeholder","Subject",1,"form-control","mt-1","form_input",3,"formControl"],["type","submit",1,"btn","btn-dark","btn-block","mt-2","submit_btn",3,"disabled"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-success"],[1,"alert","alert-danger"]],template:function(t,e){1&t&&(Ho(0,"div"),Ho(1,"h5",0),ya(2,"Create Class"),zo(),Ho(3,"form",1),Yo("ngSubmit",function(){return e.createClass(e.myForm)}),Go(4,"input",2),Go(5,"input",3),Ho(6,"button",4),ya(7," Create Class "),zo(),zo(),Uo(8,sN,2,1,"div",5),Uo(9,uN,2,1,"div",6),zo()),2&t&&(fi(3),qo("formGroup",e.myForm),fi(1),qo("formControl",e.myForm.controls.className),fi(1),qo("formControl",e.myForm.controls.subject),fi(1),qo("disabled",!e.myForm.valid),fi(2),qo("ngIf",e.message.length>0),fi(1),qo("ngIf",e.errormessage.length>0))},directives:[Bh,wh,Qh,Yl,bh,Kh,ol],styles:[".card-title[_ngcontent-%COMP%]{margin-bottom:20px}.form_input[_ngcontent-%COMP%]{padding:25px;font-size:18px}.form_input[_ngcontent-%COMP%]:focus{color:#000;background-color:#f8f8f8}.submit_btn[_ngcontent-%COMP%]{padding:10px;font-size:20px}div[_ngcontent-%COMP%]{font-family:poppins,sans-serif}@media only screen and (max-width:768px){.form_input[_ngcontent-%COMP%]{padding:10px;font-size:14px}.submit_btn[_ngcontent-%COMP%]{padding:10px;font-size:18px}}"]}),t}();function lN(t,e){if(1&t&&(Ho(0,"div",8),ya(1),zo()),2&t){var n=Jo();fi(1),wa(" ",n.message," ")}}function hN(t,e){if(1&t&&(Ho(0,"div",9),ya(1),zo()),2&t){var n=Jo();fi(1),wa(" ",n.errormessage," ")}}var fN=function(){var t=function(){function t(e,n){v(this,t),this.fb=e,this.authService=n,this.user={},this.joined={},this.message="",this.errormessage="",this.classData={},this.studentCreated=new Hs,this.myForm=this.fb.group({className:["",[eh.required]],subject:["",[eh.required]],cCode:["",[eh.required]]}),this.getProfile()}return m(t,[{key:"getProfile",value:function(){var t=this,e=Wf.auth().currentUser.uid;Wf.firestore().collection("users").doc(e).get().then(function(e){t.user=e.data(),t.user.displayName=t.user.firstName+" "+t.user.lastName,t.user.id=e.id}).catch(function(e){console.log(e),t.errormessage=e})}},{key:"ngOnInit",value:function(){}},{key:"createStudent",value:function(t){var e=this,n=t.value.className,r=t.value.cCode,i=t.value.subject,o=Wf.firestore().collection("classes");o.where("cCode","==",r).get().then(function(t){t.empty?e.errormessage="Class Code Invalid Try Again":o.where("cCode","==",r).where("owner","==",Wf.auth().currentUser.uid).get().then(function(t){t.empty?Wf.firestore().collection("classes").add({name:e.user.displayName,email:e.user.email,cCode:r,subject:i,className:n,status:"restrict",type:"student",owner:Wf.auth().currentUser.uid}).then(function(t){console.log(t),e.studentCreated.emit(),e.message="Join Request send Successfully"}).catch(function(t){console.log(t),e.errormessage="Try Again"}):e.errormessage="Already in the Class"})})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(jo(Jh),jo(QO))},t.\u0275cmp=te({type:t,selectors:[["app-join"]],outputs:{studentCreated:"studentCreated"},decls:11,vars:7,consts:[[1,"mb-2","mt-2",2,"text-align","center"],[3,"formGroup","ngSubmit"],["type","text","placeholder","Class Code",1,"form-control","mt-1","form_input",3,"formControl"],["type","text","placeholder","Teacher Name",1,"form-control","mt-1","form_input",3,"formControl"],["type","text","placeholder","Subject",1,"form-control","mt-1","form_input",3,"formControl"],["type","submit",1,"btn","btn-success","btn-block","mt-2","submit_btn",3,"disabled"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-success"],[1,"alert","alert-danger"]],template:function(t,e){1&t&&(Ho(0,"div"),Ho(1,"h5",0),ya(2,"Join Class"),zo(),Ho(3,"form",1),Yo("ngSubmit",function(){return e.createStudent(e.myForm)}),Go(4,"input",2),Go(5,"input",3),Go(6,"input",4),Ho(7,"button",5),ya(8," Join Class "),zo(),zo(),Uo(9,lN,2,1,"div",6),Uo(10,hN,2,1,"div",7),zo()),2&t&&(fi(3),qo("formGroup",e.myForm),fi(1),qo("formControl",e.myForm.controls.cCode),fi(1),qo("formControl",e.myForm.controls.className),fi(1),qo("formControl",e.myForm.controls.subject),fi(1),qo("disabled",!e.myForm.valid),fi(2),qo("ngIf",e.message.length>0),fi(1),qo("ngIf",e.errormessage.length>0))},directives:[Bh,wh,Qh,Yl,bh,Kh,ol],styles:[".card-title[_ngcontent-%COMP%]{margin-bottom:20px}.form_input[_ngcontent-%COMP%]{padding:25px;font-size:18px}.form_input[_ngcontent-%COMP%]:focus{color:#000;background-color:#f8f8f8}.submit_btn[_ngcontent-%COMP%]{padding:10px;font-size:20px}div[_ngcontent-%COMP%]{font-family:poppins,sans-serif}@media only screen and (max-width:768px){.form_input[_ngcontent-%COMP%]{padding:10px;font-size:14px}.submit_btn[_ngcontent-%COMP%]{padding:10px;font-size:18px}}"]}),t}();function dN(t,e){if(1&t&&(Ho(0,"div",1),Ho(1,"div",2),Ho(2,"div",3),Go(3,"img",4),Ho(4,"button",5),ya(5," Edit "),zo(),zo(),Ho(6,"div",6),Ho(7,"h4"),ya(8),zo(),Ho(9,"h5"),ya(10),zo(),Go(11,"br"),Ho(12,"p"),Ho(13,"a",7),ya(14,"Go To Classroom "),Go(15,"i",8),zo(),zo(),Go(16,"div",9),zo(),zo(),zo()),2&t){var n=Jo();fi(4),ta("routerLink","/edit/",n.studentData.cCode,""),fi(4),ba(n.studentData.subject),fi(2),ba(n.studentData.className),fi(3),ta("routerLink","/teacher/",n.studentData.cCode,"")}}var pN=function(){var t=function(){function t(){v(this,t),this.studentData={},this.user={}}return m(t,[{key:"ngOnInit",value:function(){this.studentData=this.class.data(),this.user=Wf.auth().currentUser}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=te({type:t,selectors:[["app-joinclass"]],inputs:{class:"class"},decls:1,vars:1,consts:[["class","container-fluid class_card mt-4",4,"ngIf"],[1,"container-fluid","class_card","mt-4"],[1,"row"],[1,"col-5","left_card"],["src","/assets/class_icon.jpg",1,"class_img"],[1,"btn","btn-primary","mt-3","btn-block",3,"routerLink"],[1,"col-7","right_card","align-items-center"],[1,"card-link",3,"routerLink"],[1,"fas","fa-angle-double-right"],[1,"d-flex","justify-content-center","align-item-center"]],template:function(t,e){1&t&&Uo(0,dN,17,4,"div",0),2&t&&qo("ngIf",e.user&&e.user.uid==e.studentData.owner&&"allow"==e.studentData.status)},directives:[ol,EO,CO],styles:["div[_ngcontent-%COMP%]{font-family:poppins,sans-serif}.class_card[_ngcontent-%COMP%]{background-color:#f8f8f8;box-shadow:2px 2px 5px grey,-2px -2px 5px #d3d3d3;border-radius:10px;padding:10px}.left_card[_ngcontent-%COMP%]{text-align:center;border:solid #789;border-width:0 1px 0 0}.class_img[_ngcontent-%COMP%]{width:100px;height:100px;filter:hue-rotate(180deg)}.right_card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px;color:#5959ff;text-align:center}.card-link[_ngcontent-%COMP%]:hover{letter-spacing:1px;transition:letter-spacing .5s}.right_card[_ngcontent-%COMP%]{padding:20px}.right_card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:16px;color:#ff8a8a}@media only screen and (max-width:800px){.class_img[_ngcontent-%COMP%]{width:80px;height:80px}.right_card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:15px}.right_card[_ngcontent-%COMP%]{padding:12px}.card-link[_ngcontent-%COMP%], .right_card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:12px}}"]}),t}();function vN(t,e){if(1&t&&(Ho(0,"div",1),Ho(1,"div",2),Ho(2,"div",3),Go(3,"img",4),Ho(4,"button",5),ya(5," Edit "),zo(),zo(),Ho(6,"div",6),Ho(7,"h4"),ya(8),zo(),Ho(9,"h5"),ya(10),zo(),Go(11,"br"),Ho(12,"p"),Ho(13,"a",7),ya(14,"Go To Classroom "),Go(15,"i",8),zo(),zo(),Go(16,"div",9),zo(),zo(),zo()),2&t){var n=Jo();fi(4),ta("routerLink","/edit/",n.classData.cCode,""),fi(4),_a("",n.classData.className,"(",n.classData.subject,")"),fi(2),wa("Class Code: ",n.classData.cCode,""),fi(3),ta("routerLink","/teacher/",n.classData.cCode,"")}}var gN=function(){var t=function(){function t(){v(this,t),this.onDelete=new Hs,this.classData={},this.user={}}return m(t,[{key:"ngOnInit",value:function(){this.classData=this.class.data(),this.user=Wf.auth().currentUser}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=te({type:t,selectors:[["app-my-class"]],inputs:{class:"class"},outputs:{onDelete:"onDelete"},decls:1,vars:1,consts:[["class","container-fluid class_card mt-4",4,"ngIf"],[1,"container-fluid","class_card","mt-4"],[1,"row"],[1,"col-5","left_card"],["src","/assets/class_icon.jpg",1,"class_img"],[1,"btn","btn-primary","mt-3","btn-block",3,"routerLink"],[1,"col-7","right_card","align-items-center"],[1,"card-link",3,"routerLink"],[1,"fas","fa-angle-double-right"],[1,"d-flex","justify-content-center","align-item-center"]],template:function(t,e){1&t&&Uo(0,vN,17,5,"div",0),2&t&&qo("ngIf",e.user&&e.user.uid==e.classData.owner&&"teacher"==e.classData.type)},directives:[ol,EO,CO],styles:["div[_ngcontent-%COMP%]{font-family:poppins,sans-serif}.class_card[_ngcontent-%COMP%]{background-color:#fff;box-shadow:2px 2px 5px grey,-2px -2px 5px #d3d3d3;border-radius:10px;padding:10px}.left_card[_ngcontent-%COMP%]{text-align:center;border:solid #789;border-width:0 1px 0 0}.class_img[_ngcontent-%COMP%]{width:100px;height:100px}.right_card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px;color:#5959ff;text-align:center}.card-link[_ngcontent-%COMP%]:hover{letter-spacing:1px;transition:letter-spacing .5s}.right_card[_ngcontent-%COMP%]{padding:20px}.right_card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:16px;color:#ff8a8a}@media only screen and (max-width:800px){.class_img[_ngcontent-%COMP%]{width:80px;height:80px}.right_card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:15px}.right_card[_ngcontent-%COMP%]{padding:12px}.card-link[_ngcontent-%COMP%], .right_card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:12px}}"]}),t}();function mN(t,e){1&t&&Go(0,"app-joinclass"),2&t&&ua(e.$implicit)}function yN(t,e){1&t&&Go(0,"app-my-class"),2&t&&ua(e.$implicit)}function bN(t,e){if(1&t&&(Ho(0,"div",31),ya(1),zo()),2&t){var n=Jo();fi(1),wa(" ",n.leaveSuccess," ")}}function wN(t,e){if(1&t){var n=Ko();Ho(0,"tr"),Ho(1,"td"),ya(2),zo(),Ho(3,"td"),ya(4),zo(),Ho(5,"td"),ya(6),zo(),Ho(7,"td"),Ho(8,"button",32),Yo("click",function(){var t=Ue(n).$implicit;return Jo().leave(t.id)}),ya(9," Exit "),zo(),zo(),zo()}if(2&t){var r=e.$implicit;ua(r),fi(2),ba(r.data().cCode),fi(2),ba(r.data().className),fi(2),ba(r.data().subject)}}var _N=function(){var t=function(){function t(){var e=this;v(this,t),this.user={},this.classes=[],this.students=[],this.requestSend=[],this.leaveSuccess="",this.user=Wf.auth().currentUser,this.getClasses(),this.getStudents(),Wf.firestore().collection("classes").where("type","==","student").where("status","==","restrict").where("owner","==",this.user.uid).get().then(function(t){e.requestSend=t.docs,e.totalreq=e.requestSend.length}).catch(function(t){console.log(t)})}return m(t,[{key:"ngOnInit",value:function(){}},{key:"getClasses",value:function(){var t=this;Wf.firestore().collection("classes").where("type","==","teacher").get().then(function(e){t.classes=e.docs}).catch(function(t){console.log(t)})}},{key:"getStudents",value:function(){var t=this;Wf.firestore().collection("classes").where("type","==","student").get().then(function(e){t.students=e.docs}).catch(function(t){console.log(t)})}},{key:"onStudentCreated",value:function(){this.getStudents(),this.students=[]}},{key:"onClassCreated",value:function(){this.getClasses(),this.classes=[]}},{key:"onDelete",value:function(){this.classes=[],this.getClasses()}},{key:"leave",value:function(t){var e=this;Wf.firestore().collection("classes").doc(t).delete().then(function(){e.leaveSuccess="Class Exited Successfully"})}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=te({type:t,selectors:[["app-class"]],decls:54,vars:5,consts:[[1,"container","mt-2","mb-5"],[1,"row","mb-5","mt-5"],[1,"col-md-6","bg-light"],["data-toggle","collapse","href","#collapseExample2","role","button","aria-expanded","false","aria-controls","collapseExample2",1,"btn","btn-dark","btn-block","btn_drop","mt-2"],[1,"fas","fa-chevron-down"],["id","collapseExample2",1,"collapse"],[3,"class",4,"ngFor","ngForOf"],[1,"mt-5","mb-5",2,"text-align","center"],["data-toggle","collapse","href","#collapseExample1","role","button","aria-expanded","false","aria-controls","collapseExample1",1,"btn","btn-primary","btn-block","mt-2","btn_drop"],["id","collapseExample1",1,"collapse"],["id","nav-tab","role","tablist",1,"nav","nav-tabs"],["id","nav-home-tab","data-toggle","tab","href","#nav-home","role","tab","aria-controls","nav-home","aria-selected","true",1,"nav-link","active"],["id","nav-profile-tab","data-toggle","tab","href","#nav-profile","role","tab","aria-controls","nav-profile","aria-selected","false",1,"nav-link"],["id","nav-tabContent",1,"tab-content"],["id","nav-home","role","tabpanel","aria-labelledby","nav-home-tab",1,"tab-pane","fade","active","show"],[1,"container"],[1,"row"],[1,"col-md-6"],[3,"classCreated"],[3,"studentCreated"],[2,"width","100%"],[2,"width","80%","margin-left","10%"],[2,"width","60%","margin-left","20%"],[2,"width","40%","margin-left","30%"],[2,"width","20%","margin-left","40%"],["id","nav-profile","role","tabpanel","aria-labelledby","nav-profile-tab",1,"tab-pane","fade"],[1,"mt-4",2,"text-align","center"],["class","alert alert-success",4,"ngIf"],[1,"table-responsive"],[1,"table","table-bordered","mt-2","mb-3",2,"font-size","12px"],["scope","col"],[1,"alert","alert-success"],[1,"btn","btn-secondary","btn-block",3,"click"]],template:function(t,e){1&t&&(Ho(0,"div",0),Ho(1,"div",1),Ho(2,"div",2),Ho(3,"p"),Ho(4,"a",3),ya(5," My Joined Classes "),Go(6,"i",4),zo(),zo(),Ho(7,"div",5),Uo(8,mN,1,2,"app-joinclass",6),Ho(9,"h4",7),ya(10,"Join Classes"),zo(),zo(),zo(),Ho(11,"div",2),Ho(12,"p"),Ho(13,"a",8),ya(14," My Created Classes "),Go(15,"i",4),zo(),zo(),Ho(16,"div",9),Uo(17,yN,1,2,"app-my-class",6),Ho(18,"h4",7),ya(19,"Create Classes"),zo(),zo(),zo(),zo(),Ho(20,"nav"),Ho(21,"div",10),Ho(22,"a",11),ya(23,"Create/Join"),zo(),Ho(24,"a",12),ya(25),zo(),zo(),zo(),Ho(26,"div",13),Ho(27,"div",14),Ho(28,"div",15),Ho(29,"div",16),Ho(30,"div",17),Ho(31,"app-create",18),Yo("classCreated",function(){return e.onClassCreated()}),zo(),zo(),Ho(32,"div",17),Ho(33,"app-join",19),Yo("studentCreated",function(){return e.onStudentCreated()}),zo(),zo(),zo(),zo(),Go(34,"hr",20),Go(35,"hr",21),Go(36,"hr",22),Go(37,"hr",23),Go(38,"hr",24),zo(),Ho(39,"div",25),Ho(40,"h4",26),ya(41,"Requests Send"),zo(),Uo(42,bN,2,1,"div",27),Ho(43,"div",28),Ho(44,"table",29),Ho(45,"tr"),Ho(46,"th",30),ya(47,"Class Code"),zo(),Ho(48,"th",30),ya(49,"Teacher"),zo(),Ho(50,"th",30),ya(51,"Subject"),zo(),Go(52,"th",30),zo(),Uo(53,wN,10,5,"tr",6),zo(),zo(),zo(),zo(),zo()),2&t&&(fi(8),qo("ngForOf",e.students),fi(9),qo("ngForOf",e.classes),fi(8),wa("Requests Sent (",e.totalreq,")"),fi(17),qo("ngIf",e.leaveSuccess.length>0),fi(11),qo("ngForOf",e.requestSend))},directives:[rl,cN,fN,ol,pN,gN],styles:[".btn_drop[_ngcontent-%COMP%]{padding:10px;font-size:20px;border-radius:0}.btn_drop[_ngcontent-%COMP%]:hover{letter-spacing:2px;transition:letter-spacing .5s}.btn_add[_ngcontent-%COMP%]{width:120px;height:80px;box-shadow:2px 2px 5px grey,-2px -2px 5px #d3d3d3;font-size:20px;text-align:center;background-color:#6877ff;color:#fff}div[_ngcontent-%COMP%]{font-family:poppins,sans-serif}.btn_add[_ngcontent-%COMP%]:hover{letter-spacing:2px;transition:letter-spacing .5s}"]}),t}();function kN(t,e){if(1&t&&(Ho(0,"div",15),ya(1),zo()),2&t){var n=Jo();fi(1),wa(" ",n.message," ")}}var IN=function(){var t=function(){function t(){v(this,t),this.user={},this.getProfile()}return m(t,[{key:"ngOnInit",value:function(){}},{key:"getProfile",value:function(){var t=this,e=Wf.auth().currentUser.uid;Wf.firestore().collection("users").doc(e).get().then(function(e){t.user=e.data(),t.user.displayName=t.user.firstName+" "+t.user.lastName,t.user.id=e.id}).catch(function(t){console.log(t)})}},{key:"update",value:function(){var t=this;this.message="Updating Profile...",Wf.auth().currentUser.updateProfile({displayName:this.user.displayName,photoURL:this.user.photoURL}).then(function(){var e=Wf.auth().currentUser.uid;Wf.firestore().collection("users").doc(e).update({firstName:t.user.firstName,lastName:t.user.lastName}).then(function(){t.message="Profile Updated Successfully."}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=te({type:t,selectors:[["app-profile"]],decls:27,vars:5,consts:[[1,"container"],[1,"row"],[1,"col-md-4"],[1,"img-circle",3,"src"],[1,"img_text"],[1,"col-md-8","mt-5"],[1,"form-group","row"],[1,"col-md-5"],["type","text","placeholder","First Name",1,"form-control","form_input",3,"ngModel","ngModelChange"],[1,"col-md-7"],["type","text","placeholder","Last Name",1,"form-control","form_input",3,"ngModel","ngModelChange"],[1,"col-md-6"],["type","email","readonly","",1,"form-control","form_input",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","btn-block","submit_btn","mt-3",3,"click"],["class","alert alert-success btn-block mt-2 fade show pull-left","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-success","btn-block","mt-2","fade","show","pull-left"]],template:function(t,e){1&t&&(Ho(0,"div",0),Ho(1,"h1"),ya(2,"Profile"),zo(),Ho(3,"div",1),Ho(4,"div",2),Go(5,"img",3),Ho(6,"p",4),ya(7,"Profile Image (By Default)"),zo(),zo(),Ho(8,"div",5),Ho(9,"div",6),Ho(10,"div",7),Ho(11,"h4"),ya(12,"First Name"),zo(),Ho(13,"input",8),Yo("ngModelChange",function(t){return e.user.firstName=t}),zo(),zo(),Ho(14,"div",9),Ho(15,"h4"),ya(16,"Last Name"),zo(),Ho(17,"input",10),Yo("ngModelChange",function(t){return e.user.lastName=t}),zo(),zo(),zo(),Ho(18,"div",6),Ho(19,"div",11),Ho(20,"h4"),ya(21,"Email"),zo(),Ho(22,"input",12),Yo("ngModelChange",function(t){return e.user.email=t}),zo(),zo(),Ho(23,"div",11),Ho(24,"button",13),Yo("click",function(){return e.update()}),ya(25," Update "),zo(),zo(),zo(),zo(),zo(),Uo(26,kN,2,1,"div",14),zo()),2&t&&(fi(5),qo("src",e.user.photoURL,_r),fi(8),qo("ngModel",e.user.firstName),fi(4),qo("ngModel",e.user.lastName),fi(5),qo("ngModel",e.user.email),fi(4),qo("ngIf",e.message))},directives:[Yl,bh,qh,ol],styles:["div[_ngcontent-%COMP%]{font-family:poppins,sans-serif}.container[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px;margin-top:25px}.img-circle[_ngcontent-%COMP%]{width:80%}.img_text[_ngcontent-%COMP%]{font-size:20px;margin-top:20px}.form_input[_ngcontent-%COMP%]{padding:25px;font-size:18px;margin-bottom:15px}.form_input[_ngcontent-%COMP%]:focus{color:#000;background-color:#f8f8f8}.submit_btn[_ngcontent-%COMP%]{padding:15px;font-size:25px}@media only screen and (max-width:800px){.img-circle[_ngcontent-%COMP%]{width:150px;height:auto}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:30px}.img_text[_ngcontent-%COMP%]{font-size:12px}.form_input[_ngcontent-%COMP%]{padding:15px;font-size:15px}.submit_btn[_ngcontent-%COMP%]{padding:10px;font-size:18px}}"]}),t}();function SN(t,e){1&t&&(Ho(0,"div",2),ya(1," You are not the user of this class\n"),zo())}function EN(t,e){if(1&t&&(Ho(0,"div",47),Ho(1,"div",48),Ho(2,"h1"),ya(3),zo(),Go(4,"hr",28),Ho(5,"div",4),Ho(6,"div",49),Ho(7,"h4"),ya(8),zo(),zo(),Ho(9,"div",49),Ho(10,"h4"),Ho(11,"span"),ya(12),zo(),zo(),zo(),zo(),Go(13,"hr",28),Ho(14,"div",4),Ho(15,"div",50),Ho(16,"h4"),ya(17),zo(),zo(),zo(),zo(),zo()),2&t){var n=e.$implicit;ua(n),fi(3),_a(" ",n.data().subject," (",n.data().className,") "),fi(5),wa(" ",n.data().email," "),fi(4),wa("( ",n.data().cCode," )"),fi(5),ba(n.data().name)}}function CN(t,e){if(1&t&&(Ho(0,"div",4),Uo(1,EN,18,7,"div",46),zo()),2&t){var n=Jo(2);fi(1),qo("ngForOf",n.teacherClass)}}function TN(t,e){if(1&t&&(Ho(0,"div",47),Ho(1,"div",48),Ho(2,"h1"),ya(3),zo(),Go(4,"hr",28),Ho(5,"div",4),Ho(6,"div",51),Ho(7,"h4"),ya(8),zo(),zo(),Go(9,"div",51),zo(),Go(10,"hr",28),Ho(11,"div",4),Ho(12,"div",50),Ho(13,"h4"),ya(14),zo(),zo(),zo(),zo(),zo()),2&t){var n=e.$implicit,r=Jo(3);ua(n),fi(3),_a(" ",n.data().subject," (",n.data().className,") "),fi(5),wa(" ",r.temail," "),fi(6),wa("You: ",n.data().name,"")}}function AN(t,e){if(1&t&&(Ho(0,"div",4),Uo(1,TN,15,6,"div",46),zo()),2&t){var n=Jo(2);fi(1),qo("ngForOf",n.currentStudent)}}function xN(t,e){if(1&t&&(Ho(0,"div",56),ya(1),zo()),2&t){var n=Jo(3);fi(1),wa(" ",n.addNotice," ")}}function ON(t,e){if(1&t){var n=Ko();Ho(0,"div",4),Ho(1,"div",52),Ho(2,"h6",43),ya(3,"Share With Class"),zo(),Uo(4,xN,2,1,"div",13),Ho(5,"form",53),Yo("ngSubmit",function(){Ue(n);var t=Jo(2);return t.createNotice(t.noticeForm)}),Ho(6,"textarea",54),ya(7,"              "),zo(),Ho(8,"button",55),ya(9," Send "),zo(),zo(),zo(),zo()}if(2&t){var r=Jo(2);fi(4),qo("ngIf",r.addNotice.length>0),fi(1),qo("formGroup",r.noticeForm),fi(1),qo("formControl",r.noticeForm.controls.content),fi(2),qo("disabled",!r.noticeForm.valid)}}function NN(t,e){if(1&t&&(Ho(0,"div",56),ya(1),zo()),2&t){var n=Jo(2);fi(1),wa(" ",n.deleteNotice1," ")}}function DN(t,e){if(1&t){var n=Ko();Ho(0,"button",60),Yo("click",function(){Ue(n);var t=Jo().$implicit;return Jo(2).deleteNotice(t.id)}),ya(1," Remove "),zo()}}function PN(t,e){if(1&t&&(Ho(0,"div",57),Ho(1,"p"),ya(2),zo(),Ho(3,"p",58),ya(4),js(5,"date"),Uo(6,DN,2,0,"button",59),zo(),zo()),2&t){var n=e.$implicit,r=Jo(2);ua(n),fi(2),ba(n.data().content),fi(2),wa(" ",qs(5,5,n.data().created.toDate(),"MMM dd, yyyy (h:mm a)")," "),fi(2),qo("ngIf","teacher"==r.currentUser)}}function RN(t,e){if(1&t&&(Ho(0,"a",61),ya(1),zo()),2&t){var n=Jo(2);fi(1),wa("Req (",n.totalrequests,")")}}function MN(t,e){if(1&t&&(Ho(0,"div",62),ya(1),zo()),2&t){var n=Jo(2);fi(1),wa(" ",n.deleteSt," ")}}function LN(t,e){if(1&t){var n=Ko();Ho(0,"button",70),Yo("click",function(){Ue(n);var t=Jo(2).$implicit;return Jo(2).deleteStudent(t.id)}),ya(1," Remove "),zo()}}function FN(t,e){if(1&t&&(Ho(0,"div"),Uo(1,LN,2,0,"button",69),zo()),2&t){var n=e.$implicit,r=Jo(3);ua(n),fi(1),qo("ngIf","teacher"==r.currentUser)}}function VN(t,e){if(1&t&&(Ho(0,"div",63),Ho(1,"div",64),Ho(2,"div",65),Ho(3,"div",66),Go(4,"img",67),Uo(5,FN,2,3,"div",36),zo(),Ho(6,"div",68),Ho(7,"h4"),Ho(8,"b"),ya(9),zo(),zo(),Go(10,"hr",28),Ho(11,"h5"),ya(12),zo(),zo(),zo(),zo(),zo()),2&t){var n=e.$implicit,r=Jo(2);ua(n),fi(5),qo("ngForOf",r.teacherClass),fi(4),ba(n.data().name),fi(3),ba(n.data().email)}}function UN(t,e){if(1&t&&(Ho(0,"div",56),ya(1),zo()),2&t){var n=Jo(3);fi(1),wa(" ",n.addMaterial," ")}}function jN(t,e){if(1&t){var n=Ko();Ho(0,"div"),Ho(1,"div",4),Ho(2,"div",71),Ho(3,"h6"),ya(4,"Add Material"),zo(),Ho(5,"form",53),Yo("ngSubmit",function(){Ue(n);var t=Jo(2);return t.createMaterial(t.materialForm)}),Ho(6,"div",4),Ho(7,"div",63),Ho(8,"h6",72),ya(9,"Material Description"),zo(),Go(10,"input",73),zo(),Ho(11,"div",63),Ho(12,"h6",72),ya(13,"Material Link"),zo(),Go(14,"input",74),Ho(15,"button",75),ya(16," Add "),zo(),Uo(17,UN,2,1,"div",13),zo(),zo(),zo(),zo(),zo(),zo()}if(2&t){var r=Jo(2);fi(5),qo("formGroup",r.materialForm),fi(5),qo("formControl",r.materialForm.controls.material_des),fi(4),qo("formControl",r.materialForm.controls.material_link),fi(1),qo("disabled",!r.materialForm.valid),fi(2),qo("ngIf",r.addMaterial.length>0)}}function qN(t,e){if(1&t&&(Ho(0,"div",76),ya(1),zo()),2&t){var n=Jo(2);fi(1),wa(" ",n.deleteSuccess," ")}}function BN(t,e){if(1&t){var n=Ko();Ho(0,"button",79),Yo("click",function(){Ue(n);var t=Jo().$implicit;return Jo(2).deletematerial(t.id)}),ya(1," Remove "),zo()}}function HN(t,e){if(1&t&&(Ho(0,"tr"),Ho(1,"td"),ya(2),zo(),Ho(3,"td",40),Ho(4,"a",77),ya(5,"View"),zo(),Uo(6,BN,2,0,"button",78),zo(),zo()),2&t){var n=e.$implicit,r=Jo(2);ua(n),fi(2),ba(n.data().desc),fi(2),$o("href",n.data().link,_r),fi(2),qo("ngIf","teacher"==r.currentUser)}}function zN(t,e){if(1&t&&(Ho(0,"div",56),ya(1),zo()),2&t){var n=Jo(3);fi(1),wa(" ",n.Assignment," ")}}function GN(t,e){if(1&t){var n=Ko();Ho(0,"div",80),Ho(1,"h6",40),ya(2,"Create Assignment"),zo(),Ho(3,"form",53),Yo("ngSubmit",function(){Ue(n);var t=Jo(2);return t.createAssignment(t.assignmentForm)}),Ho(4,"div",4),Ho(5,"div",63),Ho(6,"small",40),ya(7,"Assignment Name"),zo(),Go(8,"input",81),zo(),Ho(9,"div",63),Ho(10,"small",40),ya(11,"Due Date"),zo(),Go(12,"input",82),zo(),zo(),Go(13,"textarea",83),Ho(14,"button",84),ya(15," Create Assignment "),zo(),zo(),Uo(16,zN,2,1,"div",13),zo()}if(2&t){var r=Jo(2);fi(3),qo("formGroup",r.assignmentForm),fi(5),qo("formControl",r.assignmentForm.controls.name),fi(4),qo("formControl",r.assignmentForm.controls.currentDate),fi(1),qo("formControl",r.assignmentForm.controls.desc),fi(1),qo("disabled",!r.assignmentForm.valid),fi(2),qo("ngIf",r.Assignment.length>0)}}function KN(t,e){if(1&t&&(Ho(0,"div",85),Ho(1,"h6"),ya(2),zo(),Go(3,"hr"),Ho(4,"p",86),ya(5),zo(),Go(6,"hr"),Ho(7,"div",4),Ho(8,"div",49),Ho(9,"p"),Ho(10,"b"),ya(11,"Due Date: "),zo(),ya(12),zo(),zo(),Ho(13,"div",49),Ho(14,"p",87),Ho(15,"b"),ya(16,"Created On: "),zo(),ya(17),js(18,"date"),zo(),zo(),zo(),Ho(19,"div",4),Go(20,"div",49),Ho(21,"div",49),Ho(22,"button",88),ya(23," View Details "),zo(),zo(),zo(),zo()),2&t){var n=e.$implicit;ua(n),fi(2),ba(n.data().name),fi(3),ba(n.data().desc),fi(7),ba(n.data().dueDate),fi(5),wa(" ",qs(18,7,n.data().createDate.toDate(),"MMM dd, yyyy (h:mm a)")," "),fi(5),ta("routerLink","/assignment/",n.data().assignmentId,"")}}function WN(t,e){if(1&t&&(Ho(0,"div",56),ya(1),zo()),2&t){var n=Jo(2);fi(1),wa(" ",n.allowMessage," ")}}function QN(t,e){if(1&t){var n=Ko();Ho(0,"tr"),Ho(1,"td"),ya(2),zo(),Ho(3,"td"),ya(4),zo(),Ho(5,"td"),Ho(6,"button",89),Yo("click",function(){var t=Ue(n).$implicit;return Jo(2).allowStudent(t.id)}),ya(7," Allow "),zo(),zo(),zo()}if(2&t){var r=e.$implicit;ua(r),fi(2),ba(r.data().name),fi(2),ba(r.data().email)}}function YN(t,e){if(1&t&&(Ho(0,"div",3),Ho(1,"div",4),Go(2,"div",5),Ho(3,"div",6),Uo(4,CN,2,1,"div",7),Uo(5,AN,2,1,"div",7),Ho(6,"div",8),Uo(7,ON,10,4,"div",7),Ho(8,"div",9),Ho(9,"div",10),Ho(10,"p"),Ho(11,"button",11),ya(12," All Notices "),Go(13,"i",12),zo(),zo(),Uo(14,NN,2,1,"div",13),Go(15,"br"),Ho(16,"div",14),Uo(17,PN,7,8,"div",15),Ho(18,"p",16),ya(19,"Notices Appear Here"),zo(),zo(),zo(),zo(),zo(),Ho(20,"div",17),Ho(21,"div",10),Ho(22,"nav"),Ho(23,"div",18),Ho(24,"a",19),ya(25),zo(),Ho(26,"a",20),ya(27,"Content"),zo(),Ho(28,"a",21),ya(29,"Assign"),zo(),Uo(30,RN,2,1,"a",22),zo(),zo(),Ho(31,"div",23),Ho(32,"div",24),Ho(33,"div",25),Ho(34,"h6",26),ya(35),zo(),Go(36,"br"),Uo(37,MN,2,1,"div",27),Go(38,"hr",28),Uo(39,VN,13,5,"div",29),zo(),zo(),Ho(40,"div",30),Uo(41,jN,18,5,"div",31),Ho(42,"div",32),Ho(43,"h6"),ya(44,"Materials Added"),zo(),Ho(45,"table",33),Uo(46,qN,2,1,"div",34),Ho(47,"thead"),Ho(48,"tr"),Ho(49,"th",35),ya(50,"Description"),zo(),Ho(51,"th",35),ya(52,"Link"),zo(),zo(),zo(),Uo(53,HN,7,5,"tr",36),zo(),zo(),zo(),Ho(54,"div",37),Uo(55,GN,17,6,"div",38),Ho(56,"div",39),Ho(57,"div",10),Ho(58,"h4",40),ya(59,"Assignments Appear Here"),zo(),Uo(60,KN,24,10,"div",41),zo(),zo(),zo(),Ho(61,"div",42),Ho(62,"h6",43),ya(63,"Requests"),zo(),Uo(64,WN,2,1,"div",13),Go(65,"hr"),Ho(66,"div",44),Ho(67,"table",45),Ho(68,"tr"),Ho(69,"th",35),ya(70,"Name"),zo(),Ho(71,"th",35),ya(72,"Email"),zo(),Go(73,"th",35),zo(),Uo(74,QN,8,4,"tr",36),zo(),zo(),zo(),zo(),zo(),zo(),zo(),zo(),zo()),2&t){var n=Jo();fi(4),qo("ngIf","teacher"==n.currentUser),fi(1),qo("ngIf","student"==n.currentUser),fi(2),qo("ngIf","teacher"==n.currentUser),fi(7),qo("ngIf",n.deleteNotice1.length>0),fi(3),qo("ngForOf",n.notices),fi(8),wa("People (",n.totalStudents,")"),fi(5),qo("ngIf","teacher"==n.currentUser),fi(5),wa(" Students (",n.totalStudents,") "),fi(2),qo("ngIf",n.deleteSt.length>0),fi(2),qo("ngForOf",n.studentClass),fi(2),qo("ngIf","teacher"==n.currentUser),fi(5),qo("ngIf",n.deleteSuccess.length>0),fi(7),qo("ngForOf",n.material),fi(2),qo("ngIf","teacher"==n.currentUser),fi(5),qo("ngForOf",n.assignment_list),fi(4),qo("ngIf",n.allowMessage.length>0),fi(10),qo("ngForOf",n.requests)}}var XN=function(){var t=function(){function t(n,r,i,o){var a=this;v(this,t),this.activatedRoute=n,this.ngZone=r,this.fb=i,this.authService=o,this.assignments=[],this.teacherClass=[],this.studentClass=[],this.currentUserClasses=[],this.requests=[],this.material=[],this.status=!0,this.current1=[],this.notices=[],this.assignment_list=[],this.currentStudent=[],this.addMaterial="",this.deleteSuccess="",this.allowMessage="",this.addNotice="",this.deleteNotice1="",this.Assignment="",this.deleteSt="",this.user={},this.class={},this.classId=" ",this.materialForm=this.fb.group({material_des:["",[eh.required]],material_link:["",[eh.required]]}),this.noticeForm=this.fb.group({content:["",[eh.required]]}),this.assignmentForm=this.fb.group({name:["",[eh.required]],desc:["",[eh.required]],currentDate:["",[eh.required]]});var s=Wf.auth().currentUser.uid;this.currentUserID=s;var u=this.activatedRoute.snapshot.paramMap.get("classId");this.classId=u,Wf.firestore().collection("classes").where("owner","==",s).where("status","==","allow").get().then(function(t){a.currentUserClasses=t.docs;var n,r=e(a.currentUserClasses);try{for(r.s();!(n=r.n()).done;){var i=n.value;i=i.data().cCode,a.current1.push(i)}}catch(o){r.e(o)}finally{r.f()}a.status=-1!=a.current1.indexOf(a.classId)}).catch(function(t){console.log(t)}),Wf.firestore().collection("classes").where("status","==","restrict").where("cCode","==",u).get().then(function(t){a.requests=t.docs,a.totalrequests=a.requests.length}).catch(function(t){console.log(t)}),Wf.firestore().collection("classes").where("cCode","==",u).where("owner","==",s).get().then(function(t){a.currentUserClasses=t.docs;var n,r=e(a.currentUserClasses);try{for(r.s();!(n=r.n()).done;){var i=n.value;a.currentUser=i.data().type,a.currentName=i.data().name}}catch(o){r.e(o)}finally{r.f()}}).catch(function(t){console.log(t)}),Wf.firestore().collection("notices").orderBy("created","desc").where("cCode","==",u).get().then(function(t){a.notices=t.docs}).catch(function(t){console.log(t)}),Wf.firestore().collection("classes").where("cCode","==",u).where("type","==","teacher").get().then(function(t){a.teacherClass=t.docs;var n,r=e(a.teacherClass);try{for(r.s();!(n=r.n()).done;){var i=n.value;a.temail=i.data().email}}catch(o){r.e(o)}finally{r.f()}}).catch(function(t){console.log(t)}),Wf.firestore().collection("materials").where("cCode","==",u).get().then(function(t){a.material=t.docs}).catch(function(t){console.log(t)}),Wf.firestore().collection("assignments").orderBy("createDate","desc").where("cCode","==",u).where("type","==","teacher").get().then(function(t){a.assignment_list=t.docs}).catch(function(t){console.log(t)}),Wf.firestore().collection("classes").where("cCode","==",u).where("type","==","student").where("status","==","allow").get().then(function(t){a.studentClass=t.docs,a.totalStudents=a.studentClass.length}).catch(function(t){console.log(t)}),Wf.firestore().collection("classes").where("cCode","==",u).where("type","==","student").where("owner","==",s).get().then(function(t){a.currentStudent=t.docs}).catch(function(t){console.log(t)})}return m(t,[{key:"ngOnInit",value:function(){}},{key:"createMaterial",value:function(t){var e=this,n=t.value.material_des,r=t.value.material_link;Wf.firestore().collection("materials").add({desc:n,link:r,cCode:this.classId,type:"teacher",owner:Wf.auth().currentUser.uid}).then(function(t){console.log(t),e.addMaterial="Material Added Successfully. Refresh the page."}).catch(function(t){console.log(t)})}},{key:"createAssignment",value:function(t){var e=this,n=t.value.desc,r=t.value.name,i=t.value.currentDate,o=Math.random().toString(36).substr(2,5);Wf.firestore().collection("assignments").add({user:this.currentName,desc:n,name:r,assignmentId:o,cCode:this.classId,type:"teacher",dueDate:i,createDate:Wf.firestore.FieldValue.serverTimestamp(),owner:Wf.auth().currentUser.uid}).then(function(t){console.log(t),e.Assignment="Assignment Created Successfully. Refresh the page."}).catch(function(t){console.log(t)})}},{key:"createNotice",value:function(t){var e=this,n=t.value.content;Wf.firestore().collection("notices").add({content:n,owner:this.currentUserID,cCode:this.classId,type:"teacher",created:Wf.firestore.FieldValue.serverTimestamp()}).then(function(t){console.log(t),e.addNotice="Posted Successfully.  Refresh the page."}).catch(function(t){console.log(t)})}},{key:"deletematerial",value:function(t){var e=this;Wf.firestore().collection("materials").doc(t).delete().then(function(){e.deleteSuccess="Material removed Successfully. Refresh the page. "})}},{key:"allowStudent",value:function(t){var e=this;Wf.firestore().collection("classes").doc(t).update({status:"allow"}).then(function(){e.allowMessage="Allowed Successfully"}).catch(function(t){console.log(t)})}},{key:"deleteNotice",value:function(t){var e=this;Wf.firestore().collection("notices").doc(t).delete().then(function(){e.deleteNotice1="Notice  removed Successfully. Refresh the page."})}},{key:"deleteStudent",value:function(t){var e=this;Wf.firestore().collection("classes").doc(t).delete().then(function(){e.deleteSt="Student Remove Successfully. Refresh the page."})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(jo(rx),jo(Cu),jo(Jh),jo(QO))},t.\u0275cmp=te({type:t,selectors:[["app-teacher"]],decls:2,vars:2,consts:[["class","container mt-5 mb-5",4,"ngIf"],["class","container",4,"ngIf"],[1,"container","mt-5","mb-5"],[1,"container"],[1,"row"],[1,"col-lg-1"],[1,"col-lg-10"],["class","row",4,"ngIf"],[1,"container-fluid"],[1,"row","mt-2"],[1,"col-md-12"],["type","button","data-toggle","collapse","data-target","#collapseExample","aria-expanded","false","aria-controls","collapseExample",1,"btn","btn-dark","btn-block"],[1,"fas","fa-chevron-down"],["class","alert alert-success",4,"ngIf"],["id","collapseExample",1,"collapse","mb-4","mt-2",2,"font-size","14px"],["class","card card-body p-2 mt-1",3,"class",4,"ngFor","ngForOf"],[1,"mt-3",2,"text-align","center"],[1,"row",2,"margin-bottom","200px"],["id","nav-tab","role","tablist",1,"nav","nav-tabs","d-flex","justify-content-center"],["id","nav-home-tab","data-toggle","tab","href","#nav-home","role","tab","aria-controls","nav-home","aria-selected","true",1,"nav-link","active"],["id","nav-profile-tab","data-toggle","tab","href","#nav-profile","role","tab","aria-controls","nav-profile","aria-selected","false",1,"nav-link"],["id","nav-contact-tab","data-toggle","tab","href","#nav-contact","role","tab","aria-controls","nav-contact","aria-selected","false",1,"nav-link"],["class","nav-link","id","nav-req-tab","data-toggle","tab","href","#nav-req","role","tab","aria-controls","nav-req","aria-selected","false",4,"ngIf"],["id","nav-tabContent",1,"tab-content"],["id","nav-home","role","tabpanel","aria-labelledby","nav-home-tab",1,"tab-pane","fade","show","active"],[1,"row","class_students"],[1,"student_text","mt-4"],["class","alert alert-success mt-2 mb-4",4,"ngIf"],[1,"hr_line"],["class","col-md-6",3,"class",4,"ngFor","ngForOf"],["id","nav-profile","role","tabpanel","aria-labelledby","nav-profile-tab",1,"tab-pane","fade"],[4,"ngIf"],[1,"container-fluid","mt-2",2,"text-align","center"],[1,"table","table-bordered","mt-1"],["class","alert alert-warning",4,"ngIf"],["scope","col"],[3,"class",4,"ngFor","ngForOf"],["id","nav-contact","role","tabpanel","aria-labelledby","nav-contact-tab",1,"tab-pane","fade"],["class","mt-4",4,"ngIf"],[1,"row","mt-4","mb-4"],[2,"text-align","center"],["class","Assign mt-3",3,"class",4,"ngFor","ngForOf"],["id","nav-req","role","tabpanel","aria-labelledby","nav-req-tab",1,"tab-pane","fade"],[1,"mt-2","mb-2"],[1,"table-responsive"],[1,"table","table-bordered"],["class","col-md-12 mb-3",3,"class",4,"ngFor","ngForOf"],[1,"col-md-12","mb-3"],[1,"teacher_head"],[1,"col-sm-6"],[1,"col-12"],[1,"col-6"],[1,"col-md-12","bg-light"],[3,"formGroup","ngSubmit"],["rows","3","placeholder","Type and share with everyone...",1,"mt-3","form-control",3,"formControl"],[1,"btn","btn-primary","btn-block","mt-2","mb-3",3,"disabled"],[1,"alert","alert-success"],[1,"card","card-body","p-2","mt-1"],[2,"color","rgb(73, 73, 248)"],["class","btn btn-danger float-right","style","font-size: 14px",3,"click",4,"ngIf"],[1,"btn","btn-danger","float-right",2,"font-size","14px",3,"click"],["id","nav-req-tab","data-toggle","tab","href","#nav-req","role","tab","aria-controls","nav-req","aria-selected","false",1,"nav-link"],[1,"alert","alert-success","mt-2","mb-4"],[1,"col-md-6"],[1,"container-fluid","p-1"],[1,"row","student_card"],[1,"col-3","student_logo"],["src","/assets/user logo.png"],[1,"col-9","student_detail"],["class","btn btn-danger view_btn p-1","style","font-size: 10px",3,"click",4,"ngIf"],[1,"btn","btn-danger","view_btn","p-1",2,"font-size","10px",3,"click"],[1,"col-md-12","mt-4",2,"text-align","center"],[1,"mt-2"],["type","text","placeholder","Explaination of Material",1,"form-control","add_con",3,"formControl"],["type","text","placeholder","Link of Material",1,"form-control","add_con",3,"formControl"],["type","submit",1,"btn","btn-primary","btn-block","mt-2","mb-3",3,"disabled"],[1,"alert","alert-warning"],["target","_blank",1,"btn","btn-success","mt-1","ml-2",2,"font-size","11px",3,"href"],["class","btn btn-danger mt-1 ml-2","style","font-size: 11px",3,"click",4,"ngIf"],[1,"btn","btn-danger","mt-1","ml-2",2,"font-size","11px",3,"click"],[1,"mt-4"],["type","text","placeholder","Assgnment Name",1,"form-control","mt-2",3,"formControl"],["type","date",1,"form-control","mt-2",3,"formControl"],["rows","4","placeholder","Assignment Description",1,"form-control","mt-2",3,"formControl"],[1,"btn","btn-block","btn-info","mt-2","mb-2",3,"disabled"],[1,"Assign","mt-3"],[2,"font-size","12px"],[2,"color","rgb(79, 79, 196)"],[1,"btn","btn-primary","btn-block",3,"routerLink"],[1,"btn","btn-success","btn-block",3,"click"]],template:function(t,e){1&t&&(Uo(0,SN,2,0,"div",0),Uo(1,YN,75,17,"div",1)),2&t&&(qo("ngIf",!e.status),fi(1),qo("ngIf",e.status))},directives:[ol,rl,Bh,wh,Qh,Yl,bh,Kh,EO],pipes:[ul],styles:[".teacher_head[_ngcontent-%COMP%]{width:100%;border-radius:10px;text-align:center;padding:40px;box-shadow:2px 2px 5px grey,-2px -2px 5px #d3d3d3;letter-spacing:1.5px}div[_ngcontent-%COMP%]{font-family:poppins,sans-serif}.teacher_head[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:left;font-size:25px;margin-bottom:15px;font-weight:700}.teacher_head[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:22px;text-align:left}.teacher_head[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.hr_line[_ngcontent-%COMP%]{background-color:#5e69ff;border-width:2px;width:100%}.student_text[_ngcontent-%COMP%]{font-size:36px;line-height:36px;letter-spacing:1px;margin-top:10px;margin-bottom:10px;margin-left:20px}.student_logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:auto}.student_logo[_ngcontent-%COMP%]{padding:10px;text-align:center;border:solid grey;border-width:0 1px 0 0}.student_detail[_ngcontent-%COMP%]{padding:10px}.student_detail[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:22px}.student_detail[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:19px}.student_card[_ngcontent-%COMP%]{padding:20px;box-shadow:1px 1px 3px grey,-1px -1px 3px #d3d3d3;border-radius:10px}.student_main_card[_ngcontent-%COMP%]{padding:40px}.view_btn[_ngcontent-%COMP%]{border-radius:50px;font-size:12px}.nav-tabs[_ngcontent-%COMP%]{margin:auto;letter-spacing:2px;font-size:25px;padding:10px}.nav-link[_ngcontent-%COMP%]{background-color:#fefefe}.add_con[_ngcontent-%COMP%], .Assign[_ngcontent-%COMP%]{padding:20px}.Assign[_ngcontent-%COMP%]{border-radius:10px;box-shadow:2px 2px 5px grey,-2px -2px 5px #d3d3d3}@media only screen and (max-width:1000px){.nav-tabs[_ngcontent-%COMP%]{font-size:14px;letter-spacing:0;padding:0}.nav-link[_ngcontent-%COMP%]{padding:5px}.teacher_head[_ngcontent-%COMP%]{letter-spacing:0;padding:15px}.teacher_head[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px;margin-bottom:5px;font-weight:600}.teacher_head[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px}.teacher_head[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600}.hr_line[_ngcontent-%COMP%]{border-width:1px}.student_detail[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:15px}.student_detail[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:12px}.student_logo[_ngcontent-%COMP%]{padding:0}.student_card[_ngcontent-%COMP%], .student_main_card[_ngcontent-%COMP%]{padding:5px}}"]}),t}();function ZN(t,e){if(1&t){var n=Ko();Ho(0,"button",20),Yo("click",function(){Ue(n);var t=Jo(2);return t.deleteStudent(t.currentID)}),ya(1," Exit Class "),zo()}}function JN(t,e){1&t&&(Ho(0,"p",21),ya(1," Remove All Students in the Class to Exit the class. "),zo())}function $N(t,e){if(1&t){var n=Ko();Ho(0,"button",20),Yo("click",function(){Ue(n);var t=Jo(2);return t.deleteStudent(t.currentID)}),ya(1," Leave Class "),zo()}}function tD(t,e){1&t&&(Ho(0,"h6"),ya(1,"Teacher Name"),zo())}function eD(t,e){1&t&&(Ho(0,"h6"),ya(1,"Class Name"),zo())}function nD(t,e){if(1&t&&(Ho(0,"div",22),ya(1),zo()),2&t){var n=Jo(2);fi(1),wa(" ",n.deleteSt," ")}}function rD(t,e){if(1&t&&(Ho(0,"div",23),ya(1),zo()),2&t){var n=Jo(2);fi(1),wa(" ",n.message," ")}}function iD(t,e){if(1&t){var n=Ko();Ho(0,"div"),Ho(1,"div",2),Ho(2,"h1"),ya(3,"Edit Class Details"),zo(),Ho(4,"div",3),Ho(5,"div",4),Go(6,"img",5),Ho(7,"p",6),ya(8,"Class Image (By Default)"),zo(),Uo(9,ZN,2,0,"button",7),Uo(10,JN,2,0,"p",8),Uo(11,$N,2,0,"button",7),zo(),Ho(12,"div",9),Ho(13,"div",10),Ho(14,"div",11),Ho(15,"h6"),ya(16,"Class Code"),zo(),Ho(17,"input",12),Yo("ngModelChange",function(t){return Ue(n),Jo().jcCode=t}),zo(),zo(),Ho(18,"div",13),Ho(19,"h6"),ya(20,"Your Name"),zo(),Ho(21,"input",14),Yo("ngModelChange",function(t){return Ue(n),Jo().jname=t}),zo(),zo(),zo(),Ho(22,"div",10),Ho(23,"div",15),Uo(24,tD,2,0,"h6",0),Uo(25,eD,2,0,"h6",0),Ho(26,"input",16),Yo("ngModelChange",function(t){return Ue(n),Jo().jcName=t}),zo(),zo(),Ho(27,"div",15),Ho(28,"h6"),ya(29,"Subject"),zo(),Ho(30,"input",16),Yo("ngModelChange",function(t){return Ue(n),Jo().jsubject=t}),zo(),zo(),Go(31,"div",15),Ho(32,"div",15),Ho(33,"button",17),Yo("click",function(){return Ue(n),Jo().updateClassDetatils()}),ya(34," Update "),zo(),Uo(35,nD,2,1,"div",18),zo(),zo(),zo(),zo(),Uo(36,rD,2,1,"div",19),zo(),zo()}if(2&t){var r=Jo();fi(9),qo("ngIf","teacher"==r.jtype&&r.lengthStudent<1),fi(1),qo("ngIf","teacher"==r.jtype&&r.lengthStudent<1),fi(1),qo("ngIf","student"==r.jtype),fi(6),qo("ngModel",r.jcCode),fi(4),qo("ngModel",r.jname),fi(3),qo("ngIf","student"==r.jtype),fi(1),qo("ngIf","teacher"==r.jtype),fi(1),qo("ngModel",r.jcName),fi(4),qo("ngModel",r.jsubject),fi(5),qo("ngIf",r.deleteSt.length>0),fi(1),qo("ngIf",r.message)}}function oD(t,e){1&t&&(Ho(0,"div",24),ya(1," You are not the member of this class\n"),zo())}var aD=function(){var t=function(){function t(n,r){var i=this;v(this,t),this.activatedRoute=n,this.ngZone=r,this.user={},this.classId=" ",this.currentStudent=[],this.currentUserClasses=[],this.status=!0,this.current1=[],this.totalStudents=[],this.deleteSt="";var o=this.activatedRoute.snapshot.paramMap.get("classId");this.classId=o;var a=Wf.auth().currentUser.uid;Wf.firestore().collection("classes").where("owner","==",a).get().then(function(t){i.currentUserClasses=t.docs;var n,r=e(i.currentUserClasses);try{for(r.s();!(n=r.n()).done;){var o=n.value;o=o.data().cCode,i.current1.push(o)}}catch(a){r.e(a)}finally{r.f()}i.status=-1!=i.current1.indexOf(i.classId)}).catch(function(t){console.log(t)}),Wf.firestore().collection("classes").where("cCode","==",o).where("type","==","student").get().then(function(t){i.totalStudents=t.docs,i.lengthStudent=i.totalStudents.length}).catch(function(t){console.log(t)}),Wf.firestore().collection("classes").where("cCode","==",o).where("owner","==",a).get().then(function(t){i.currentStudent=t.docs;var n,r=e(i.currentStudent);try{for(r.s();!(n=r.n()).done;){var o=n.value;i.currentID=o.id,i.jcCode=o.data().cCode,i.jname=o.data().name,i.jcName=o.data().className,i.jsubject=o.data().subject,i.jtype=o.data().type,i.currentClassId=o.id}}catch(a){r.e(a)}finally{r.f()}}).catch(function(t){console.log(t)})}return m(t,[{key:"ngOnInit",value:function(){}},{key:"updateClassDetatils",value:function(){var t=this;this.message="Updateding Class Details.",Wf.firestore().collection("classes").doc(this.currentClassId).update({name:this.jname,className:this.jcName,subject:this.jsubject}).then(function(){t.message="Class Details Updated Successfully."}).catch(function(t){console.log(t)})}},{key:"deleteStudent",value:function(t){var e=this;Wf.firestore().collection("classes").doc(t).delete().then(function(){e.deleteSt="Class left successfully. Refresh the page."})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(jo(rx),jo(Cu))},t.\u0275cmp=te({type:t,selectors:[["app-edit"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","container mt-5 mb-5",4,"ngIf"],[1,"container"],[1,"row"],[1,"col-md-4"],["src","/assets/class_icon.jpg",1,"img-circle"],[1,"img_text"],["class","btn btn-danger btn-block submit_btn mt-3",3,"click",4,"ngIf"],["style","color: red",4,"ngIf"],[1,"col-md-8","mt-5"],[1,"form-group","row"],[1,"col-md-5"],["type","text","readonly","",1,"form-control","form_input",3,"ngModel","ngModelChange"],[1,"col-md-7"],["type","text","placeholder","Name",1,"form-control","form_input",3,"ngModel","ngModelChange"],[1,"col-md-6"],["type","text",1,"form-control","form_input",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","btn-block","submit_btn","mt-3",3,"click"],["class","alert alert-success mt-2 mb-5",4,"ngIf"],["class","alert alert-success btn-block mt-2 fade show pull-left","role","alert",4,"ngIf"],[1,"btn","btn-danger","btn-block","submit_btn","mt-3",3,"click"],[2,"color","red"],[1,"alert","alert-success","mt-2","mb-5"],["role","alert",1,"alert","alert-success","btn-block","mt-2","fade","show","pull-left"],[1,"container","mt-5","mb-5"]],template:function(t,e){1&t&&(Uo(0,iD,37,11,"div",0),Uo(1,oD,2,0,"div",1)),2&t&&(qo("ngIf",e.status),fi(1),qo("ngIf",!e.status))},directives:[ol,Yl,bh,qh],styles:["div[_ngcontent-%COMP%]{font-family:poppins,sans-serif}.container[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px;margin-top:25px}.img-circle[_ngcontent-%COMP%]{width:80%}.img_text[_ngcontent-%COMP%]{font-size:20px;margin-top:20px}.form_input[_ngcontent-%COMP%]{padding:25px;font-size:18px;margin-bottom:15px}.form_input[_ngcontent-%COMP%]:focus{color:#000;background-color:#f8f8f8}.submit_btn[_ngcontent-%COMP%]{padding:15px;font-size:25px}@media only screen and (max-width:800px){.img-circle[_ngcontent-%COMP%]{width:150px;height:auto}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:30px}.img_text[_ngcontent-%COMP%]{font-size:12px}.form_input[_ngcontent-%COMP%]{padding:15px;font-size:15px}.submit_btn[_ngcontent-%COMP%]{padding:10px;font-size:18px}}"]}),t}(),sD=function(){var t=function(){function t(e){v(this,t),this.router=e}return m(t,[{key:"canActivate",value:function(t,e){var n=this;return new Promise(function(t,e){Wf.auth().onAuthStateChanged(function(e){e?t(!0):(n.router.navigate(["/home"]),t(!1))})})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(lr(SO))},t.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function uD(t,e){1&t&&(Ho(0,"div",3),ya(1," You are not the user of this class\n"),zo())}function cD(t,e){1&t&&(Ho(0,"div",4),ya(1," Teacher Removed this Assignment\n"),zo())}function lD(t,e){if(1&t&&(Ho(0,"div",15),ya(1),zo()),2&t){var n=Jo(4);fi(1),wa(" ",n.deleteAssignment," ")}}function hD(t,e){if(1&t){var n=Ko();Ho(0,"div",10),Ho(1,"div",11),Ho(2,"b"),ya(3),zo(),zo(),Ho(4,"div",11),Ho(5,"button",13),Yo("click",function(){Ue(n);var t=Jo().$implicit;return Jo(2).removeAssign(t.id)}),ya(6," Remove Assignment "),zo(),Uo(7,lD,2,1,"div",14),zo(),zo()}if(2&t){var r=Jo(3);fi(3),wa("Total Students ( ",r.totalStudents," )"),fi(4),qo("ngIf",r.deleteAssignment.length>0)}}function fD(t,e){if(1&t&&(Ho(0,"div",9),Ho(1,"h4"),ya(2),zo(),Go(3,"hr"),Ho(4,"p"),ya(5),zo(),Go(6,"hr"),Ho(7,"div",10),Ho(8,"div",11),Ho(9,"h6"),Ho(10,"b"),ya(11,"Due Date: "),zo(),ya(12),zo(),zo(),Ho(13,"div",11),Ho(14,"p"),Ho(15,"b"),ya(16,"Created On: "),zo(),ya(17),js(18,"date"),zo(),zo(),zo(),Uo(19,hD,8,2,"div",12),zo()),2&t){var n=e.$implicit,r=Jo(2);ua(n),fi(2),ba(n.data().name),fi(3),ba(n.data().desc),fi(7),ba(n.data().dueDate),fi(5),wa(" ",qs(18,7,n.data().createDate.toDate(),"MMM dd, yyyy (h:mm a)")," "),fi(2),qo("ngIf","teacher"==r.currentUser)}}function dD(t,e){if(1&t&&(Ho(0,"div",26),ya(1),zo()),2&t){var n=Jo(4);fi(1),wa(" ",n.submitMessage," ")}}function pD(t,e){if(1&t){var n=Ko();Ho(0,"div",19),Ho(1,"h4",20),ya(2,"Submit Assignment"),zo(),Ho(3,"form",21),Yo("ngSubmit",function(){Ue(n);var t=Jo(3);return t.subAssignment(t.submitAssignment)}),Go(4,"input",22),Go(5,"textarea",23),Ho(6,"button",24),ya(7," Submit Assignment "),zo(),Uo(8,dD,2,1,"div",25),zo(),zo()}if(2&t){var r=Jo(3);fi(3),qo("formGroup",r.submitAssignment),fi(1),qo("formControl",r.submitAssignment.controls.link),fi(1),qo("formControl",r.submitAssignment.controls.desc),fi(1),qo("disabled",!r.submitAssignment.valid),fi(2),qo("ngIf",r.submitMessage.length>0)}}function vD(t,e){if(1&t&&(Ho(0,"div",34),ya(1),zo()),2&t){var n=Jo(5);fi(1),wa(" ",n.deleteAssignment," ")}}function gD(t,e){if(1&t){var n=Ko();Ho(0,"div",29),Ho(1,"h4",30),ya(2," Assingment Submitted "),zo(),Ho(3,"p"),ya(4,"Link"),zo(),Ho(5,"a",31),ya(6),zo(),Go(7,"hr"),Ho(8,"p"),ya(9),zo(),Go(10,"hr"),Ho(11,"p",32),ya(12),js(13,"date"),zo(),Ho(14,"button",13),Yo("click",function(){var t=Ue(n).$implicit;return Jo(4).removeAssign(t.id)}),ya(15," Remove Assignment "),zo(),Uo(16,vD,2,1,"div",33),zo()}if(2&t){var r=e.$implicit,i=Jo(4);ua(r),fi(5),$o("href",r.data().name,_r),fi(1),ba(r.data().name),fi(3),ba(r.data().desc),fi(3),wa(" Submitted On: ",qs(13,7,r.data().createDate.toDate(),"MMM dd, yyyy (h:mm a)")," "),fi(4),qo("ngIf",i.deleteAssignment.length>0)}}function mD(t,e){if(1&t&&(Ho(0,"div",27),Uo(1,gD,17,10,"div",28),zo()),2&t){var n=Jo(3);fi(1),qo("ngForOf",n.submit)}}function yD(t,e){if(1&t&&(Ho(0,"div",16),Uo(1,pD,9,5,"div",17),Uo(2,mD,2,1,"div",18),zo()),2&t){var n=Jo(2);fi(1),qo("ngIf",n.assignmentSubmit<1),fi(1),qo("ngIf",n.assignmentSubmit>0)}}function bD(t,e){if(1&t&&(Ho(0,"div",38),Ho(1,"h4"),ya(2),zo(),Ho(3,"p"),Ho(4,"b"),ya(5,"Link: "),zo(),Ho(6,"a",31),ya(7),zo(),zo(),Ho(8,"p"),ya(9,"Description: "),Go(10,"br"),ya(11),zo(),Ho(12,"p",32),ya(13),js(14,"date"),zo(),zo()),2&t){var n=e.$implicit;ua(n),fi(2),wa("Student: ",n.data().user,""),fi(4),$o("href",n.data().name,_r),fi(1),ba(n.data().name),fi(4),ba(n.data().desc),fi(2),wa(" Submitted On: ",qs(14,7,n.data().createDate.toDate(),"MMM dd, yyyy (h:mm a)")," ")}}function wD(t,e){if(1&t&&(Ho(0,"div",35),Ho(1,"h4",36),ya(2),zo(),Uo(3,bD,15,10,"div",37),zo()),2&t){var n=Jo(2);fi(2),wa(" Submitted By ( ",n.submitlength," ) "),fi(1),qo("ngForOf",n.submitby)}}function _D(t,e){if(1&t&&(Ho(0,"div"),Ho(1,"div",5),Uo(2,fD,20,10,"div",6),Uo(3,yD,3,2,"div",7),zo(),Uo(4,wD,4,2,"div",8),zo()),2&t){var n=Jo();fi(2),qo("ngForOf",n.assignments),fi(1),qo("ngIf","student"==n.currentUser),fi(1),qo("ngIf","teacher"==n.currentUser)}}var kD,ID=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:aN},{path:"login",component:$O},{path:"create",component:cN,canActivate:[sD]},{path:"class",component:_N,canActivate:[sD]},{path:"teacher",redirectTo:"class",canActivate:[sD]},{path:"teacher/:classId",component:XN,canActivate:[sD]},{path:"profile",component:IN,canActivate:[sD]},{path:"edit/:classId",component:aD,canActivate:[sD]},{path:"assignment/:assignmentId",component:(kD=function(){function t(n,r,i,o){var a=this;v(this,t),this.activatedRoute=n,this.ngZone=r,this.fb=i,this.authService=o,this.assignments=[],this.studentClass=[],this.current=[],this.currentUserClasses=[],this.submitMessage="",this.dueDate=Date(),this.submit=[],this.submitby=[],this.deleteAssignment="",this.teacherA=[],this.status=!0,this.current1=[],this.submitAssignment=this.fb.group({link:["",[eh.required]],desc:["",[eh.required]]});var s=Wf.auth().currentUser.uid;this.currentUserID=s;var u=this.activatedRoute.snapshot.paramMap.get("assignmentId");this.assignmentId=u,Wf.firestore().collection("assignments").where("owner","==",s).where("type","==","student").where("assignmentId","==",u).get().then(function(t){a.submit=t.docs,a.assignmentSubmit=a.submit.length}).catch(function(t){console.log(t)}),Wf.firestore().collection("assignments").where("type","==","student").where("assignmentId","==",u).get().then(function(t){a.submitby=t.docs,a.submitlength=a.submitby.length}).catch(function(t){console.log(t)}),Wf.firestore().collection("assignments").where("assignmentId","==",u).where("type","==","teacher").get().then(function(t){a.assignments=t.docs;var n,r=e(a.assignments);try{for(r.s();!(n=r.n()).done;){var i=n.value;a.currentClass=i.data().cCode,a.dueDate=i.data().dueDate}}catch(o){r.e(o)}finally{r.f()}Wf.firestore().collection("classes").where("owner","==",s).where("status","==","allow").get().then(function(t){a.currentUserClasses=t.docs;var n,r=e(a.currentUserClasses);try{for(r.s();!(n=r.n()).done;){var i=n.value;i=i.data().cCode,a.current1.push(i)}}catch(o){r.e(o)}finally{r.f()}a.status=-1!=a.current1.indexOf(a.currentClass)}).catch(function(t){console.log(t)}),Wf.firestore().collection("classes").where("cCode","==",a.currentClass).where("type","==","student").where("status","==","allow").get().then(function(t){a.studentClass=t.docs,a.totalStudents=a.studentClass.length}).catch(function(t){console.log(t)}),Wf.firestore().collection("assignments").where("assignmentId","==",u).where("type","==","teacher").get().then(function(t){a.teacherA=t.docs,a.teacherS=a.teacherA.length}).catch(function(t){console.log(t)}),Wf.firestore().collection("classes").where("cCode","==",a.currentClass).where("owner","==",s).get().then(function(t){a.current=t.docs;var n,r=e(a.current);try{for(r.s();!(n=r.n()).done;){var i=n.value;a.currentUser=i.data().type,a.currentName=i.data().name}}catch(o){r.e(o)}finally{r.f()}}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})}return m(t,[{key:"ngOnInit",value:function(){}},{key:"subAssignment",value:function(t){var e=this,n=t.value.desc,r=t.value.link;Wf.firestore().collection("assignments").add({user:this.currentName,desc:n,name:r,assignmentId:this.assignmentId,cCode:this.currentClass,type:"student",createDate:Wf.firestore.FieldValue.serverTimestamp(),owner:Wf.auth().currentUser.uid}).then(function(t){console.log(t),e.submitMessage="Posted Successfully.  Refresh the page."}).catch(function(t){console.log(t)})}},{key:"removeAssign",value:function(t){var e=this;Wf.firestore().collection("assignments").doc(t).delete().then(function(){e.deleteAssignment="Assignment removed Successfully. Refresh the page."})}}]),t}(),kD.\u0275fac=function(t){return new(t||kD)(jo(rx),jo(Cu),jo(Jh),jo(QO))},kD.\u0275cmp=te({type:kD,selectors:[["app-assignment"]],decls:3,vars:3,consts:[["class","container mt-5 mb-5",4,"ngIf"],["class","container mt-5 mt-5",4,"ngIf"],[4,"ngIf"],[1,"container","mt-5","mb-5"],[1,"container","mt-5","mt-5"],[1,"container"],["class","Assign mt-3",3,"class",4,"ngFor","ngForOf"],["class","row mt-5",4,"ngIf"],["class","container mt-5",4,"ngIf"],[1,"Assign","mt-3"],[1,"row"],[1,"col-sm-6"],["class","row",4,"ngIf"],[1,"btn","btn-block","btn-danger",3,"click"],["class","alert alert-success",4,"ngIf"],[1,"alert","alert-success"],[1,"row","mt-5"],["class","col-md-12",4,"ngIf"],["class","col-md-12 mb-5",4,"ngIf"],[1,"col-md-12"],[1,"mt-2","mb-2",2,"text-align","center"],[3,"formGroup","ngSubmit"],["type","text","placeholder","Link of Assignment File",1,"form-control",3,"formControl"],["placeholder","Assignment Description",1,"mt-3","form-control",3,"formControl"],[1,"btn","btn-success","btn-block","mt-4",3,"disabled"],["class","alert alert-success mt-2",4,"ngIf"],[1,"alert","alert-success","mt-2"],[1,"col-md-12","mb-5"],["class","Assign container-fluid",3,"class",4,"ngFor","ngForOf"],[1,"Assign","container-fluid"],[1,"mt-4","mb-3",2,"text-align","center"],["target","_blank",3,"href"],[2,"font-size","12px"],["class","alert alert-success mt-2 mb-5",4,"ngIf"],[1,"alert","alert-success","mt-2","mb-5"],[1,"container","mt-5"],[1,"mb-3",2,"text-align","center"],["class","Assign",3,"class",4,"ngFor","ngForOf"],[1,"Assign"]],template:function(t,e){1&t&&(Uo(0,uD,2,0,"div",0),Uo(1,cD,2,0,"div",1),Uo(2,_D,5,3,"div",2)),2&t&&(qo("ngIf",!e.status),fi(1),qo("ngIf",e.teacherS<1),fi(1),qo("ngIf",e.status&&e.teacherS>0))},directives:[ol,rl,Bh,wh,Qh,Yl,bh,Kh],pipes:[ul],styles:[".Assign[_ngcontent-%COMP%]{padding:20px;border-radius:10px;box-shadow:2px 2px 5px grey,-2px -2px 5px #d3d3d3}"]}),kD),canActivate:[sD]},{path:"**",redirectTo:"home"}],SD=function(){var t=function t(){v(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ie({type:t}),t.\u0275inj=St({imports:[[UO.forRoot(ID)],UO]}),t}();function ED(t,e){1&t&&(Ho(0,"li",11),Ho(1,"a",12),ya(2,"Home"),zo(),zo())}function CD(t,e){1&t&&(Ho(0,"li",11),Ho(1,"a",13),ya(2,"Class"),zo(),zo())}function TD(t,e){1&t&&(Ho(0,"li",11),Ho(1,"a",14),ya(2,"My Profile"),zo(),zo())}function AD(t,e){1&t&&(Ho(0,"li",15),Ho(1,"button",16),ya(2," Login "),zo(),zo())}function xD(t,e){if(1&t){var n=Ko();Ho(0,"li",17),Ho(1,"a",18),Yo("click",function(){return Ue(n),Jo().logout()}),ya(2,"Log out"),zo(),zo()}}var OD=function(){var t=function(){function t(){var e=this;v(this,t),this.loggedIn=!1,this.user=Wf.auth().currentUser,this.loggedIn=!!this.user,Wf.auth().onAuthStateChanged(function(t){e.user=t,e.loggedIn=!!t})}return m(t,[{key:"ngOnInit",value:function(){}},{key:"logout",value:function(){Wf.auth().signOut()}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=te({type:t,selectors:[["app-menu"]],decls:15,vars:5,consts:[[1,"navbar","navbar-expand-lg"],[1,"navbar-brand"],[1,"fas","fa-laptop","mr-2"],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"fas","fa-bars"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],["class","nav-item","routerLinkActive","active","data-toggle","collapse","data-target",".navbar-collapse",4,"ngIf"],[1,"navbar-nav","ml-auto"],["class","nav-item right","routerLinkActive","active","data-toggle","collapse","data-target",".navbar-collapse",4,"ngIf"],["class","nav-item right",4,"ngIf"],["routerLinkActive","active","data-toggle","collapse","data-target",".navbar-collapse",1,"nav-item"],["routerLink","/home",1,"nav-link"],["routerLink","/class",1,"nav-link"],["routerLink","/profile",1,"nav-link"],["routerLinkActive","active","data-toggle","collapse","data-target",".navbar-collapse",1,"nav-item","right"],["routerLink","/login",1,"btn","btn-outline-light","px-5"],[1,"nav-item","right"],["routerLink","/",1,"nav-link",3,"click"]],template:function(t,e){1&t&&(Ho(0,"nav",0),Ho(1,"a",1),Go(2,"i",2),Ho(3,"i"),ya(4,"Classroom "),zo(),zo(),Ho(5,"button",3),Go(6,"i",4),zo(),Ho(7,"div",5),Ho(8,"ul",6),Uo(9,ED,3,0,"li",7),Uo(10,CD,3,0,"li",7),Uo(11,TD,3,0,"li",7),zo(),Ho(12,"ul",8),Uo(13,AD,3,0,"li",9),Uo(14,xD,3,0,"li",10),zo(),zo(),zo()),2&t&&(fi(9),qo("ngIf",!e.loggedIn),fi(1),qo("ngIf",e.loggedIn),fi(1),qo("ngIf",e.loggedIn),fi(2),qo("ngIf",!e.loggedIn),fi(1),qo("ngIf",e.loggedIn))},directives:[ol,AO,CO,EO],styles:[".login[_ngcontent-%COMP%]{width:30%}.nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:20px;color:#fff}.nav-item[_ngcontent-%COMP%]:hover{letter-spacing:1px;transition:letter-spacing .5s}.btn[_ngcontent-%COMP%]{border-radius:50px;font-size:20px}.navbar[_ngcontent-%COMP%]{background-color:#385cff;box-shadow:0 2px 5px #a2b2ff;margin-bottom:10px;color:#fff;font-family:Poppins,sans-serif}.fas[_ngcontent-%COMP%]{font-size:25px;color:#fff}.navbar-toggler[_ngcontent-%COMP%]:focus{outline:none}"]}),t}(),ND=function(){var t=function t(){v(this,t),this.title="Classroom"};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=te({type:t,selectors:[["app-root"]],decls:3,vars:0,consts:[["rel","stylesheet","href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"]],template:function(t,e){1&t&&(Go(0,"link",0),Go(1,"app-menu"),Go(2,"router-outlet"))},directives:[OD,xO],styles:["h1[_ngcontent-%COMP%]{color:#00f}h1[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{text-align:center;font-size:40px}p[_ngcontent-%COMP%]{color:#000}@media only screen and (max-width:1440px){h1[_ngcontent-%COMP%]{font-size:32px;line-height:40px}h2[_ngcontent-%COMP%]{font-size:30px;line-height:36px}h3[_ngcontent-%COMP%]{font-size:28px;line-height:33px}h4[_ngcontent-%COMP%]{font-size:26px;line-height:30px}h5[_ngcontent-%COMP%]{font-size:24px;line-height:28px}h6[_ngcontent-%COMP%]{font-size:22px;line-height:26px}a[_ngcontent-%COMP%], li[_ngcontent-%COMP%], p[_ngcontent-%COMP%], td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]{font-size:18px;line-height:24px}}@media only screen and (max-width:1200px){h1[_ngcontent-%COMP%]{font-size:28px;line-height:32px}h2[_ngcontent-%COMP%]{font-size:26px;line-height:30px}h3[_ngcontent-%COMP%]{font-size:24px;line-height:28px}h4[_ngcontent-%COMP%]{font-size:22px;line-height:26px}h5[_ngcontent-%COMP%]{font-size:20px;line-height:24px}h6[_ngcontent-%COMP%]{font-size:18px;line-height:22px}a[_ngcontent-%COMP%], li[_ngcontent-%COMP%], p[_ngcontent-%COMP%], td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]{font-size:16px;line-height:20px}}@media only screen and (max-width:992px){h1[_ngcontent-%COMP%]{font-size:24px;line-height:24px}h2[_ngcontent-%COMP%]{font-size:22px;line-height:23px}h3[_ngcontent-%COMP%]{font-size:20px;line-height:22px}h4[_ngcontent-%COMP%]{font-size:19px;line-height:21px}h5[_ngcontent-%COMP%]{font-size:18px;line-height:20px}h6[_ngcontent-%COMP%]{font-size:16px;line-height:19px}a[_ngcontent-%COMP%], li[_ngcontent-%COMP%], p[_ngcontent-%COMP%], td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]{font-size:14px;line-height:16px}}@media only screen and (max-width:768px){h1[_ngcontent-%COMP%]{font-size:22px;line-height:18px}h2[_ngcontent-%COMP%]{font-size:20px;line-height:17px}h3[_ngcontent-%COMP%]{font-size:18px;line-height:16px}h4[_ngcontent-%COMP%]{font-size:16px;line-height:15px}h5[_ngcontent-%COMP%]{font-size:14px;line-height:14px}h6[_ngcontent-%COMP%]{font-size:13px;line-height:13px}a[_ngcontent-%COMP%], li[_ngcontent-%COMP%], p[_ngcontent-%COMP%], td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]{font-size:12px;line-height:11px}}"]}),t}();Wf.initializeApp({apiKey:"AIzaSyBbHCQQ-TybD3ShtYEIY3Eeubm1Gp_nEb0",authDomain:"signup-cbcaa.firebaseapp.com",databaseURL:"https://signup-cbcaa.firebaseio.com",projectId:"signup-cbcaa",storageBucket:"signup-cbcaa.appspot.com",messagingSenderId:"966010309771",appId:"1:966010309771:web:c62d432e2c2a1805b5d88e",measurementId:"G-ZYJHV8VVZR"});var DD=function(){var t=function t(){v(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ie({type:t,bootstrap:[ND]}),t.\u0275inj=St({providers:[],imports:[[Bl,SD,Xh,Zh]]}),t}();(function(){if(Vu)throw new Error("Cannot enable prod mode after platform setup.");Fu=!1})(),jl().bootstrapModule(DD).catch(function(t){return console.error(t)})}},function(t){"use strict";t(t.s=682)}])}();